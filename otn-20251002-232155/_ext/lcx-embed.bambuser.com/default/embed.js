/*! For license information please see embed.js.LICENSE.txt */
!function(){var e,t,n={1401:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Eq:function(){return p},In:function(){return v},NR:function(){return y},Pr:function(){return _},Ug:function(){return w},Ze:function(){return u},bZ:function(){return s},eh:function(){return b},hN:function(){return c},hT:function(){return E},hw:function(){return i},mL:function(){return o},sJ:function(){return g},wh:function(){return a},yM:function(){return m}}),n(1414),n(1413),n(9139),n(6028),n(4159),n(6187),n(8690),n(9228),n(3227),n(4011),n(1431),n(8646),n(4134),n(8949),n(1270);var i="livecommerce:",o={ACTION_CARD_CLICKED:"".concat(i,"action-card-clicked"),ADD_TO_WISHLIST:"".concat(i,"add-to-wishlist"),ADD_TO_CART:"".concat(i,"should-add-item-to-cart"),CHAT_MESSAGES:"".concat(i,"chat-messages"),CHECKOUT:"".concat(i,"goto-checkout"),CLOSE:"".concat(i,"close"),CSS_OVERRIDES:"".concat(i,"css-overrides"),CURRENT_BASEPAGE_SCROLLTOP:"".concat(i,"current-basepage-scrolltop"),CURRENT_BASEPAGE_VIEWPORT:"".concat(i,"current-basepage-viewport"),DO_SYNC_CART_STATE:"".concat(i,"sync-cart-state"),ENTERED_PICTURE_IN_PICTURE:"".concat(i,"entered-picture-in-picture"),EXIT_PICTURE_IN_PICTURE:"".concat(i,"exit-picture-in-picture"),EXITED_PICTURE_IN_PICTURE:"".concat(i,"exited-picture-in-picture"),EXTERNAL_EVENT_HANDLERS:"".concat(i,"external-event-handlers"),EXTERNAL_PLAYER_CONTROLLER_CHANGE:"".concat(i,"external-player-controller-change"),EXTERNAL_PLAYER_CONTROLLER_CONTROLS:"".concat(i,"external-player-controller-controls"),EXTERNAL_PLAYER_CONTROLLER_EVENTS:"".concat(i,"external-player-controller-events"),EXTERNAL_PLAYER_CONTROLLER_HIDE:"".concat(i,"external-player-controller-hide"),EXTERNAL_PLAYER_CONTROLLER_LOAD:"".concat(i,"external-player-controller-load"),EXTERNAL_PLAYER_CONTROLLER_MUTE:"".concat(i,"external-player-controller-mute"),EXTERNAL_PLAYER_CONTROLLER_NEW:"".concat(i,"external-player-controller-new"),EXTERNAL_PLAYER_CONTROLLER_PAUSE:"".concat(i,"external-player-controller-pause"),EXTERNAL_PLAYER_CONTROLLER_PLAY:"".concat(i,"external-player-controller-play"),EXTERNAL_PLAYER_CONTROLLER_REMOVE:"".concat(i,"external-player-controller-remove"),EXTERNAL_PLAYER_CONTROLLER_RESIZE:"".concat(i,"external-player-controller-resize"),EXTERNAL_PLAYER_CONTROLLER_SCALE_MODE:"".concat(i,"external-player-controller-scale-mode"),EXTERNAL_PLAYER_CONTROLLER_SEEK:"".concat(i,"external-player-controller-seek"),EXTERNAL_PLAYER_CONTROLLER_SHOW:"".concat(i,"external-player-controller-show"),EXTERNAL_PLAYER_CONTROLLER_PLAYBACK_SPEED:"".concat(i,"external-player-controller-playback-speed"),FOCUS_FIRST_INSIDE_IFRAME:"".concat(i,"focus-first-inside-iframe"),FOCUS_FIRST_OUTSIDE_IFRAME:"".concat(i,"focus-first-outside-iframe"),FOCUS_LAST_INSIDE_IFRAME:"".concat(i,"focus-last-inside-iframe"),FOCUS_LAST_OUTSIDE_IFRAME:"".concat(i,"focus-last-outside-iframe"),FOCUS_LEAVE:"".concat(i,"focus-leave"),FOCUS_WEB_COMPONENT_OUTSIDE_IFRAME:"".concat(i,"focus-web-component-outside-iframe"),FULLSCREEN_ENTER:"".concat(i,"fullscreen-enter"),FULLSCREEN_EXIT:"".concat(i,"fullscreen-exit"),HIDE_CART:"".concat(i,"should-hide-cart"),HIDE_CHAT_OVERLAY:"".concat(i,"should-hide-chat-overlay"),HIDE_PRODUCT_LIST:"".concat(i,"should-hide-product-list"),HIDE_PRODUCT_VIEW:"".concat(i,"should-hide-product-view"),HIDE_UI:"".concat(i,"should-hide-ui"),LOAD:"".concat(i,"load"),LOAD_ERROR:"".concat(i,"load-error"),MINI_PLAYER_DRAG_START:"".concat(i,"mini-player-drag-start"),MINI_PLAYER_DRAG_END:"".concat(i,"mini-player-drag-end"),MINI_PLAYER_MOVE:"".concat(i,"mini-player-move"),MINI_PLAYER_RESTORE:"".concat(i,"mini-player-restore"),MINIMIZE:"".concat(i,"minimize"),MINIMIZED_ACTION_OVERLAY:"".concat(i,"minimized-action-overlay"),MUTE:"".concat(i,"mute"),MUTED:"".concat(i,"muted"),NAVIGATE_BEHIND_TO:"".concat(i,"navigate-behind-to"),NOTIFY_URL_CHANGE:"".concat(i,"notify-url-change"),ON_PROGRESS:"".concat(i,"on-progress-update"),OPEN_EXTERNAL_BROWSER_SUCCESS:"".concat(i,"open-external-browser-success"),OPEN_EXTERNAL_BROWSER:"".concat(i,"open-external-browser"),OPEN_URL:"".concat(i,"open-url"),OPEN_WISHLIST:"".concat(i,"open-wishlist"),OPEN_WISHLIST_LOGIN:"".concat(i,"open-wishlist-login"),PAUSE:"".concat(i,"pause"),PLAY:"".concat(i,"play"),PLAYBACK_STATUS:"".concat(i,"playback-status"),PLAYER_CONTAINER_UPDATE:"".concat(i,"player-container-update"),PLAYER_SWIPE_DOWN:"".concat(i,"player-swipe-down"),PLAYER_SWIPE_LEFT:"".concat(i,"player-swipe-left"),PLAYER_SWIPE_RIGHT:"".concat(i,"player-swipe-right"),PLAYER_SWIPE_UP:"".concat(i,"player-swipe-up"),PREVIEW_SHOULD_EXPAND:"".concat(i,"preview-should-expand"),PRODUCT_HIGHLIGHT_LIST:"".concat(i,"product-highlight-list"),PROVIDE_PRODUCT_DATA:"".concat(i,"provide-product-data"),PROVIDE_WISHLIST_STATUS:"".concat(i,"provide-wishlist-status"),READY:"".concat(i,"ready"),REMOVE_FROM_WISHLIST:"".concat(i,"remove-from-wishlist"),REQUEST_EVENT_CHANGE:"".concat(i,"request-event-change"),REQUEST_PICTURE_IN_PICTURE:"".concat(i,"request-picture-in-picture"),RESET_BASE_PAGE_SCROLL:"".concat(i,"reset-base-page-scroll"),RESPONSE:"".concat(i,"response"),SEEK_TO_PERCENT:"".concat(i,"seek-to-percent"),SET_APP_CONTEXT:"".concat(i,"set-app-context"),SET_CLOSE_ICON:"".concat(i,"set-close-icon"),SET_RESTORE_ICON:"".concat(i,"set-restore-icon"),SET_ROOT_FONT_SIZE:"".concat(i,"set-root-font-size"),SET_VIDEO_STATE:"".concat(i,"set-video-state"),SET_VIEWPORT_STATE:"".concat(i,"set-viewport-state"),SHOW_ADD_TO_CALENDAR:"".concat(i,"should-show-add-to-calendar"),SHOW_CART:"".concat(i,"should-show-cart"),SHOW_CHAT_OVERLAY:"".concat(i,"should-show-chat-overlay"),SHOW_EMOJI_BATCH:"".concat(i,"should-show-emoji-batch"),SHOW_PRODUCT_LIST:"".concat(i,"should-show-product-list"),SHOW_PRODUCT_VIEW:"".concat(i,"should-show-product-view"),SHOW_SHARE:"".concat(i,"should-show-share"),SHOW_UI:"".concat(i,"should-show-ui"),SUBSCRIBE:"".concat(i,"subscribe"),SYNC_CART_STATE:"".concat(i,"should-sync-cart-state"),THEME_UPDATE:"".concat(i,"theme-update"),TOP_UI_ELEMENT_HIDDEN:"".concat(i,"top-ui-element-hidden"),TOP_UI_ELEMENT_SHOWN:"".concat(i,"top-ui-element-shown"),TRACKING_POINT:"".concat(i,"tracking-point"),TRACKING_SEND_EVENT:"".concat(i,"tracking-send-event"),TRACKING_TAGS:"".concat(i,"tracking-tags"),UNMUTE:"".concat(i,"unmute"),UNMUTED:"".concat(i,"unmuted"),UNSUBSCRIBE:"".concat(i,"unsubscribe"),UPDATE_ITEM_IN_CART:"".concat(i,"should-update-item-in-cart"),UPDATE_PRODUCT_HIGHLIGHT:"".concat(i,"should-update-product-highlight"),UPDATE_SAFE_AREA_INSETS:"".concat(i,"update-safe-area-insets"),UPDATE_SHOW_STATUS:"".concat(i,"should-update-show-status")},a=Object.entries(o).reduce((function(e,t){var n,o,a=(o=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(n,o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1];return e[s]=c.replace(i,""),e}),{}),s="livecommerce-surf:",c={ACCEPTED_REQUEST_OPEN_SHOW:"".concat(s,"accepted-request-open-show"),REQUEST_OPEN_SHOW:"".concat(s,"request-open-show"),REQUEST_SURF_BEHIND_TO:"".concat(s,"request-surf-behind-to")},u={AUTO:"auto",CLOSE:"close",INLINE:"inline",LINK:"link",MINIMIZE:"minimize",NONE:"none",EVENT:"event"},l=[o.ADD_TO_CART,o.CHECKOUT,o.PROVIDE_PRODUCT_DATA,o.UPDATE_ITEM_IN_CART],d=[o.ACTION_CARD_CLICKED,o.ADD_TO_WISHLIST,o.CHAT_MESSAGES,o.ENTERED_PICTURE_IN_PICTURE,o.EXITED_PICTURE_IN_PICTURE,o.FOCUS_WEB_COMPONENT_OUTSIDE_IFRAME,o.HIDE_CART,o.HIDE_CHAT_OVERLAY,o.HIDE_PRODUCT_LIST,o.HIDE_PRODUCT_VIEW,o.MUTED,o.NOTIFY_URL_CHANGE,o.OPEN_URL,o.OPEN_WISHLIST,o.OPEN_WISHLIST_LOGIN,o.PLAYBACK_STATUS,o.PLAYER_CONTAINER_UPDATE,o.PLAYER_SWIPE_DOWN,o.PLAYER_SWIPE_LEFT,o.PLAYER_SWIPE_RIGHT,o.PLAYER_SWIPE_UP,o.PREVIEW_SHOULD_EXPAND,o.PROVIDE_WISHLIST_STATUS,o.REMOVE_FROM_WISHLIST,o.SHOW_ADD_TO_CALENDAR,o.SHOW_CART,o.SHOW_CHAT_OVERLAY,o.SHOW_EMOJI_BATCH,o.SHOW_PRODUCT_LIST,o.SHOW_PRODUCT_VIEW,o.SHOW_SHARE,o.SUBSCRIBE,o.TOP_UI_ELEMENT_HIDDEN,o.TOP_UI_ELEMENT_SHOWN,o.UNMUTED,o.UNSUBSCRIBE,o.UPDATE_PRODUCT_HIGHLIGHT,o.UPDATE_SHOW_STATUS],f=[o.LOAD,o.LOAD_ERROR],h=[o.EXTERNAL_PLAYER_CONTROLLER_CONTROLS,o.EXTERNAL_PLAYER_CONTROLLER_HIDE,o.EXTERNAL_PLAYER_CONTROLLER_LOAD,o.EXTERNAL_PLAYER_CONTROLLER_MUTE,o.EXTERNAL_PLAYER_CONTROLLER_NEW,o.EXTERNAL_PLAYER_CONTROLLER_PAUSE,o.EXTERNAL_PLAYER_CONTROLLER_PLAY,o.EXTERNAL_PLAYER_CONTROLLER_REMOVE,o.EXTERNAL_PLAYER_CONTROLLER_RESIZE,o.EXTERNAL_PLAYER_CONTROLLER_SCALE_MODE,o.EXTERNAL_PLAYER_CONTROLLER_SEEK,o.EXTERNAL_PLAYER_CONTROLLER_SHOW,o.EXTERNAL_PLAYER_CONTROLLER_PLAYBACK_SPEED],p=[].concat(l,d,f,h),y={IFRAME_SRCDOC:"srcdoc",IFRAME:"iframe",MANUAL:"manual"},v={STAGE:"G-2GD03VB4T7",PROD:"G-MY3DDVP96E"},m="_bamls",g={CUSTOMER_ID:"".concat(m,"_cuid"),LAST_INTERACTION_TIMESTAMP:"".concat(m,"_lits"),SESSION_ID:"".concat(m,"_seid"),SHOW_ID:"".concat(m,"_shid"),USER_ID:"".concat(m,"_usid"),LOCALIZED_CONVERSION_TRACKING_EXPIRY:"".concat(m,"_lcte")},b={EAST:"E",NORTH_EAST:"NE",NORTH_WEST:"NW",NORTH:"N",SOUTH_EAST:"SE",SOUTH_WEST:"SW",SOUTH:"S",WEST:"W"},w={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},_={SMALL:"small",LARGE:"large"},E={HORIZONTAL:"horizontal",VERTICAL:"vertical"}},1707:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),h=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},1575:function(e,t,n){"use strict";var r=n(5893),i=n(5545),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},7329:function(e,t,n){"use strict";var r=n(5434),i=n(5545),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},9272:function(e,t,n){"use strict";var r=n(545),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},9408:function(e,t,n){"use strict";var r=n(7936),i=n(9464),o=n(7144).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},9384:function(e,t,n){"use strict";var r=n(8373).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9064:function(e,t,n){"use strict";var r=n(2075),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},9972:function(e,t,n){"use strict";var r=n(5287),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},5828:function(e,t,n){"use strict";var r=n(5306);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},5679:function(e,t,n){"use strict";var r=n(6767).forEach,i=n(519)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},993:function(e,t,n){"use strict";var r=n(5898),i=n(1550),o=n(5864),a=n(608),s=n(2943),c=n(5434),u=n(9969),l=n(6968),d=n(3159),f=n(5536),h=Array;e.exports=function(e){var t=o(e),n=c(this),p=arguments.length,y=p>1?arguments[1]:void 0,v=void 0!==y;v&&(y=r(y,p>2?arguments[2]:void 0));var m,g,b,w,_,E,S=f(t),P=0;if(!S||this===h&&s(S))for(m=u(t),g=n?new this(m):h(m);m>P;P++)E=v?y(t[P],P):t[P],l(g,P,E);else for(_=(w=d(t,S)).next,g=n?new this:[];!(b=i(_,w)).done;P++)E=v?a(w,y,[b.value,P],!0):b.value,l(g,P,E);return g.length=P,g}},2971:function(e,t,n){"use strict";var r=n(9405),i=n(9961),o=n(9969),a=function(e){return function(t,n,a){var s,c=r(t),u=o(c),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6767:function(e,t,n){"use strict";var r=n(5898),i=n(6406),o=n(5366),a=n(5864),s=n(9969),c=n(5008),u=i([].push),l=function(e){var t=1===e,n=2===e,i=3===e,l=4===e,d=6===e,f=7===e,h=5===e||d;return function(p,y,v,m){for(var g,b,w=a(p),_=o(w),E=s(_),S=r(y,v),P=0,O=m||c,x=t?O(p,E):n||f?O(p,0):void 0;E>P;P++)if((h||P in _)&&(b=S(g=_[P],P,w),e))if(t)x[P]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return P;case 2:u(x,g)}else switch(e){case 4:return!1;case 7:u(x,g)}return d?-1:i||l?l:x}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6251:function(e,t,n){"use strict";var r=n(5306),i=n(7936),o=n(7245),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},519:function(e,t,n){"use strict";var r=n(5306);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},8576:function(e,t,n){"use strict";var r=n(3877),i=n(5289),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},39:function(e,t,n){"use strict";var r=n(6406);e.exports=r([].slice)},8377:function(e,t,n){"use strict";var r=n(39),i=Math.floor,o=function(e,t){var n=e.length;if(n<8)for(var a,s,c=1;c<n;){for(s=c,a=e[c];s&&t(e[s-1],a)>0;)e[s]=e[--s];s!==c++&&(e[s]=a)}else for(var u=i(n/2),l=o(r(e,0,u),t),d=o(r(e,u),t),f=l.length,h=d.length,p=0,y=0;p<f||y<h;)e[p+y]=p<f&&y<h?t(l[p],d[y])<=0?l[p++]:d[y++]:p<f?l[p++]:d[y++];return e};e.exports=o},7866:function(e,t,n){"use strict";var r=n(5289),i=n(5434),o=n(5287),a=n(7936)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},5008:function(e,t,n){"use strict";var r=n(7866);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},608:function(e,t,n){"use strict";var r=n(9972),i=n(6335);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},7246:function(e,t,n){"use strict";var r=n(7936)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},3048:function(e,t,n){"use strict";var r=n(6406),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},5683:function(e,t,n){"use strict";var r=n(6623),i=n(5893),o=n(3048),a=n(7936)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:c?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},3861:function(e,t,n){"use strict";var r=n(9464),i=n(5023),o=n(9990),a=n(5898),s=n(9064),c=n(7707),u=n(2003),l=n(7227),d=n(4160),f=n(7001),h=n(3877),p=n(7898).fastKey,y=n(9930),v=y.set,m=y.getterFor;e.exports={getConstructor:function(e,t,n,l){var d=e((function(e,i){s(e,f),v(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),h||(e.size=0),c(i)||u(i,e[l],{that:e,AS_ENTRIES:n})})),f=d.prototype,y=m(t),g=function(e,t,n){var r,i,o=y(e),a=b(e,t);return a?a.value=n:(o.last=a={index:i=p(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},b=function(e,t){var n,r=y(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return o(f,{clear:function(){for(var e=y(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),t=t.next;e.first=e.last=void 0,e.index=r(null),h?e.size=0:this.size=0},delete:function(e){var t=this,n=y(t),r=b(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),h?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=y(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),o(f,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),h&&i(f,"size",{configurable:!0,get:function(){return y(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);l(e,t,(function(e,t){v(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),f(t)}}},8683:function(e,t,n){"use strict";var r=n(6406),i=n(9990),o=n(7898).getWeakData,a=n(9064),s=n(9972),c=n(7707),u=n(5287),l=n(2003),d=n(6767),f=n(4130),h=n(9930),p=h.set,y=h.getterFor,v=d.find,m=d.findIndex,g=r([].splice),b=0,w=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},E=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=E(this,e);if(t)return t[1]},has:function(e){return!!E(this,e)},set:function(e,t){var n=E(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&g(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){a(e,h),p(e,{type:t,id:b++,frozen:void 0}),c(i)||l(i,e[r],{that:e,AS_ENTRIES:n})})),h=d.prototype,v=y(t),m=function(e,t,n){var r=v(e),i=o(s(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(h,{delete:function(e){var t=v(this);if(!u(e))return!1;var n=o(e);return!0===n?w(t).delete(e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=v(this);if(!u(e))return!1;var n=o(e);return!0===n?w(t).has(e):n&&f(n,t.id)}}),i(h,n?{get:function(e){var t=v(this);if(u(e)){var n=o(e);return!0===n?w(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),d}}},1739:function(e,t,n){"use strict";var r=n(2390),i=n(7802),o=n(6406),a=n(5031),s=n(7205),c=n(7898),u=n(2003),l=n(9064),d=n(5893),f=n(7707),h=n(5287),p=n(5306),y=n(7246),v=n(3581),m=n(1074);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=g?"set":"add",_=i[e],E=_&&_.prototype,S=_,P={},O=function(e){var t=o(E[e]);s(E,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(_)||!(b||E.forEach&&!p((function(){(new _).entries().next()})))))S=n.getConstructor(t,e,g,w),c.enable();else if(a(e,!0)){var x=new S,A=x[w](b?{}:-0,1)!==x,k=p((function(){x.has(1)})),T=y((function(e){new _(e)})),L=!b&&p((function(){for(var e=new _,t=5;t--;)e[w](t,t);return!e.has(-0)}));T||((S=t((function(e,t){l(e,E);var n=m(new _,e,S);return f(t)||u(t,n[w],{that:n,AS_ENTRIES:g}),n}))).prototype=E,E.constructor=S),(k||L)&&(O("delete"),O("has"),g&&O("get")),(L||A)&&O(w),b&&E.clear&&delete E.clear}return P[e]=S,r({global:!0,constructor:!0,forced:S!==_},P),v(S,e),b||n.setStrong(S,e,g),S}},779:function(e,t,n){"use strict";var r=n(4130),i=n(6627),o=n(10),a=n(7144);e.exports=function(e,t,n){for(var s=i(t),c=a.f,u=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},187:function(e,t,n){"use strict";var r=n(7936)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},9494:function(e,t,n){"use strict";var r=n(5306);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4160:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},9251:function(e,t,n){"use strict";var r=n(3877),i=n(7144),o=n(9637);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9637:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6968:function(e,t,n){"use strict";var r=n(3662),i=n(7144),o=n(9637);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},5938:function(e,t,n){"use strict";var r=n(9972),i=n(1253),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return i(this,e)}},5023:function(e,t,n){"use strict";var r=n(3911),i=n(7144);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},7205:function(e,t,n){"use strict";var r=n(5893),i=n(7144),o=n(3911),a=n(3630);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&o(n,u,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9990:function(e,t,n){"use strict";var r=n(7205);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},3630:function(e,t,n){"use strict";var r=n(7802),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9021:function(e,t,n){"use strict";var r=n(5545),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},3877:function(e,t,n){"use strict";var r=n(5306);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9800:function(e,t,n){"use strict";var r=n(7802),i=n(5287),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},9060:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},3136:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2823:function(e,t,n){"use strict";var r=n(9800)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},2889:function(e,t,n){"use strict";var r=n(2626).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},1405:function(e,t,n){"use strict";var r=n(3279),i=n(6576);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},3279:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},1604:function(e,t,n){"use strict";var r=n(2626);e.exports=/MSIE|Trident/.test(r)},2914:function(e,t,n){"use strict";var r=n(2626);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},7580:function(e,t,n){"use strict";var r=n(2626);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6576:function(e,t,n){"use strict";var r=n(7802),i=n(3048);e.exports="process"===i(r.process)},6862:function(e,t,n){"use strict";var r=n(2626);e.exports=/web0s(?!.*chrome)/i.test(r)},2626:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7245:function(e,t,n){"use strict";var r,i,o=n(7802),a=n(2626),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},9069:function(e,t,n){"use strict";var r=n(2626).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},4286:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2390:function(e,t,n){"use strict";var r=n(7802),i=n(10).f,o=n(9251),a=n(7205),s=n(3630),c=n(779),u=n(5031);e.exports=function(e,t){var n,l,d,f,h,p=e.target,y=e.global,v=e.stat;if(n=y?r:v?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(h=i(n,l))&&h.value:n[l],!u(y?l:p+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},5306:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3282:function(e,t,n){"use strict";n(9139);var r=n(8717),i=n(7205),o=n(3351),a=n(5306),s=n(7936),c=n(9251),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),h=!a((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),p=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!p||n){var y=r(/./[f]),v=t(f,""[e],(function(e,t,n,i,a){var s=r(e),c=t.exec;return c===o||c===l.exec?h&&!a?{done:!0,value:y(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(l,f,v[1])}d&&c(l[f],"sham",!0)}},130:function(e,t,n){"use strict";var r=n(5289),i=n(9969),o=n(9060),a=n(5898),s=function(e,t,n,c,u,l,d,f){for(var h,p,y=u,v=0,m=!!d&&a(d,f);v<c;)v in n&&(h=m?m(n[v],v,t):n[v],l>0&&r(h)?(p=i(h),y=s(e,t,h,p,y,l-1)-1):(o(y+1),e[y]=h),y++),v++;return y};e.exports=s},7766:function(e,t,n){"use strict";var r=n(5306);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},6415:function(e,t,n){"use strict";var r=n(7219),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},5898:function(e,t,n){"use strict";var r=n(8717),i=n(1575),o=n(7219),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},7219:function(e,t,n){"use strict";var r=n(5306);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3244:function(e,t,n){"use strict";var r=n(6406),i=n(1575),o=n(5287),a=n(4130),s=n(39),c=n(7219),u=Function,l=r([].concat),d=r([].join),f={};e.exports=c?u.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),c=function(){var n=l(r,s(arguments));return this instanceof c?function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=u("C,a","return new C("+d(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return o(n)&&(c.prototype=n),c}},1550:function(e,t,n){"use strict";var r=n(7219),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9656:function(e,t,n){"use strict";var r=n(3877),i=n(4130),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},8692:function(e,t,n){"use strict";var r=n(6406),i=n(1575);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},8717:function(e,t,n){"use strict";var r=n(3048),i=n(6406);e.exports=function(e){if("Function"===r(e))return i(e)}},6406:function(e,t,n){"use strict";var r=n(7219),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},1570:function(e,t,n){"use strict";var r=n(7802),i=n(5893);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},5536:function(e,t,n){"use strict";var r=n(5683),i=n(6628),o=n(7707),a=n(9921),s=n(7936)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},3159:function(e,t,n){"use strict";var r=n(1550),i=n(1575),o=n(9972),a=n(5545),s=n(5536),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw new c(a(e)+" is not iterable")}},6695:function(e,t,n){"use strict";var r=n(6406),i=n(5289),o=n(5893),a=n(3048),s=n(2755),c=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?c(n,u):"number"!=typeof u&&"Number"!==a(u)&&"String"!==a(u)||c(n,s(u))}var l=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},6628:function(e,t,n){"use strict";var r=n(1575),i=n(7707);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},5338:function(e,t,n){"use strict";var r=n(6406),i=n(5864),o=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var h=n+e.length,p=r.length,y=l;return void 0!==d&&(d=i(d),y=u),s(f,y,(function(i,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,h);case"<":u=d[c(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var f=o(l/10);return 0===f?i:f<=p?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}u=r[l-1]}return void 0===u?"":u}))}},7802:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4130:function(e,t,n){"use strict";var r=n(6406),i=n(5864),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3421:function(e){"use strict";e.exports={}},4419:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2343:function(e,t,n){"use strict";var r=n(1570);e.exports=r("document","documentElement")},3075:function(e,t,n){"use strict";var r=n(3877),i=n(5306),o=n(9800);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5366:function(e,t,n){"use strict";var r=n(6406),i=n(5306),o=n(3048),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},1074:function(e,t,n){"use strict";var r=n(5893),i=n(5287),o=n(1126);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},5088:function(e,t,n){"use strict";var r=n(6406),i=n(5893),o=n(4830),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},7898:function(e,t,n){"use strict";var r=n(2390),i=n(6406),o=n(3421),a=n(5287),s=n(4130),c=n(7144).f,u=n(7397),l=n(2348),d=n(593),f=n(6350),h=n(7766),p=!1,y=f("meta"),v=0,m=function(e){c(e,y,{value:{objectID:"O"+v++,weakData:{}}})},g=e.exports={enable:function(){g.enable=function(){},p=!0;var e=u.f,t=i([].splice),n={};n[y]=1,e(n).length&&(u.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===y){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,y)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[y].objectID},getWeakData:function(e,t){if(!s(e,y)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[y].weakData},onFreeze:function(e){return h&&p&&d(e)&&!s(e,y)&&m(e),e}};o[y]=!0},9930:function(e,t,n){"use strict";var r,i,o,a=n(5585),s=n(7802),c=n(5287),u=n(9251),l=n(4130),d=n(4830),f=n(139),h=n(3421),p="Object already initialized",y=s.TypeError,v=s.WeakMap;if(a||d.state){var m=d.state||(d.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,r=function(e,t){if(m.has(e))throw new y(p);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},o=function(e){return m.has(e)}}else{var g=f("state");h[g]=!0,r=function(e,t){if(l(e,g))throw new y(p);return t.facade=e,u(e,g,t),t},i=function(e){return l(e,g)?e[g]:{}},o=function(e){return l(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new y("Incompatible receiver, "+e+" required");return n}}}},2943:function(e,t,n){"use strict";var r=n(7936),i=n(9921),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},5289:function(e,t,n){"use strict";var r=n(3048);e.exports=Array.isArray||function(e){return"Array"===r(e)}},5893:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5434:function(e,t,n){"use strict";var r=n(6406),i=n(5306),o=n(5893),a=n(5683),s=n(1570),c=n(5088),u=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=r(f.exec),p=!f.test(u),y=function(e){if(!o(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!d||i((function(){var e;return y(y.call)||!y(Object)||!y((function(){e=!0}))||e}))?v:y},5557:function(e,t,n){"use strict";var r=n(4130);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},5031:function(e,t,n){"use strict";var r=n(5306),i=n(5893),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n===l||n!==u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},681:function(e,t,n){"use strict";var r=n(5287),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},7707:function(e){"use strict";e.exports=function(e){return null==e}},5287:function(e,t,n){"use strict";var r=n(5893);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},545:function(e,t,n){"use strict";var r=n(5287);e.exports=function(e){return r(e)||null===e}},99:function(e){"use strict";e.exports=!1},8210:function(e,t,n){"use strict";var r=n(5287),i=n(3048),o=n(7936)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},103:function(e,t,n){"use strict";var r=n(1570),i=n(5893),o=n(2075),a=n(345),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},2003:function(e,t,n){"use strict";var r=n(5898),i=n(1550),o=n(9972),a=n(5545),s=n(2943),c=n(9969),u=n(2075),l=n(3159),d=n(5536),f=n(6335),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},y=p.prototype;e.exports=function(e,t,n){var v,m,g,b,w,_,E,S=n&&n.that,P=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),x=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),k=r(t,S),T=function(e){return v&&f(v,"normal",e),new p(!0,e)},L=function(e){return P?(o(e),A?k(e[0],e[1],T):k(e[0],e[1])):A?k(e,T):k(e)};if(O)v=e.iterator;else if(x)v=e;else{if(!(m=d(e)))throw new h(a(e)+" is not iterable");if(s(m)){for(g=0,b=c(e);b>g;g++)if((w=L(e[g]))&&u(y,w))return w;return new p(!1)}v=l(e,m)}for(_=O?e.next:v.next;!(E=i(_,v)).done;){try{w=L(E.value)}catch(e){f(v,"throw",e)}if("object"==typeof w&&w&&u(y,w))return w}return new p(!1)}},6335:function(e,t,n){"use strict";var r=n(1550),i=n(9972),o=n(6628);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},3691:function(e,t,n){"use strict";var r=n(4760).IteratorPrototype,i=n(9464),o=n(9637),a=n(3581),s=n(9921),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},7227:function(e,t,n){"use strict";var r=n(2390),i=n(1550),o=n(99),a=n(9656),s=n(5893),c=n(3691),u=n(6900),l=n(1126),d=n(3581),f=n(9251),h=n(7205),p=n(7936),y=n(9921),v=n(4760),m=a.PROPER,g=a.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,_=p("iterator"),E="keys",S="values",P="entries",O=function(){return this};e.exports=function(e,t,n,a,p,v,x){c(n,t,a);var A,k,T,L=function(e){if(e===p&&N)return N;if(!w&&e&&e in R)return R[e];switch(e){case E:case S:case P:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",C=!1,R=e.prototype,M=R[_]||R["@@iterator"]||p&&R[p],N=!w&&M||L(p),j="Array"===t&&R.entries||M;if(j&&(A=u(j.call(new e)))!==Object.prototype&&A.next&&(o||u(A)===b||(l?l(A,b):s(A[_])||h(A,_,O)),d(A,I,!0,!0),o&&(y[I]=O)),m&&p===S&&M&&M.name!==S&&(!o&&g?f(R,"name",S):(C=!0,N=function(){return i(M,this)})),p)if(k={values:L(S),keys:v?N:L(E),entries:L(P)},x)for(T in k)(w||C||!(T in R))&&h(R,T,k[T]);else r({target:t,proto:!0,forced:w||C},k);return o&&!x||R[_]===N||h(R,_,N,{name:p}),y[t]=N,k}},4760:function(e,t,n){"use strict";var r,i,o,a=n(5306),s=n(5893),c=n(5287),u=n(9464),l=n(6900),d=n(7205),f=n(7936),h=n(99),p=f("iterator"),y=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):y=!0),!c(r)||a((function(){var e={};return r[p].call(e)!==e}))?r={}:h&&(r=u(r)),s(r[p])||d(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:y}},9921:function(e){"use strict";e.exports={}},9969:function(e,t,n){"use strict";var r=n(9099);e.exports=function(e){return r(e.length)}},3911:function(e,t,n){"use strict";var r=n(6406),i=n(5306),o=n(5893),a=n(4130),s=n(3877),c=n(9656).CONFIGURABLE,u=n(5088),l=n(9930),d=l.enforce,f=l.get,h=String,p=Object.defineProperty,y=r("".slice),v=r("".replace),m=r([].join),g=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===y(h(t),0,7)&&(t="["+v(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=m(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&f(this).source||u(this)}),"toString")},1402:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},3700:function(e,t,n){"use strict";var r,i,o,a,s,c=n(7802),u=n(5540),l=n(5898),d=n(1998).set,f=n(7687),h=n(7580),p=n(2914),y=n(6862),v=n(6576),m=c.MutationObserver||c.WebKitMutationObserver,g=c.document,b=c.process,w=c.Promise,_=u("queueMicrotask");if(!_){var E=new f,S=function(){var e,t;for(v&&(e=b.domain)&&e.exit();t=E.get();)try{t()}catch(e){throw E.head&&r(),e}e&&e.enter()};h||v||y||!m||!g?!p&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,s=l(a.then,a),r=function(){s(S)}):v?r=function(){b.nextTick(S)}:(d=l(d,c),r=function(){d(S)}):(i=!0,o=g.createTextNode(""),new m(S).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),_=function(e){E.head||r(),E.add(e)}}e.exports=_},7117:function(e,t,n){"use strict";var r=n(1575),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},4107:function(e,t,n){"use strict";var r=n(8210),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},3894:function(e,t,n){"use strict";var r=n(7802).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},3087:function(e,t,n){"use strict";var r=n(3877),i=n(6406),o=n(1550),a=n(5306),s=n(1008),c=n(6855),u=n(1940),l=n(5864),d=n(5366),f=Object.assign,h=Object.defineProperty,p=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||s(f({},t)).join("")!==i}))?function(e,t){for(var n=l(e),i=arguments.length,a=1,f=c.f,h=u.f;i>a;)for(var y,v=d(arguments[a++]),m=f?p(s(v),f(v)):s(v),g=m.length,b=0;g>b;)y=m[b++],r&&!o(h,v,y)||(n[y]=v[y]);return n}:f},9464:function(e,t,n){"use strict";var r,i=n(9972),o=n(3872),a=n(4286),s=n(3421),c=n(2343),u=n(9800),l=n(139),d="prototype",f="script",h=l("IE_PROTO"),p=function(){},y=function(e){return"<"+f+">"+e+"</"+f+">"},v=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;m="undefined"!=typeof document?document.domain&&r?v(r):(t=u("iframe"),n="java"+f+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(y("document.F=Object")),e.close(),e.F):v(r);for(var i=a.length;i--;)delete m[d][a[i]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[d]=i(e),n=new p,p[d]=null,n[h]=e):n=m(),void 0===t?n:o.f(n,t)}},3872:function(e,t,n){"use strict";var r=n(3877),i=n(7475),o=n(7144),a=n(9972),s=n(9405),c=n(1008);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},7144:function(e,t,n){"use strict";var r=n(3877),i=n(3075),o=n(7475),a=n(9972),s=n(3662),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=l(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},10:function(e,t,n){"use strict";var r=n(3877),i=n(1550),o=n(1940),a=n(9637),s=n(9405),c=n(3662),u=n(4130),l=n(3075),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},2348:function(e,t,n){"use strict";var r=n(3048),i=n(9405),o=n(7397).f,a=n(39),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"===r(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(i(e))}},7397:function(e,t,n){"use strict";var r=n(5079),i=n(4286).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},6855:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},6900:function(e,t,n){"use strict";var r=n(4130),i=n(5893),o=n(5864),a=n(139),s=n(9494),c=a("IE_PROTO"),u=Object,l=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},593:function(e,t,n){"use strict";var r=n(5306),i=n(5287),o=n(3048),a=n(5828),s=Object.isExtensible,c=r((function(){s(1)}));e.exports=c||a?function(e){return!!i(e)&&(!a||"ArrayBuffer"!==o(e))&&(!s||s(e))}:s},2075:function(e,t,n){"use strict";var r=n(6406);e.exports=r({}.isPrototypeOf)},5079:function(e,t,n){"use strict";var r=n(6406),i=n(4130),o=n(9405),a=n(2971).indexOf,s=n(3421),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},1008:function(e,t,n){"use strict";var r=n(5079),i=n(4286);e.exports=Object.keys||function(e){return r(e,i)}},1940:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},1126:function(e,t,n){"use strict";var r=n(8692),i=n(9972),o=n(9272);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},9181:function(e,t,n){"use strict";var r=n(3877),i=n(5306),o=n(6406),a=n(6900),s=n(1008),c=n(9405),u=o(n(1940).f),l=o([].push),d=r&&i((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),f=function(e){return function(t){for(var n,i=c(t),o=s(i),f=d&&null===a(i),h=o.length,p=0,y=[];h>p;)n=o[p++],r&&!(f?n in i:u(i,n))||l(y,e?[n,i[n]]:i[n]);return y}};e.exports={entries:f(!0),values:f(!1)}},2789:function(e,t,n){"use strict";var r=n(6623),i=n(5683);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},1253:function(e,t,n){"use strict";var r=n(1550),i=n(5893),o=n(5287),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},6627:function(e,t,n){"use strict";var r=n(1570),i=n(6406),o=n(7397),a=n(6855),s=n(9972),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},9533:function(e,t,n){"use strict";var r=n(7802);e.exports=r},1945:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},8545:function(e,t,n){"use strict";var r=n(7802),i=n(3825),o=n(5893),a=n(5031),s=n(5088),c=n(7936),u=n(1405),l=n(3279),d=n(99),f=n(7245),h=i&&i.prototype,p=c("species"),y=!1,v=o(r.PromiseRejectionEvent),m=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===f)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(y=n.then((function(){}))instanceof r))return!0}return!t&&(u||l)&&!v}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:v,SUBCLASSING:y}},3825:function(e,t,n){"use strict";var r=n(7802);e.exports=r.Promise},7093:function(e,t,n){"use strict";var r=n(9972),i=n(5287),o=n(7117);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},1292:function(e,t,n){"use strict";var r=n(3825),i=n(7246),o=n(8545).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},6296:function(e,t,n){"use strict";var r=n(7144).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7687:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7771:function(e,t,n){"use strict";var r=n(1550),i=n(9972),o=n(5893),a=n(3048),s=n(3351),c=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===a(e))return r(s,e,t);throw new c("RegExp#exec called on incompatible receiver")}},3351:function(e,t,n){"use strict";var r,i,o=n(1550),a=n(6406),s=n(2755),c=n(3137),u=n(9688),l=n(9231),d=n(9464),f=n(9930).get,h=n(8880),p=n(2901),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,g=a("".charAt),b=a("".indexOf),w=a("".replace),_=a("".slice),E=(i=/b*/g,o(v,r=/a/,"a"),o(v,i,"a"),0!==r.lastIndex||0!==i.lastIndex),S=u.BROKEN_CARET,P=void 0!==/()??/.exec("")[1];(E||P||S||h||p)&&(m=function(e){var t,n,r,i,a,u,l,h=this,p=f(h),O=s(e),x=p.raw;if(x)return x.lastIndex=h.lastIndex,t=o(m,x,O),h.lastIndex=x.lastIndex,t;var A=p.groups,k=S&&h.sticky,T=o(c,h),L=h.source,I=0,C=O;if(k&&(T=w(T,"y",""),-1===b(T,"g")&&(T+="g"),C=_(O,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==g(O,h.lastIndex-1))&&(L="(?: "+L+")",C=" "+C,I++),n=new RegExp("^(?:"+L+")",T)),P&&(n=new RegExp("^"+L+"$(?!\\s)",T)),E&&(r=h.lastIndex),i=o(v,k?n:h,C),k?i?(i.input=_(i.input,I),i[0]=_(i[0],I),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:E&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),P&&i&&i.length>1&&o(y,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&A)for(i.groups=u=d(null),a=0;a<A.length;a++)u[(l=A[a])[0]]=i[l[1]];return i}),e.exports=m},3137:function(e,t,n){"use strict";var r=n(9972);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8163:function(e,t,n){"use strict";var r=n(1550),i=n(4130),o=n(2075),a=n(3137),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},9688:function(e,t,n){"use strict";var r=n(5306),i=n(7802).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},8880:function(e,t,n){"use strict";var r=n(5306),i=n(7802).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},2901:function(e,t,n){"use strict";var r=n(5306),i=n(7802).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},6762:function(e,t,n){"use strict";var r=n(7707),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},5540:function(e,t,n){"use strict";var r=n(7802),i=n(3877),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=o(r,e);return t&&t.value}},820:function(e){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7001:function(e,t,n){"use strict";var r=n(1570),i=n(5023),o=n(7936),a=n(3877),s=o("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},3581:function(e,t,n){"use strict";var r=n(7144).f,i=n(4130),o=n(7936)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},139:function(e,t,n){"use strict";var r=n(9231),i=n(6350),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},4830:function(e,t,n){"use strict";var r=n(7802),i=n(3630),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},9231:function(e,t,n){"use strict";var r=n(99),i=n(4830);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6759:function(e,t,n){"use strict";var r=n(9972),i=n(7329),o=n(7707),a=n(7936)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},8373:function(e,t,n){"use strict";var r=n(6406),i=n(5930),o=n(2755),a=n(6762),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=o(a(t)),f=i(n),h=d.length;return f<0||f>=h?e?"":void 0:(r=c(d,f))<55296||r>56319||f+1===h||(l=c(d,f+1))<56320||l>57343?e?s(d,f):r:e?u(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},7988:function(e,t,n){"use strict";var r=n(2626);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},9458:function(e,t,n){"use strict";var r=n(6406),i=n(9099),o=n(2755),a=n(715),s=n(6762),c=r(a),u=r("".slice),l=Math.ceil,d=function(e){return function(t,n,r){var a,d,f=o(s(t)),h=i(n),p=f.length,y=void 0===r?" ":o(r);return h<=p||""===y?f:((d=c(y,l((a=h-p)/y.length))).length>a&&(d=u(d,0,a)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},716:function(e,t,n){"use strict";var r=n(6406),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,u=r(a.exec),l=Math.floor,d=String.fromCharCode,f=r("".charCodeAt),h=r([].join),p=r([].push),y=r("".replace),v=r("".split),m=r("".toLowerCase),g=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<r){var o=f(e,n++);56320==(64512&o)?p(t,((1023&i)<<10)+(1023&o)+65536):(p(t,i),n--)}else p(t,i)}return t}(e);var n,r,o=e.length,a=128,u=0,y=72;for(n=0;n<e.length;n++)(r=e[n])<128&&p(t,d(r));var v=t.length,m=v;for(v&&p(t,"-");m<o;){var w=i;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<w&&(w=r);var _=m+1;if(w-a>l((i-u)/_))throw new c(s);for(u+=(w-a)*_,a=w,n=0;n<e.length;n++){if((r=e[n])<a&&++u>i)throw new c(s);if(r===a){for(var E=u,S=36;;){var P=S<=y?1:S>=y+26?26:S-y;if(E<P)break;var O=E-P,x=36-P;p(t,d(g(P+O%x))),E=l(O/x),S+=36}p(t,d(g(E))),y=b(u,_,m===v),u=0,m++}}u++,a++}return h(t,"")};e.exports=function(e){var t,n,r=[],i=v(y(m(e),a,"."),".");for(t=0;t<i.length;t++)n=i[t],p(r,u(o,n)?"xn--"+w(n):n);return h(r,".")}},715:function(e,t,n){"use strict";var r=n(5930),i=n(2755),o=n(6762),a=RangeError;e.exports=function(e){var t=i(o(this)),n="",s=r(e);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},7218:function(e,t,n){"use strict";var r=n(9656).PROPER,i=n(5306),o=n(8662);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||r&&o[e].name!==e}))}},3959:function(e,t,n){"use strict";var r=n(6406),i=n(6762),o=n(2755),a=n(8662),s=r("".replace),c=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,u,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},4053:function(e,t,n){"use strict";var r=n(7245),i=n(5306),o=n(7802).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},652:function(e,t,n){"use strict";var r=n(1550),i=n(1570),o=n(7936),a=n(7205);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},1999:function(e,t,n){"use strict";var r=n(4053);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},1998:function(e,t,n){"use strict";var r,i,o,a,s=n(7802),c=n(6415),u=n(5898),l=n(5893),d=n(4130),f=n(5306),h=n(2343),p=n(39),y=n(9800),v=n(7443),m=n(7580),g=n(6576),b=s.setImmediate,w=s.clearImmediate,_=s.process,E=s.Dispatch,S=s.Function,P=s.MessageChannel,O=s.String,x=0,A={},k="onreadystatechange";f((function(){r=s.location}));var T=function(e){if(d(A,e)){var t=A[e];delete A[e],t()}},L=function(e){return function(){T(e)}},I=function(e){T(e.data)},C=function(e){s.postMessage(O(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){v(arguments.length,1);var t=l(e)?e:S(e),n=p(arguments,1);return A[++x]=function(){c(t,void 0,n)},i(x),x},w=function(e){delete A[e]},g?i=function(e){_.nextTick(L(e))}:E&&E.now?i=function(e){E.now(L(e))}:P&&!m?(a=(o=new P).port2,o.port1.onmessage=I,i=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(C)?(i=C,s.addEventListener("message",I,!1)):i=k in y("script")?function(e){h.appendChild(y("script"))[k]=function(){h.removeChild(this),T(e)}}:function(e){setTimeout(L(e),0)}),e.exports={set:b,clear:w}},1303:function(e,t,n){"use strict";var r=n(6406);e.exports=r(1..valueOf)},9961:function(e,t,n){"use strict";var r=n(5930),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},9405:function(e,t,n){"use strict";var r=n(5366),i=n(6762);e.exports=function(e){return r(i(e))}},5930:function(e,t,n){"use strict";var r=n(1402);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},9099:function(e,t,n){"use strict";var r=n(5930),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5864:function(e,t,n){"use strict";var r=n(6762),i=Object;e.exports=function(e){return i(r(e))}},6090:function(e,t,n){"use strict";var r=n(1550),i=n(5287),o=n(103),a=n(6628),s=n(1253),c=n(7936),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},3662:function(e,t,n){"use strict";var r=n(6090),i=n(103);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},6623:function(e,t,n){"use strict";var r={};r[n(7936)("toStringTag")]="z",e.exports="[object z]"===String(r)},2755:function(e,t,n){"use strict";var r=n(5683),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},5545:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6350:function(e,t,n){"use strict";var r=n(6406),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},506:function(e,t,n){"use strict";var r=n(5306),i=n(7936),o=n(3877),a=n(99),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),a&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(a||!o)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},345:function(e,t,n){"use strict";var r=n(4053);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7475:function(e,t,n){"use strict";var r=n(3877),i=n(5306);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7443:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},5585:function(e,t,n){"use strict";var r=n(7802),i=n(5893),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},1012:function(e,t,n){"use strict";var r=n(9533),i=n(4130),o=n(4618),a=n(7144).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},4618:function(e,t,n){"use strict";var r=n(7936);t.f=r},7936:function(e,t,n){"use strict";var r=n(7802),i=n(9231),o=n(4130),a=n(6350),s=n(4053),c=n(345),u=r.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(u,e)?u[e]:d("Symbol."+e)),l[e]}},8662:function(e){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},4159:function(e,t,n){"use strict";var r=n(2390),i=n(5306),o=n(5289),a=n(5287),s=n(5864),c=n(9969),u=n(9060),l=n(6968),d=n(5008),f=n(6251),h=n(7936),p=n(7245),y=h("isConcatSpreadable"),v=p>=51||!i((function(){var e=[];return e[y]=!1,e.concat()[0]!==e})),m=function(e){if(!a(e))return!1;var t=e[y];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!f("concat")},{concat:function(e){var t,n,r,i,o,a=s(this),f=d(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(m(o=-1===t?a:arguments[t]))for(i=c(o),u(h+i),n=0;n<i;n++,h++)n in o&&l(f,h,o[n]);else u(h+1),l(f,h++,o);return f.length=h,f}})},2663:function(e,t,n){"use strict";var r=n(2390),i=n(6767).filter;r({target:"Array",proto:!0,forced:!n(6251)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5659:function(e,t,n){"use strict";var r=n(2390),i=n(6767).find,o=n(9408),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},6272:function(e,t,n){"use strict";var r=n(2390),i=n(130),o=n(1575),a=n(5864),s=n(9969),c=n(5008);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=c(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},1270:function(e,t,n){"use strict";var r=n(2390),i=n(993);r({target:"Array",stat:!0,forced:!n(7246)((function(e){Array.from(e)}))},{from:i})},6066:function(e,t,n){"use strict";var r=n(2390),i=n(2971).includes,o=n(5306),a=n(9408);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},3227:function(e,t,n){"use strict";var r=n(9405),i=n(9408),o=n(9921),a=n(9930),s=n(7144).f,c=n(7227),u=n(4160),l=n(99),d=n(3877),f="Array Iterator",h=a.set,p=a.getterFor(f);e.exports=c(Array,"Array",(function(e,t){h(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var y=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==y.name)try{s(y,"name",{value:"values"})}catch(e){}},9034:function(e,t,n){"use strict";var r=n(2390),i=n(6406),o=n(5366),a=n(9405),s=n(519),c=i([].join);r({target:"Array",proto:!0,forced:o!==Object||!s("join",",")},{join:function(e){return c(a(this),void 0===e?",":e)}})},6626:function(e,t,n){"use strict";var r=n(2390),i=n(6767).map;r({target:"Array",proto:!0,forced:!n(6251)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},8646:function(e,t,n){"use strict";var r=n(2390),i=n(5289),o=n(5434),a=n(5287),s=n(9961),c=n(9969),u=n(9405),l=n(6968),d=n(7936),f=n(6251),h=n(39),p=f("slice"),y=d("species"),v=Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,d,f=u(this),p=c(f),g=s(e,p),b=s(void 0===t?p:t,p);if(i(f)&&(n=f.constructor,(o(n)&&(n===v||i(n.prototype))||a(n)&&null===(n=n[y]))&&(n=void 0),n===v||void 0===n))return h(f,g,b);for(r=new(void 0===n?v:n)(m(b-g,0)),d=0;g<b;g++,d++)g in f&&l(r,d,f[g]);return r.length=d,r}})},9131:function(e,t,n){"use strict";var r=n(2390),i=n(6406),o=n(1575),a=n(5864),s=n(9969),c=n(9021),u=n(2755),l=n(5306),d=n(8377),f=n(519),h=n(2889),p=n(1604),y=n(7245),v=n(9069),m=[],g=i(m.sort),b=i(m.push),w=l((function(){m.sort(void 0)})),_=l((function(){m.sort(null)})),E=f("sort"),S=!l((function(){if(y)return y<70;if(!(h&&h>3)){if(p)return!0;if(v)return v<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:t+r,v:n})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:w||!_||!E||!S},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(S)return void 0===e?g(t):g(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<l;)c(t,r++);return t}})},3402:function(e,t,n){"use strict";var r=n(2390),i=n(5864),o=n(9961),a=n(5930),s=n(9969),c=n(8576),u=n(9060),l=n(5008),d=n(6968),f=n(9021),h=n(6251)("splice"),p=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,h,v,m,g,b=i(this),w=s(b),_=o(e,w),E=arguments.length;for(0===E?n=r=0:1===E?(n=0,r=w-_):(n=E-2,r=y(p(a(t),0),w-_)),u(w+n-r),h=l(b,r),v=0;v<r;v++)(m=_+v)in b&&d(h,v,b[m]);if(h.length=r,n<r){for(v=_;v<w-r;v++)g=v+n,(m=v+r)in b?b[g]=b[m]:f(b,g);for(v=w;v>w-r+n;v--)f(b,v-1)}else if(n>r)for(v=w-r;v>_;v--)g=v+n-1,(m=v+r-1)in b?b[g]=b[m]:f(b,g);for(v=0;v<n;v++)b[v+_]=arguments[v+2];return c(b,w-r+n),h}})},2234:function(e,t,n){"use strict";n(9408)("flatMap")},5822:function(e,t,n){"use strict";var r=n(4130),i=n(7205),o=n(5938),a=n(7936)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},8949:function(e,t,n){"use strict";var r=n(3877),i=n(9656).EXISTS,o=n(6406),a=n(5023),s=Function.prototype,c=o(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(u.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},8983:function(e,t,n){"use strict";var r=n(2390),i=n(1570),o=n(6415),a=n(1550),s=n(6406),c=n(5306),u=n(5893),l=n(103),d=n(39),f=n(6695),h=n(4053),p=String,y=i("JSON","stringify"),v=s(/./.exec),m=s("".charAt),g=s("".charCodeAt),b=s("".replace),w=s(1..toString),_=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,P=!h||c((function(){var e=i("Symbol")("stringify detection");return"[null]"!==y([e])||"{}"!==y({a:e})||"{}"!==y(Object(e))})),O=c((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),x=function(e,t){var n=d(arguments),r=f(t);if(u(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(u(r)&&(t=a(r,this,p(e),t)),!l(t))return t},o(y,null,n)},A=function(e,t,n){var r=m(n,t-1),i=m(n,t+1);return v(E,e)&&!v(S,i)||v(S,e)&&!v(E,r)?"\\u"+w(g(e,0),16):e};y&&r({target:"JSON",stat:!0,arity:3,forced:P||O},{stringify:function(e,t,n){var r=d(arguments),i=o(P?x:y,null,r);return O&&"string"==typeof i?b(i,_,A):i}})},1632:function(e,t,n){"use strict";var r=n(7802);n(3581)(r.JSON,"JSON",!0)},9608:function(e,t,n){"use strict";n(1739)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(3861))},1970:function(e,t,n){"use strict";n(9608)},7337:function(e,t,n){"use strict";n(3581)(Math,"Math",!0)},1908:function(e,t,n){"use strict";var r=n(2390),i=n(99),o=n(3877),a=n(7802),s=n(9533),c=n(6406),u=n(5031),l=n(4130),d=n(1074),f=n(2075),h=n(103),p=n(6090),y=n(5306),v=n(7397).f,m=n(10).f,g=n(7144).f,b=n(1303),w=n(3959).trim,_="Number",E=a[_],S=s[_],P=E.prototype,O=a.TypeError,x=c("".slice),A=c("".charCodeAt),k=u(_,!E(" 0o1")||!E("0b1")||E("+0x1")),T=function(e){var t,n=arguments.length<1?0:E(function(e){var t=p(e,"number");return"bigint"==typeof t?t:function(e){var t,n,r,i,o,a,s,c,u=p(e,"number");if(h(u))throw new O("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=w(u),43===(t=A(u,0))||45===t){if(88===(n=A(u,2))||120===n)return NaN}else if(48===t){switch(A(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=x(u,2)).length,s=0;s<a;s++)if((c=A(o,s))<48||c>i)return NaN;return parseInt(o,r)}return+u}(t)}(e));return f(P,t=this)&&y((function(){b(t)}))?d(Object(n),this,T):n};T.prototype=P,k&&!i&&(P.constructor=T),r({global:!0,constructor:!0,wrap:!0,forced:k},{Number:T});var L=function(e,t){for(var n,r=o?v(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&g(e,n,m(t,n))};i&&S&&L(s[_],S),(k||i)&&L(s[_],E)},4528:function(e,t,n){"use strict";n(2390)({target:"Number",stat:!0},{isFinite:n(3894)})},7216:function(e,t,n){"use strict";n(2390)({target:"Number",stat:!0},{isInteger:n(681)})},7780:function(e,t,n){"use strict";var r=n(2390),i=n(681),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},7015:function(e,t,n){"use strict";n(2390)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},5704:function(e,t,n){"use strict";n(2390)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},2659:function(e,t,n){"use strict";var r=n(2390),i=n(3087);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},1413:function(e,t,n){"use strict";var r=n(2390),i=n(9181).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},433:function(e,t,n){"use strict";var r=n(2390),i=n(2003),o=n(6968);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},6225:function(e,t,n){"use strict";var r=n(2390),i=n(5306),o=n(9405),a=n(10).f,s=n(3877);r({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},4567:function(e,t,n){"use strict";var r=n(2390),i=n(3877),o=n(6627),a=n(9405),s=n(10),c=n(6968);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,u=o(r),l={},d=0;u.length>d;)void 0!==(n=i(r,t=u[d++]))&&c(l,t,n);return l}})},2487:function(e,t,n){"use strict";var r=n(2390),i=n(4053),o=n(5306),a=n(6855),s=n(5864);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},9574:function(e,t,n){"use strict";var r=n(2390),i=n(5306),o=n(5864),a=n(6900),s=n(9494);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},3127:function(e,t,n){"use strict";var r=n(2390),i=n(5864),o=n(1008);r({target:"Object",stat:!0,forced:n(5306)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},1414:function(e,t,n){"use strict";var r=n(6623),i=n(7205),o=n(2789);r||i(Object.prototype,"toString",o,{unsafe:!0})},8305:function(e,t,n){"use strict";var r=n(2390),i=n(9181).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},3721:function(e,t,n){"use strict";var r=n(2390),i=n(1550),o=n(1575),a=n(7117),s=n(1945),c=n(2003);r({target:"Promise",stat:!0,forced:n(1292)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=o(t.resolve),a=[],s=0,l=1;c(e,(function(e){var o=s++,c=!1;l++,i(n,t,e).then((function(e){c||(c=!0,a[o]=e,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},4183:function(e,t,n){"use strict";var r=n(2390),i=n(99),o=n(8545).CONSTRUCTOR,a=n(3825),s=n(1570),c=n(5893),u=n(7205),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(a)){var d=s("Promise").prototype.catch;l.catch!==d&&u(l,"catch",d,{unsafe:!0})}},3663:function(e,t,n){"use strict";var r,i,o,a=n(2390),s=n(99),c=n(6576),u=n(7802),l=n(1550),d=n(7205),f=n(1126),h=n(3581),p=n(7001),y=n(1575),v=n(5893),m=n(5287),g=n(9064),b=n(6759),w=n(1998).set,_=n(3700),E=n(4419),S=n(1945),P=n(7687),O=n(9930),x=n(3825),A=n(8545),k=n(7117),T="Promise",L=A.CONSTRUCTOR,I=A.REJECTION_EVENT,C=A.SUBCLASSING,R=O.getterFor(T),M=O.set,N=x&&x.prototype,j=x,D=N,U=u.TypeError,F=u.document,B=u.process,z=k.f,H=z,V=!!(F&&F.createEvent&&u.dispatchEvent),W="unhandledrejection",G=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},q=function(e,t){var n,r,i,o=t.value,a=1===t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&Q(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===e.promise?u(new U("Promise-chain cycle")):(r=G(n))?l(r,n,c,u):c(n)):u(o)}catch(e){d&&!i&&d.exit(),u(e)}},Y=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,r=e.reactions;n=r.get();)q(n,e);e.notified=!1,t&&!e.rejection&&K(e)})))},X=function(e,t,n){var r,i;V?((r=F.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!I&&(i=u["on"+e])?i(r):e===W&&E("Unhandled promise rejection",n)},K=function(e){l(w,u,(function(){var t,n=e.facade,r=e.value;if(J(e)&&(t=S((function(){c?B.emit("unhandledRejection",r,n):X(W,n,r)})),e.rejection=c||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(w,u,(function(){var t=e.facade;c?B.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},$=function(e,t,n){return function(r){e(t,r,n)}},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Y(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new U("Promise can't be resolved itself");var r=G(t);r?_((function(){var n={done:!1};try{l(r,t,$(ee,n,e),$(Z,n,e))}catch(t){Z(n,t,e)}})):(e.value=t,e.state=1,Y(e,!1))}catch(t){Z({done:!1},t,e)}}};if(L&&(D=(j=function(e){g(this,D),y(e),l(r,this);var t=R(this);try{e($(ee,t),$(Z,t))}catch(e){Z(t,e)}}).prototype,(r=function(e){M(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:0,value:void 0})}).prototype=d(D,"then",(function(e,t){var n=R(this),r=z(b(this,j));return n.parent=!0,r.ok=!v(e)||e,r.fail=v(t)&&t,r.domain=c?B.domain:void 0,0===n.state?n.reactions.add(r):_((function(){q(r,n)})),r.promise})),i=function(){var e=new r,t=R(e);this.promise=e,this.resolve=$(ee,t),this.reject=$(Z,t)},k.f=z=function(e){return e===j||void 0===e?new i(e):H(e)},!s&&v(x)&&N!==Object.prototype)){o=N.then,C||d(N,"then",(function(e,t){var n=this;return new j((function(e,t){l(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}f&&f(N,D)}a({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:j}),h(j,T,!1,!0),p(T)},7666:function(e,t,n){"use strict";n(3663),n(3721),n(4183),n(7286),n(7127),n(4197)},7286:function(e,t,n){"use strict";var r=n(2390),i=n(1550),o=n(1575),a=n(7117),s=n(1945),c=n(2003);r({target:"Promise",stat:!0,forced:n(1292)},{race:function(e){var t=this,n=a.f(t),r=n.reject,u=s((function(){var a=o(t.resolve);c(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},7127:function(e,t,n){"use strict";var r=n(2390),i=n(7117);r({target:"Promise",stat:!0,forced:n(8545).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},4197:function(e,t,n){"use strict";var r=n(2390),i=n(1570),o=n(99),a=n(3825),s=n(8545).CONSTRUCTOR,c=n(7093),u=i("Promise"),l=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(l&&this===u?a:this,e)}})},6763:function(e,t,n){"use strict";var r=n(2390),i=n(1570),o=n(6415),a=n(3244),s=n(7329),c=n(9972),u=n(5287),l=n(9464),d=n(5306),f=i("Reflect","construct"),h=Object.prototype,p=[].push,y=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),v=!d((function(){f((function(){}))})),m=y||v;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){s(e),c(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!y)return f(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(p,r,t),new(o(a,e,r))}var i=n.prototype,d=l(u(i)?i:h),m=o(e,d,t);return u(m)?m:d}})},5190:function(e,t,n){"use strict";var r=n(2390),i=n(1550),o=n(5287),a=n(9972),s=n(5557),c=n(10),u=n(6900);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,d=arguments.length<3?t:arguments[2];return a(t)===d?t[n]:(r=c.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,d):o(l=u(t))?e(l,n,d):void 0}})},5439:function(e,t,n){"use strict";var r=n(3877),i=n(7802),o=n(6406),a=n(5031),s=n(1074),c=n(9251),u=n(9464),l=n(7397).f,d=n(2075),f=n(8210),h=n(2755),p=n(8163),y=n(9688),v=n(6296),m=n(7205),g=n(5306),b=n(4130),w=n(9930).enforce,_=n(7001),E=n(7936),S=n(8880),P=n(2901),O=E("match"),x=i.RegExp,A=x.prototype,k=i.SyntaxError,T=o(A.exec),L=o("".charAt),I=o("".replace),C=o("".indexOf),R=o("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,j=/a/g,D=new x(N)!==N,U=y.MISSED_STICKY,F=y.UNSUPPORTED_Y;if(a("RegExp",r&&(!D||U||S||P||g((function(){return j[O]=!1,x(N)!==N||x(j)===j||"/a/i"!==String(x(N,"i"))}))))){for(var B=function(e,t){var n,r,i,o,a,l,y=d(A,this),v=f(e),m=void 0===t,g=[],_=e;if(!y&&v&&m&&e.constructor===B)return e;if((v||d(A,e))&&(e=e.source,m&&(t=p(_))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),_=e,S&&"dotAll"in N&&(r=!!t&&C(t,"s")>-1)&&(t=I(t,/s/g,"")),n=t,U&&"sticky"in N&&(i=!!t&&C(t,"y")>-1)&&F&&(t=I(t,/y/g,"")),P&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a=u(null),s=!1,c=!1,l=0,d="";r<=n;r++){if("\\"===(t=L(e,r)))t+=L(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:T(M,R(e,r+1))&&(r+=2,c=!0),i+=t,l++;continue;case">"===t&&c:if(""===d||b(a,d))throw new k("Invalid capture group name");a[d]=!0,o[o.length]=[d,l],c=!1,d="";continue}c?d+=t:i+=t}return[i,o]}(e),e=o[0],g=o[1]),a=s(x(e,t),y?this:A,B),(r||i||g.length)&&(l=w(a),r&&(l.dotAll=!0,l.raw=B(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=L(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+L(e,++r);return i}(e),n)),i&&(l.sticky=!0),g.length&&(l.groups=g)),e!==_)try{c(a,"source",""===_?"(?:)":_)}catch(e){}return a},z=l(x),H=0;z.length>H;)v(B,x,z[H++]);A.constructor=B,B.prototype=A,m(i,"RegExp",B,{constructor:!0})}_("RegExp")},9139:function(e,t,n){"use strict";var r=n(2390),i=n(3351);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},4134:function(e,t,n){"use strict";var r=n(9656).PROPER,i=n(7205),o=n(9972),a=n(2755),s=n(5306),c=n(8163),u="toString",l=RegExp.prototype,d=l[u],f=s((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),h=r&&d.name!==u;(f||h)&&i(l,u,(function(){var e=o(this);return"/"+a(e.source)+"/"+a(c(e))}),{unsafe:!0})},4344:function(e,t,n){"use strict";n(1739)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(3861))},3373:function(e,t,n){"use strict";n(4344)},4690:function(e,t,n){"use strict";var r,i=n(2390),o=n(8717),a=n(10).f,s=n(9099),c=n(2755),u=n(4107),l=n(6762),d=n(187),f=n(99),h=o("".slice),p=Math.min,y=d("endsWith");i({target:"String",proto:!0,forced:!(!f&&!y&&(r=a(String.prototype,"endsWith"),r&&!r.writable)||y)},{endsWith:function(e){var t=c(l(this));u(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:p(s(n),r),o=c(e);return h(t,i-o.length,i)===o}})},3370:function(e,t,n){"use strict";var r=n(2390),i=n(6406),o=n(4107),a=n(6762),s=n(2755),c=n(187),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},4011:function(e,t,n){"use strict";var r=n(8373).charAt,i=n(2755),o=n(9930),a=n(7227),s=n(4160),c="String Iterator",u=o.set,l=o.getterFor(c);a(String,"String",(function(e){u(this,{type:c,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},1597:function(e,t,n){"use strict";var r=n(1550),i=n(3282),o=n(9972),a=n(7707),s=n(9099),c=n(2755),u=n(6762),l=n(6628),d=n(9384),f=n(7771);i("match",(function(e,t,n){return[function(t){var n=u(this),i=a(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=o(this),i=c(e),a=n(t,r,i);if(a.done)return a.value;if(!r.global)return f(r,i);var u=r.unicode;r.lastIndex=0;for(var l,h=[],p=0;null!==(l=f(r,i));){var y=c(l[0]);h[p]=y,""===y&&(r.lastIndex=d(i,s(r.lastIndex),u)),p++}return 0===p?null:h}]}))},9910:function(e,t,n){"use strict";var r=n(2390),i=n(9458).start;r({target:"String",proto:!0,forced:n(7988)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},6028:function(e,t,n){"use strict";var r=n(6415),i=n(1550),o=n(6406),a=n(3282),s=n(5306),c=n(9972),u=n(5893),l=n(7707),d=n(5930),f=n(9099),h=n(2755),p=n(6762),y=n(9384),v=n(6628),m=n(5338),g=n(7771),b=n(7936)("replace"),w=Math.max,_=Math.min,E=o([].concat),S=o([].push),P=o("".indexOf),O=o("".slice),x="$0"==="a".replace(/./,"$0"),A=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var o=A?"$":"$0";return[function(e,n){var r=p(this),o=l(e)?void 0:v(e,b);return o?i(o,e,r,n):i(t,h(r),e,n)},function(e,i){var a=c(this),s=h(e);if("string"==typeof i&&-1===P(i,o)&&-1===P(i,"$<")){var l=n(t,a,s,i);if(l.done)return l.value}var p=u(i);p||(i=h(i));var v,b=a.global;b&&(v=a.unicode,a.lastIndex=0);for(var x,A=[];null!==(x=g(a,s))&&(S(A,x),b);)""===h(x[0])&&(a.lastIndex=y(s,f(a.lastIndex),v));for(var k,T="",L=0,I=0;I<A.length;I++){for(var C,R=h((x=A[I])[0]),M=w(_(d(x.index),s.length),0),N=[],j=1;j<x.length;j++)S(N,void 0===(k=x[j])?k:String(k));var D=x.groups;if(p){var U=E([R],N,M,s);void 0!==D&&S(U,D),C=h(r(i,void 0,U))}else C=m(R,s,M,N,D,i);M>=L&&(T+=O(s,L,M)+C,L=M+R.length)}return T+O(s,L)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!x||A)},8075:function(e,t,n){"use strict";var r=n(1550),i=n(3282),o=n(9972),a=n(7707),s=n(6762),c=n(820),u=n(2755),l=n(6628),d=n(7771);i("search",(function(e,t,n){return[function(t){var n=s(this),i=a(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=o(this),i=u(e),a=n(t,r,i);if(a.done)return a.value;var s=r.lastIndex;c(s,0)||(r.lastIndex=0);var l=d(r,i);return c(r.lastIndex,s)||(r.lastIndex=s),null===l?-1:l.index}]}))},3379:function(e,t,n){"use strict";var r=n(6415),i=n(1550),o=n(6406),a=n(3282),s=n(9972),c=n(7707),u=n(8210),l=n(6762),d=n(6759),f=n(9384),h=n(9099),p=n(2755),y=n(6628),v=n(39),m=n(7771),g=n(3351),b=n(9688),w=n(5306),_=b.UNSUPPORTED_Y,E=4294967295,S=Math.min,P=[].push,O=o(/./.exec),x=o(P),A=o("".slice),k=!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var o;return o="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=p(l(this)),a=void 0===n?E:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!u(e))return i(t,o,e,a);for(var s,c,d,f=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,m=new RegExp(e.source,h+"g");(s=i(g,m,o))&&!((c=m.lastIndex)>y&&(x(f,A(o,y,s.index)),s.length>1&&s.index<o.length&&r(P,f,v(s,1)),d=s[0].length,y=c,f.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return y===o.length?!d&&O(m,"")||x(f,""):x(f,A(o,y)),f.length>a?v(f,0,a):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=l(this),a=c(t)?void 0:y(t,e);return a?i(a,t,r,n):i(o,p(r),t,n)},function(e,r){var i=s(this),a=p(e),c=n(o,i,a,r,o!==t);if(c.done)return c.value;var u=d(i,RegExp),l=i.unicode,y=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(_?"g":"y"),v=new u(_?"^(?:"+i.source+")":i,y),g=void 0===r?E:r>>>0;if(0===g)return[];if(0===a.length)return null===m(v,a)?[a]:[];for(var b=0,w=0,P=[];w<a.length;){v.lastIndex=_?0:w;var O,k=m(v,_?A(a,w):a);if(null===k||(O=S(h(v.lastIndex+(_?w:0)),a.length))===b)w=f(a,w,l);else{if(x(P,A(a,b,w)),P.length===g)return P;for(var T=1;T<=k.length-1;T++)if(x(P,k[T]),P.length===g)return P;w=b=O}}return x(P,A(a,b)),P}]}),!k,_)},8349:function(e,t,n){"use strict";var r,i=n(2390),o=n(8717),a=n(10).f,s=n(9099),c=n(2755),u=n(4107),l=n(6762),d=n(187),f=n(99),h=o("".slice),p=Math.min,y=d("startsWith");i({target:"String",proto:!0,forced:!(!f&&!y&&(r=a(String.prototype,"startsWith"),r&&!r.writable)||y)},{startsWith:function(e){var t=c(l(this));u(e);var n=s(p(arguments.length>1?arguments[1]:void 0,t.length)),r=c(e);return h(t,n,n+r.length)===r}})},6651:function(e,t,n){"use strict";var r=n(2390),i=n(3959).trim;r({target:"String",proto:!0,forced:n(7218)("trim")},{trim:function(){return i(this)}})},9883:function(e,t,n){"use strict";n(1012)("asyncIterator")},1693:function(e,t,n){"use strict";var r=n(2390),i=n(7802),o=n(1550),a=n(6406),s=n(99),c=n(3877),u=n(4053),l=n(5306),d=n(4130),f=n(2075),h=n(9972),p=n(9405),y=n(3662),v=n(2755),m=n(9637),g=n(9464),b=n(1008),w=n(7397),_=n(2348),E=n(6855),S=n(10),P=n(7144),O=n(3872),x=n(1940),A=n(7205),k=n(5023),T=n(9231),L=n(139),I=n(3421),C=n(6350),R=n(7936),M=n(4618),N=n(1012),j=n(652),D=n(3581),U=n(9930),F=n(6767).forEach,B=L("hidden"),z="Symbol",H="prototype",V=U.set,W=U.getterFor(z),G=Object[H],q=i.Symbol,Y=q&&q[H],X=i.RangeError,K=i.TypeError,J=i.QObject,Q=S.f,$=P.f,Z=_.f,ee=x.f,te=a([].push),ne=T("symbols"),re=T("op-symbols"),ie=T("wks"),oe=!J||!J[H]||!J[H].findChild,ae=function(e,t,n){var r=Q(G,t);r&&delete G[t],$(e,t,n),r&&e!==G&&$(G,t,r)},se=c&&l((function(){return 7!==g($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?ae:$,ce=function(e,t){var n=ne[e]=g(Y);return V(n,{type:z,tag:e,description:t}),c||(n.description=t),n},ue=function(e,t,n){e===G&&ue(re,t,n),h(e);var r=y(t);return h(n),d(ne,r)?(n.enumerable?(d(e,B)&&e[B][r]&&(e[B][r]=!1),n=g(n,{enumerable:m(0,!1)})):(d(e,B)||$(e,B,m(1,g(null))),e[B][r]=!0),se(e,r,n)):$(e,r,n)},le=function(e,t){h(e);var n=p(t),r=b(n).concat(pe(n));return F(r,(function(t){c&&!o(de,n,t)||ue(e,t,n[t])})),e},de=function(e){var t=y(e),n=o(ee,this,t);return!(this===G&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,B)&&this[B][t])||n)},fe=function(e,t){var n=p(e),r=y(t);if(n!==G||!d(ne,r)||d(re,r)){var i=Q(n,r);return!i||!d(ne,r)||d(n,B)&&n[B][r]||(i.enumerable=!0),i}},he=function(e){var t=Z(p(e)),n=[];return F(t,(function(e){d(ne,e)||d(I,e)||te(n,e)})),n},pe=function(e){var t=e===G,n=Z(t?re:p(e)),r=[];return F(n,(function(e){!d(ne,e)||t&&!d(G,e)||te(r,ne[e])})),r};u||(q=function(){if(f(Y,this))throw new K("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=C(e),n=function(e){var r=void 0===this?i:this;r===G&&o(n,re,e),d(r,B)&&d(r[B],t)&&(r[B][t]=!1);var a=m(1,e);try{se(r,t,a)}catch(e){if(!(e instanceof X))throw e;ae(r,t,a)}};return c&&oe&&se(G,t,{configurable:!0,set:n}),ce(t,e)},A(Y=q[H],"toString",(function(){return W(this).tag})),A(q,"withoutSetter",(function(e){return ce(C(e),e)})),x.f=de,P.f=ue,O.f=le,S.f=fe,w.f=_.f=he,E.f=pe,M.f=function(e){return ce(R(e),e)},c&&(k(Y,"description",{configurable:!0,get:function(){return W(this).description}}),s||A(G,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),F(b(ie),(function(e){N(e)})),r({target:z,stat:!0,forced:!u},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?g(e):le(g(e),t)},defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he}),j(),D(q,z),I[B]=!0},8690:function(e,t,n){"use strict";var r=n(2390),i=n(3877),o=n(7802),a=n(6406),s=n(4130),c=n(5893),u=n(2075),l=n(2755),d=n(5023),f=n(779),h=o.Symbol,p=h&&h.prototype;if(i&&c(h)&&(!("description"in p)||void 0!==h().description)){var y={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(y[t]=!0),t};f(v,h),v.prototype=p,p.constructor=v;var m="Symbol(description detection)"===String(h("description detection")),g=a(p.valueOf),b=a(p.toString),w=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),E=a("".slice);d(p,"description",{configurable:!0,get:function(){var e=g(this);if(s(y,e))return"";var t=b(e),n=m?E(t,7,-1):_(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},4681:function(e,t,n){"use strict";var r=n(2390),i=n(1570),o=n(4130),a=n(2755),s=n(9231),c=n(1999),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,l[n]=t,n}})},9228:function(e,t,n){"use strict";n(1012)("iterator")},6187:function(e,t,n){"use strict";n(1693),n(4681),n(864),n(8983),n(2487)},864:function(e,t,n){"use strict";var r=n(2390),i=n(4130),o=n(103),a=n(5545),s=n(9231),c=n(1999),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!o(e))throw new TypeError(a(e)+" is not a symbol");if(i(u,e))return u[e]}})},6031:function(e,t,n){"use strict";var r=n(1012),i=n(652);r("toPrimitive"),i()},753:function(e,t,n){"use strict";var r=n(1570),i=n(1012),o=n(3581);i("toStringTag"),o(r("Symbol"),"Symbol")},6056:function(e,t,n){"use strict";var r,i=n(7766),o=n(7802),a=n(6406),s=n(9990),c=n(7898),u=n(1739),l=n(8683),d=n(5287),f=n(9930).enforce,h=n(5306),p=n(5585),y=Object,v=Array.isArray,m=y.isExtensible,g=y.isFrozen,b=y.isSealed,w=y.freeze,_=y.seal,E=!o.ActiveXObject&&"ActiveXObject"in o,S=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},P=u("WeakMap",S,l),O=P.prototype,x=a(O.set);if(p)if(E){r=l.getConstructor(S,"WeakMap",!0),c.enable();var A=a(O.delete),k=a(O.has),T=a(O.get);s(O,{delete:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new r),A(this,e)||t.frozen.delete(e)}return A(this,e)},has:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new r),k(this,e)||t.frozen.has(e)}return k(this,e)},get:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new r),k(this,e)?T(this,e):t.frozen.get(e)}return T(this,e)},set:function(e,t){if(d(e)&&!m(e)){var n=f(this);n.frozen||(n.frozen=new r),k(this,e)?x(this,e,t):n.frozen.set(e,t)}else x(this,e,t);return this}})}else i&&h((function(){var e=w([]);return x(new P,e,1),!g(e)}))&&s(O,{set:function(e,t){var n;return v(e)&&(g(e)?n=w:b(e)&&(n=_)),x(this,e,t),n&&n(e),this}})},4750:function(e,t,n){"use strict";n(6056)},7134:function(e,t,n){"use strict";var r=n(7802),i=n(3136),o=n(2823),a=n(5679),s=n(9251),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in i)i[u]&&c(r[u]&&r[u].prototype);c(o)},1431:function(e,t,n){"use strict";var r=n(7802),i=n(3136),o=n(2823),a=n(3227),s=n(9251),c=n(3581),u=n(7936)("iterator"),l=a.values,d=function(e,t){if(e){if(e[u]!==l)try{s(e,u,l)}catch(t){e[u]=l}if(c(e,t,!0),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(o,"DOMTokenList")},9280:function(e,t,n){"use strict";n(3227);var r=n(2390),i=n(7802),o=n(5540),a=n(1550),s=n(6406),c=n(3877),u=n(506),l=n(7205),d=n(5023),f=n(9990),h=n(3581),p=n(3691),y=n(9930),v=n(9064),m=n(5893),g=n(4130),b=n(5898),w=n(5683),_=n(9972),E=n(5287),S=n(2755),P=n(9464),O=n(9637),x=n(3159),A=n(5536),k=n(4160),T=n(7443),L=n(7936),I=n(8377),C=L("iterator"),R="URLSearchParams",M=R+"Iterator",N=y.set,j=y.getterFor(R),D=y.getterFor(M),U=o("fetch"),F=o("Request"),B=o("Headers"),z=F&&F.prototype,H=B&&B.prototype,V=i.RegExp,W=i.TypeError,G=i.decodeURIComponent,q=i.encodeURIComponent,Y=s("".charAt),X=s([].join),K=s([].push),J=s("".replace),Q=s([].shift),$=s([].splice),Z=s("".split),ee=s("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return G(e)}catch(t){return e}},oe=function(e){var t=J(e,te," "),n=4;try{return G(t)}catch(e){for(;n;)t=J(t,re(n--),ie);return t}},ae=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ce=function(e){return se[e]},ue=function(e){return J(q(e),ae,ce)},le=p((function(e,t){N(this,{type:M,target:j(e).entries,index:0,kind:t})}),R,(function(){var e=D(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,k(void 0,!0);var r=t[n];switch(e.kind){case"keys":return k(r.key,!1);case"values":return k(r.value,!1)}return k([r.key,r.value],!1)}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?ee(e,1):e:S(e)))};de.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,c,u=this.entries,l=A(e);if(l)for(n=(t=x(e,l)).next;!(r=a(n,t)).done;){if(o=(i=x(_(r.value))).next,(s=a(o,i)).done||(c=a(o,i)).done||!a(o,i).done)throw new W("Expected sequence with length 2");K(u,{key:S(s.value),value:S(c.value)})}else for(var d in e)g(e,d)&&K(u,{key:d,value:S(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=Z(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(n=Z(t,"="),K(r,{key:oe(Q(n)),value:oe(X(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],K(n,ue(e.key)+"="+ue(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){v(this,he);var e=N(this,new de(arguments.length>0?arguments[0]:void 0));c||(this.size=e.entries.length)},he=fe.prototype;if(f(he,{append:function(e,t){var n=j(this);T(arguments.length,2),K(n.entries,{key:S(e),value:S(t)}),c||this.length++,n.updateURL()},delete:function(e){for(var t=j(this),n=T(arguments.length,1),r=t.entries,i=S(e),o=n<2?void 0:arguments[1],a=void 0===o?o:S(o),s=0;s<r.length;){var u=r[s];if(u.key!==i||void 0!==a&&u.value!==a)s++;else if($(r,s,1),void 0!==a)break}c||(this.size=r.length),t.updateURL()},get:function(e){var t=j(this).entries;T(arguments.length,1);for(var n=S(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=j(this).entries;T(arguments.length,1);for(var n=S(e),r=[],i=0;i<t.length;i++)t[i].key===n&&K(r,t[i].value);return r},has:function(e){for(var t=j(this).entries,n=T(arguments.length,1),r=S(e),i=n<2?void 0:arguments[1],o=void 0===i?i:S(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=j(this);T(arguments.length,1);for(var r,i=n.entries,o=!1,a=S(e),s=S(t),u=0;u<i.length;u++)(r=i[u]).key===a&&(o?$(i,u--,1):(o=!0,r.value=s));o||K(i,{key:a,value:s}),c||(this.size=i.length),n.updateURL()},sort:function(){var e=j(this);I(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=j(this).entries,r=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),l(he,C,he.entries,{name:"entries"}),l(he,"toString",(function(){return j(this).serialize()}),{enumerable:!0}),c&&d(he,"size",{get:function(){return j(this).entries.length},configurable:!0,enumerable:!0}),h(fe,R),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:fe}),!u&&m(B)){var pe=s(H.has),ye=s(H.set),ve=function(e){if(E(e)){var t,n=e.body;if(w(n)===R)return t=e.headers?new B(e.headers):new B,pe(t,"content-type")||ye(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),P(e,{body:O(0,S(n)),headers:O(0,t)})}return e};if(m(U)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?ve(arguments[1]):{})}}),m(F)){var me=function(e){return v(this,z),new F(e,arguments.length>1?ve(arguments[1]):{})};z.constructor=me,me.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:fe,getState:j}},2904:function(e,t,n){"use strict";n(9280)},6447:function(e,t,n){"use strict";n(4011);var r,i=n(2390),o=n(3877),a=n(506),s=n(7802),c=n(5898),u=n(6406),l=n(7205),d=n(5023),f=n(9064),h=n(4130),p=n(3087),y=n(993),v=n(39),m=n(8373).codeAt,g=n(716),b=n(2755),w=n(3581),_=n(7443),E=n(9280),S=n(9930),P=S.set,O=S.getterFor("URL"),x=E.URLSearchParams,A=E.getState,k=s.URL,T=s.TypeError,L=s.parseInt,I=Math.floor,C=Math.pow,R=u("".charAt),M=u(/./.exec),N=u([].join),j=u(1..toString),D=u([].pop),U=u([].push),F=u("".replace),B=u([].shift),z=u("".split),H=u("".slice),V=u("".toLowerCase),W=u([].unshift),G="Invalid scheme",q="Invalid host",Y="Invalid port",X=/[a-z]/i,K=/[\d+-.a-z]/i,J=/\d/,Q=/^0x/i,$=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,oe=/[\t\n\r]/g,ae=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=I(e/256);return N(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=j(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ce=p({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=p({},ce,{"#":1,"?":1,"{":1,"}":1}),le=p({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=m(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var n;return 2===e.length&&M(X,R(e,0))&&(":"===(n=R(e,1))||!t&&"|"===n)},pe=function(e){var t;return e.length>1&&he(H(e,0,2))&&(2===e.length||"/"===(t=R(e,2))||"\\"===t||"?"===t||"#"===t)},ye=function(e){return"."===e||"%2e"===V(e)},ve={},me={},ge={},be={},we={},_e={},Ee={},Se={},Pe={},Oe={},xe={},Ae={},ke={},Te={},Le={},Ie={},Ce={},Re={},Me={},Ne={},je={},De=function(e,t,n){var r,i,o,a=b(e);if(t){if(i=this.parse(a))throw new T(i);this.searchParams=null}else{if(void 0!==n&&(r=new De(n,!0)),i=this.parse(a,null,r))throw new T(i);(o=A(new x)).bindURL(this),this.searchParams=o}};De.prototype={type:"URL",parse:function(e,t,n){var i,o,a,s,c,u=this,l=t||ve,d=0,f="",p=!1,m=!1,g=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=F(e,re,""),e=F(e,ie,"$1")),e=F(e,oe,""),i=y(e);d<=i.length;){switch(o=i[d],l){case ve:if(!o||!M(X,o)){if(t)return G;l=ge;continue}f+=V(o),l=me;break;case me:if(o&&(M(K,o)||"+"===o||"-"===o||"."===o))f+=V(o);else{if(":"!==o){if(t)return G;f="",l=ge,d=0;continue}if(t&&(u.isSpecial()!==h(fe,f)||"file"===f&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=f,t)return void(u.isSpecial()&&fe[u.scheme]===u.port&&(u.port=null));f="","file"===u.scheme?l=Te:u.isSpecial()&&n&&n.scheme===u.scheme?l=be:u.isSpecial()?l=Se:"/"===i[d+1]?(l=we,d++):(u.cannotBeABaseURL=!0,U(u.path,""),l=Me)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!==o)return G;if(n.cannotBeABaseURL&&"#"===o){u.scheme=n.scheme,u.path=v(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=je;break}l="file"===n.scheme?Te:_e;continue;case be:if("/"!==o||"/"!==i[d+1]){l=_e;continue}l=Pe,d++;break;case we:if("/"===o){l=Oe;break}l=Re;continue;case _e:if(u.scheme=n.scheme,o===r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.query=n.query;else if("/"===o||"\\"===o&&u.isSpecial())l=Ee;else if("?"===o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.query="",l=Ne;else{if("#"!==o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.path.length--,l=Re;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=v(n.path),u.query=n.query,u.fragment="",l=je}break;case Ee:if(!u.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=Re;continue}l=Oe}else l=Pe;break;case Se:if(l=Pe,"/"!==o||"/"!==R(f,d+1))continue;d++;break;case Pe:if("/"!==o&&"\\"!==o){l=Oe;continue}break;case Oe:if("@"===o){p&&(f="%40"+f),p=!0,a=y(f);for(var w=0;w<a.length;w++){var _=a[w];if(":"!==_||g){var E=de(_,le);g?u.password+=E:u.username+=E}else g=!0}f=""}else if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(p&&""===f)return"Invalid authority";d-=y(f).length+1,f="",l=xe}else f+=o;break;case xe:case Ae:if(t&&"file"===u.scheme){l=Ie;continue}if(":"!==o||m){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(u.isSpecial()&&""===f)return q;if(t&&""===f&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(f))return s;if(f="",l=Ce,t)return;continue}"["===o?m=!0:"]"===o&&(m=!1),f+=o}else{if(""===f)return q;if(s=u.parseHost(f))return s;if(f="",l=ke,t===Ae)return}break;case ke:if(!M(J,o)){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()||t){if(""!==f){var S=L(f,10);if(S>65535)return Y;u.port=u.isSpecial()&&S===fe[u.scheme]?null:S,f=""}if(t)return;l=Ce;continue}return Y}f+=o;break;case Te:if(u.scheme="file","/"===o||"\\"===o)l=Le;else{if(!n||"file"!==n.scheme){l=Re;continue}switch(o){case r:u.host=n.host,u.path=v(n.path),u.query=n.query;break;case"?":u.host=n.host,u.path=v(n.path),u.query="",l=Ne;break;case"#":u.host=n.host,u.path=v(n.path),u.query=n.query,u.fragment="",l=je;break;default:pe(N(v(i,d),""))||(u.host=n.host,u.path=v(n.path),u.shortenPath()),l=Re;continue}}break;case Le:if("/"===o||"\\"===o){l=Ie;break}n&&"file"===n.scheme&&!pe(N(v(i,d),""))&&(he(n.path[0],!0)?U(u.path,n.path[0]):u.host=n.host),l=Re;continue;case Ie:if(o===r||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&he(f))l=Re;else if(""===f){if(u.host="",t)return;l=Ce}else{if(s=u.parseHost(f))return s;if("localhost"===u.host&&(u.host=""),t)return;f="",l=Ce}continue}f+=o;break;case Ce:if(u.isSpecial()){if(l=Re,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==r&&(l=Re,"/"!==o))continue}else u.fragment="",l=je;else u.query="",l=Ne;break;case Re:if(o===r||"/"===o||"\\"===o&&u.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(c=V(c=f))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"===o||"\\"===o&&u.isSpecial()||U(u.path,"")):ye(f)?"/"===o||"\\"===o&&u.isSpecial()||U(u.path,""):("file"===u.scheme&&!u.path.length&&he(f)&&(u.host&&(u.host=""),f=R(f,0)+":"),U(u.path,f)),f="","file"===u.scheme&&(o===r||"?"===o||"#"===o))for(;u.path.length>1&&""===u.path[0];)B(u.path);"?"===o?(u.query="",l=Ne):"#"===o&&(u.fragment="",l=je)}else f+=de(o,ue);break;case Me:"?"===o?(u.query="",l=Ne):"#"===o?(u.fragment="",l=je):o!==r&&(u.path[0]+=de(o,se));break;case Ne:t||"#"!==o?o!==r&&("'"===o&&u.isSpecial()?u.query+="%27":u.query+="#"===o?"%23":de(o,se)):(u.fragment="",l=je);break;case je:o!==r&&(u.fragment+=de(o,ce))}d++}},parseHost:function(e){var t,n,r;if("["===R(e,0)){if("]"!==R(e,e.length-1))return q;if(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return R(e,d)};if(":"===f()){if(":"!==R(e,1))return;d+=2,l=++u}for(;f();){if(8===u)return;if(":"!==f()){for(t=n=0;n<4&&M(ee,f());)t=16*t+L(f(),16),d++,n++;if("."===f()){if(0===n)return;if(d-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."===f()&&r<4))return;d++}if(!M(J,f()))return;for(;M(J,f());){if(o=L(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++r&&4!==r||u++}if(4!==r)return;break}if(":"===f()){if(d++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!==u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!==u)return;return c}(H(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=g(e),M(te,e))return q;if(t=function(e){var t,n,r,i,o,a,s,c=z(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=c[r]))return e;if(o=10,i.length>1&&"0"===R(i,0)&&(o=M(Q,i)?16:8,i=H(i,8===o?1:2)),""===i)a=0;else{if(!M(10===o?Z:8===o?$:ee,i))return e;a=L(i,o)}U(n,a)}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=C(256,5-t))return null}else if(a>255)return null;for(s=D(n),r=0;r<n.length;r++)s+=n[r]*C(256,3-r);return s}(e),null===t)return q;this.host=t}else{if(M(ne,e))return q;for(t="",n=y(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return h(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ae(i),null!==o&&(u+=":"+o)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw new T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Ue(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=y(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=y(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,xe)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,ke))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ce))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===R(e,0)&&(e=H(e,1)),this.query="",this.parse(e,Ne)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=b(e))?("#"===R(e,0)&&(e=H(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ue=function(e){var t=f(this,Fe),n=_(arguments.length,1)>1?arguments[1]:void 0,r=P(t,new De(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Fe=Ue.prototype,Be=function(e,t){return{get:function(){return O(this)[e]()},set:t&&function(e){return O(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(Fe,"href",Be("serialize","setHref")),d(Fe,"origin",Be("getOrigin")),d(Fe,"protocol",Be("getProtocol","setProtocol")),d(Fe,"username",Be("getUsername","setUsername")),d(Fe,"password",Be("getPassword","setPassword")),d(Fe,"host",Be("getHost","setHost")),d(Fe,"hostname",Be("getHostname","setHostname")),d(Fe,"port",Be("getPort","setPort")),d(Fe,"pathname",Be("getPathname","setPathname")),d(Fe,"search",Be("getSearch","setSearch")),d(Fe,"searchParams",Be("getSearchParams")),d(Fe,"hash",Be("getHash","setHash"))),l(Fe,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),l(Fe,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),k){var ze=k.createObjectURL,He=k.revokeObjectURL;ze&&l(Ue,"createObjectURL",c(ze,k)),He&&l(Ue,"revokeObjectURL",c(He,k))}w(Ue,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Ue})},5735:function(e,t,n){"use strict";n(6447)}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.m=n,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return"surf-srcdoc-frame.bundle.js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="livecommerce-embed:",i.l=function(n,r,o,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var f=function(t,r){s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://lcx-embed.bambuser.com/",function(){var e={179:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],s=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);c&&c(i)}for(t&&t(n);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunklivecommerce_embed=self.webpackChunklivecommerce_embed||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";i(6031),i(5822),i(6187),i(8690),i(1908),i(2663),i(6225),i(7134),i(4567),i(9228),i(9883),i(753),i(1632),i(7337),i(9574),i(3227),i(1414),i(4011),i(1431),i(2904),i(9139),i(8075),i(1597),i(3127),i(7666),i(4159),i(2659),i(8949),i(6028),i(6066),i(3370),i(8646),i(1270),i(1970),i(1413),i(8349),i(4134),i(6626),i(8305),i(433),i(4690);var e=i(1401);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var t="function"==typeof Map?new Map:void 0;return n=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return r(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},n(e)}function r(e,t,n){return r=o()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},r.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}i(6763);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,e);var n,r,i,c=(r=u,i=o(),function(){var e,n=s(r);if(i){var o=s(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).name="BambuserLiveShoppingError",t}return n=u,Object.defineProperty(n,"prototype",{writable:!1}),n}(n(Error)),u=i(1707),l=i.n(u);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(){f=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:k(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function _(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,P=S&&S(S(R([])));P&&P!==n&&r.call(P,a)&&(E=P);var O=_.prototype=b.prototype=Object.create(E);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,s){var c=h(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==d(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,n,r){var i=p;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?m:y,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(d(t)+" is not iterable")}return w.prototype=_,i(O,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}i(9034);var v=null;function m(){if(null===v){var e=navigator.userAgent||navigator.vendor||window.opera;v=/android/i.test(e)}return v}var g=null,b=null;function w(){if(null===b){var e=navigator.userAgent||navigator.vendor||window.opera;b=/iPad|iPhone|iPod/.test(e)&&!window.MSStream}return b}var _,E,S=null;function P(){if(null===S){var e=navigator.maxTouchPoints>1;S="MacIntel"===navigator.platform&&e&&!window.MSStream}return S}var O=window.navigator.userAgent.match(/^targetapp_(android|ios)_([0-9]+).*$/);function x(){return navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")}function A(){if("ios"===_)return E;var e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return e||(e=navigator.userAgent.match(/FBSV\/(\d+(\.\d)*);/))?parseInt(e[1],10):0}O&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_=e,E="string"==typeof t?parseInt(t,10):t,"ios"===e?b=!0:"android"===e&&(v=!0)}(O[1],parseInt(O[2],10)),window.navigator.userAgent.match(/Firefox\//)&&navigator.userAgent.match(/Seamonkey\//);var k,T=null;function L(){return null!==T?T:T=!(w()&&x()&&A()>=15)&&!!navigator.userAgent&&!/Instagram/.test(navigator.userAgent)&&(/FBIOS|MessengerForiOS/.test(navigator.userAgent)?{name:"fb"}:/FB4A|FBAV|FBSV|FB_IAB/.test(navigator.userAgent)?{name:"fb",deniesIframeInitiatedRedirect:!0}:w()&&/LinkedInApp/.test(navigator.userAgent)?{name:"linkedin"}:!!/Snapchat/.test(navigator.userAgent)&&{name:"snapchat",deniesIframeInitiatedRedirect:!0})}function I(e,t){return C.apply(this,arguments)}function C(){var e;return e=f().mark((function e(t,n){var r,i,o,a,s,c,u,l,d,p,y,v,g,b,_;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_=function(){document.hidden&&b()},b=function(){clearInterval(g),g=null,document.removeEventListener("visibilitychange",_)},r=n.onRedirect,i=void 0===r?function(e,t){return t.undesiredBrowser,document.location=e}:r,o=n.onFail,a=void 0===o?function(){}:o,s=n.onLog,c=void 0===s?function(e,t){}:s,u=L()){e.next=6;break}return e.abrupt("return");case 6:l=t.split("//").slice(1).join("//"),d=0,p=[],w()&&x()&&(p=[].concat(h(p),["googlechrome://".concat(l),"firefox://open-url?url=".concat(encodeURIComponent(t))])),m()&&(p=[].concat(h(p),["intent://".concat(l,"#Intent;scheme=http;end")])),y=-1,v=function(){y++,d++;var e=p[y];if(e){var t=e.split(":")[0];c("open_external_browser",{bls_ubn:u.name,bls_ubm:t}),i(e,{undesiredBrowser:u})}else b(),a(),c("open_external_browser_fallback",{bls_ubn:u.name,bls_ubm:"none",attempts:d})},g=setInterval(v,w()?1e3:500),document.addEventListener("visibilitychange",_),v();case 17:case"end":return e.stop()}}),e)})),C=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)}))},C.apply(this,arguments)}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function M(){M=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==R(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(R(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function N(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function j(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}function D(e){return U.apply(this,arguments)}function U(){var e;return e=M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.requestFullscreen?n=t.requestFullscreen():t.webkitRequestFullscreen?n=t.webkitRequestFullscreen():t.mozRequestFullScreen?n=t.mozRequestFullScreen():t.msRequestFullscreen&&(n=t.msRequestFullscreen()),!n){e.next=11;break}return e.prev=2,e.next=5,n;case 5:k=t,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new Error('Could not enter fullscreen. If using an iframe, ensure the allow="fullscreen" attribute is set.');case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),U=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(void 0)}))},U.apply(this,arguments)}function F(){var e=j();if(e&&e===k){if(document.exitFullscreen)return document.exitFullscreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();if(document.msExitFullscreen)return document.msExitFullscreen()}}function B(){var e=j();return!!e&&e===k}function z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var H={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},V=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=z({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",z({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,z({},this.attributes,t))},withConverter:function(t){return e(z({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(H,{path:"/"}),W=function(e){return V.get(e)},G=function(e,t,n){try{V.set(e,t,n)}catch(e){}},q={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Y;const X=new Uint8Array(16);function K(){if(!Y&&(Y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y(X)}const J=[];for(let e=0;e<256;++e)J.push((e+256).toString(16).slice(1));var Q=function(e,t,n){if(q.randomUUID&&!t&&!e)return q.randomUUID();const r=(e=e||{}).random||(e.rng||K)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return J[e[t+0]]+J[e[t+1]]+J[e[t+2]]+J[e[t+3]]+"-"+J[e[t+4]]+J[e[t+5]]+"-"+J[e[t+6]]+J[e[t+7]]+"-"+J[e[t+8]]+J[e[t+9]]+"-"+J[e[t+10]]+J[e[t+11]]+J[e[t+12]]+J[e[t+13]]+J[e[t+14]]+J[e[t+15]]}(r)};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var i=ne(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e,t,n){return(t=le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:String(t)}var de=function(){function e(){if(se(this,e),!this.constructor.model)throw new Error("Cannot generate a schema without a schema model");this._schema={},this._decorators={},this._autoAddChainMethodsForSchema(this.constructor.model)}return ue(e,[{key:"_autoAddChainMethodsForSchema",value:function(t){var n=this;t&&Object.entries(t).forEach((function(t){var r=oe(t,2),i=r[0],o=r[1];o&&o.prototype instanceof e?(n._schema[i]=new o,n[i]=function(e){return e(n._schema[i]),n}):Array.isArray(o)&&o[0]&&o[0].prototype instanceof e?(n._schema[i]=[],n[i]=function(e){return n._schema[i]=e((function(){return new o[0]})),n}):(n._schema[i]=o||null,n[i]=function(e){return null!=e&&(n._schema[i]=e),n})}))}},{key:"_toObject",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._parent=n,Object.entries(this._schema).reduce((function(n,r){var i=oe(r,2),o=i[0],a=i[1];return a&&a.prototype instanceof fe&&(a=new a),a instanceof fe?n[o]=a.get(t,o):a instanceof e?n[o]=a._toObject(t):Array.isArray(a)&&a[0]instanceof e?n[o]=a.map((function(e){return e._toObject(t)})):n[o]=a,n}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._decorators))}},{key:"decorate",value:function(e,t){if(this[e])throw new Error("Cannot add decorator ".concat(e," to ").concat(this.constructor.name," as it already exists as a property"));return this._decorators[e]=t,this}},{key:"toObject",value:function(){return this._toObject()}}]),e}(),fe=function(){function e(){se(this,e)}return ue(e,[{key:"get",value:function(){throw new Error("Cannot use AbstractSchemaValue as value directly")}}]),e}(),he=function(e){Z(n,e);var t=te(n);function n(e,r){var i;return se(this,n),(i=t.call(this))._validate(e,r),i.parentClass=e,i.propertyName=r,i}return ue(n,[{key:"maxLevelOfTraversion",get:function(){return 15}},{key:"_validate",value:function(e,t){if(!e||!t)throw new Error('Cannot instantiate InheritedValue without specifying "parentClass" and "propertyName" - have you looked at the static "InheritedValue.from()" method?');if(!(e.prototype instanceof de))throw new Error("Cannot inherit values from classes not derived from SchemaModel");if(!e.model.hasOwnProperty(t))throw new Error('Cannot inherit value "'.concat(t,'" as it does not exist on parent "').concat(e.name,'"'))}},{key:"get",value:function(e,t){for(var n=e,r=0;!(n instanceof this.parentClass)&&r<this.maxLevelOfTraversion;)n=n._parent,r++;if(!(n instanceof this.parentClass))throw new Error('Inherting value "'.concat(this.propertyName,'" failed as parent "').concat((new this.parentClass).constructor.name,'" does not exist'));return n._schema[this.propertyName]?n._schema[this.propertyName]:(new pe).get(e,t)}}],[{key:"from",value:function(e,t){try{return new n(e,t)}catch(e){return console.error("Falling back to RequiredValue because of error: ".concat(e.message)),pe}}}]),n}(fe),pe=function(e){Z(n,e);var t=te(n);function n(){return se(this,n),t.apply(this,arguments)}return ue(n,[{key:"get",value:function(e,t){throw new Error('Schema "'.concat(e.constructor.name,'" missing required value "').concat(t,'"'))}}]),n}(fe);function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var i=ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function Ee(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==be(t)?t:String(t)}var Pe=function(){function e(t){if(we(this,e),!this._schemaVersions[t])throw new Error("Trying to create a product of unsupported version ".concat(t));this._version=t}return Ee(e,[{key:"_schemaVersions",get:function(){return{3:Oe}}},{key:"_createProduct",value:function(e){return new(0,this._schemaVersions[e])}},{key:"get",value:function(){return this._product||(this._product=this._createProduct(this._version),this._product.decorate("_schemaVersion",this._version)),this._product}},{key:"getWithId",value:function(e){return this.get().decorate("_id",e)}}]),e}(),Oe=function(e){ye(n,e);var t=me(n);function n(){return we(this,n),t.apply(this,arguments)}return Ee(n,[{key:"inheritFromPlaceholder",value:function(){return this.product((function(e){return e.name("").sku("")})).decorate("_fromTemplate",!0)}},{key:"publicUrl",value:function(e){return this.decorate("_publicUrl",e)}},{key:"hidden",value:function(e){return this.decorate("_hidden",e)}}],[{key:"model",get:function(){return{currency:pe,locale:pe,product:xe,vendor:pe}}}]),n}(de),xe=function(e){ye(n,e);var t=me(n);function n(){return we(this,n),t.apply(this,arguments)}return Ee(n,null,[{key:"model",get:function(){return{brandName:"",defaultVariationIndex:0,description:"",name:pe,sku:pe,introduction:"",variations:[Ae]}}}]),n}(de),Ae=function(e){ye(n,e);var t=me(n);function n(){return we(this,n),t.apply(this,arguments)}return Ee(n,null,[{key:"model",get:function(){return{attributes:ke,imageUrls:[],name:pe,sku:pe,sizes:[Te]}}}]),n}(de),ke=function(e){ye(n,e);var t=me(n);function n(){return we(this,n),t.apply(this,arguments)}return Ee(n,null,[{key:"model",get:function(){return{colorName:he.from(Ae,"name"),colorHexCode:null,colorImage:null}}}]),n}(de),Te=function(e){ye(n,e);var t=me(n);function n(){return we(this,n),t.apply(this,arguments)}return Ee(n,null,[{key:"model",get:function(){return{name:pe,inStock:!0,price:Le,sku:pe}}}]),n}(de),Le=function(e){ye(n,e);var t=me(n);function n(){return we(this,n),t.apply(this,arguments)}return Ee(n,null,[{key:"model",get:function(){return{currency:he.from(Oe,"currency"),current:pe,original:null,perUnit:null,unitAmount:null,unitDisplayName:null}}}]),n}(de),Ie=function(e){var t=new Pe(3).getWithId(e);return t.vendor("hydratable-product"),t};function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Me(r.key),r)}}function Me(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ce(t)?t:String(t)}var Ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"transform",value:function(){throw new c("Cannot transform config using an abstract transformer!")}}])&&Re(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fe(r.key),r)}}function Ue(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fe(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==je(t)?t:String(t)}i(3402);var Be=Ue((function t(n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!n)throw new c("Cannot create a BambuserLiveShoppingPlayerAPIEmbedInstanceAdapter\n        without an instance of embed.js (BambuserLiveShopping)");this._embedInstance=n,this.destroy=function(){return r._embedInstance.destroy()},this.minimize=function(e){return r._embedInstance.minimize(e)},this.unminimize=function(){return r._embedInstance.unminimize()},this.showCheckout=function(e){return r._embedInstance.showCheckout(e)},this.updatePlayerCart=function(e){return r._embedInstance.updatePlayerCart(e)},this.updateProducts=function(e){return r._embedInstance.updateProducts(e)},this.hideUI=function(e){return r._embedInstance.hideUI(e)},this.showUI=function(){return r._embedInstance.showUI()},this.currentPlayerController=function(){return r._embedInstance.currentPlayerController()},this.playerControllers=function(){return r._embedInstance.playerControllers()},this.externalPlayerControllerEvent=function(e){return r._embedInstance.externalPlayerControllerEvent(e)},this.play=function(){return r._embedInstance.play()},this.pause=function(){return r._embedInstance.pause()},this.showProductList=function(){return r._embedInstance.showProductList()},this.hideProductList=function(){return r._embedInstance.hideProductList()},this.getHighlightedProductsList=function(){return r._embedInstance.playerApiCall(e.mL.PRODUCT_HIGHLIGHT_LIST,null,!0)},this.seekToPercent=function(e){return r._embedInstance.seekToPercent(e)},this.mute=function(){return r._embedInstance.mute()},this.unmute=function(){return r._embedInstance.unmute()},this.setTrackingTags=function(e){return r._embedInstance.setTrackingTags(e)},this.setRootFontSize=function(t){return r._embedInstance.playerApiCall(e.mL.SET_ROOT_FONT_SIZE,t,!1)},this.requestPictureInPicture=function(){return r._embedInstance.playerApiCall(e.mL.REQUEST_PICTURE_IN_PICTURE,null,!0)},this.exitPictureInPicture=function(){return r._embedInstance.playerApiCall(e.mL.EXIT_PICTURE_IN_PICTURE,null,!0)},this.updateSafeAreaInsets=function(t){return r._embedInstance.playerApiCall(e.mL.UPDATE_SAFE_AREA_INSETS,t,!1)},this.updateWishlistStatus=function(t){return r._embedInstance.playerApiCall(e.mL.PROVIDE_WISHLIST_STATUS,t,!1)},this.close=function(){return r._embedInstance.close({origin:"api"})}}));function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e,t,n){var r;return r=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==ze(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}i(4750),i(5439);var Ge=new RegExp(/^[a-z0-9]{15,30}$/,"i"),qe=new RegExp(/^[a-z]{2}v_[a-z0-9]{22}$/,"i"),Ye=function e(t,n){return Xe(t)&&Xe(n)?(Object.entries(n).forEach((function(n){var r,i,o=(i=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(r,i)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],c=t[a];Array.isArray(c)&&Array.isArray(s)?t[a]=c.concat(s):Xe(c)&&Xe(s)?t[a]=e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c),s):t[a]=s})),t):n},Xe=function(e){return e&&"object"===ze(e)&&!Array.isArray(e)},Ke=function(){return window.location.hash.match(/^#bamlvs-([a-zA-Z0-9]+)/)},Je=function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return t?t.shadowRoot?e(t.shadowRoot):t:null};function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e,t,n){return(t=nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nt(r.key),r)}}function nt(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qe(t)?t:String(t)}var rt=new WeakMap,it=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.setConfig({})}var n,r;return n=t,r=[{key:"configurableButtons",get:function(){return["checkout","dismiss","product","minimize","actionCard","productList"]}},{key:"configurableProperties",get:function(){return["buttons","currency","disableChatInput","enableFirstPartyCookies","experimental","locale","floatingPlayer","mockLive","includeQueryParams","playerContainerNode","shareBaseUrl","allowSoundControl","ui","miniPlayer","cookie","allowShareAutoplay","trimPriceTrailingZeros","minimizedPosition","miniplayerSize","checkoutOnCartClick","startMuted","shareTargets","_useExternalPlayerController","deeplink","disableClickOutsideBehavior","withGA","autoplay","themeId","trackingTags","audioTrackLocale","useViewportFitScale","overrideSafeAreaInsets","_preloadedExternalPlayer","_externalProvidedUid","allowMinimizeOnCurtains","disableTouchMoveScrollPrevention","_sourceAppSuffix","_disableWindowOpen","neverCollapseTimelineBarMobile"]}},{key:"configurableFloatingPlayerProperties",get:function(){return["navigationMode"]}},{key:"configurableUIPlayerProperties",get:function(){return["hideActionBar","hideProductView","hideCartButton","hideCartView","hideChatOverlay","hideEmojiOverlay","hideProductList","hideShareButton","hideShareView","hideShare","hideAddToCalendar","hideAddToCalendarButton","hideWishlist","hidePromotedShows","showShareButtonInMobileActionBar","hidePlaybackRateButton"]}},{key:"configurableCookiePlayerProperties",get:function(){return["domain","activityCookieTTLDays"]}},{key:"defaultConfiguration",get:function(){var t,n={enableFirstPartyCookies:!0,includeQueryParams:["bamTag","shareLiveShopping","socialMediaLiveshopping"],buttons:{}},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.configurableButtons);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.buttons[i]=e.Ze.AUTO}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"rawConfig",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},rt.get(this))}},{key:"getConfig",value:function(){return Ye(this.defaultConfiguration,this.rawConfig)}},{key:"getConfigUsingTransformer",value:function(e){if(!(e instanceof Ne))throw new c("getConfigUsingTransformer() requires a valid subclass of AbstractBambuserLSConfigurationTransformer as first parameter");return e.transform(this)}},{key:"setConfig",value:function(e){rt.set(this,e)}}],r&&tt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var st=function(e,t){return Object.entries(e).filter((function(e){var n=ot(e,2)[1];return t.includes(n)})).reduce((function(e,t){var n=ot(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})},ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";if(e&&["fatal","error","warning","log","info","debug","critical"].includes(t)){var n={message:e,level:t,event_id:Q().replace(/-/g,""),platform:"javascript",timestamp:Date.now()/1e3,request:{url:window.location.href,headers:{"User-Agent":window.navigator.userAgent}}};window.fetch&&window.fetch("https://sentry.bambuser.com/api/10/store/?sentry_key=c49605370c354874b15fb74f834659cf&sentry_version=7",{method:"POST",body:JSON.stringify(n)})}};function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dt(r.key),r)}}function dt(e){var t=function(e,t){if("object"!=ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ut(t)?t:String(t)}var ft=new WeakMap,ht=function(e){return ft.get(e)},pt=function(e){return'Configuration property "'.concat(e,'" must be an object')},yt=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft.set(this,e)}var n,r;return n=t,r=[{key:"BUTTON",get:function(){return t=ht(this).publicButtonBehaviors,st(e.Ze,t);var t}},{key:"EVENT",get:function(){return t=ht(this).publicEvents,st(e.wh,t);var t}},{key:"FLOATING_PLAYER_NAVIGATION_MODE",get:function(){return t=ht(this).publicFloatingPlayerNavigationModes,st(e.NR,t);var t}},{key:"MINIMIZED_POSITION",get:function(){return t=ht(this).publicMinimizedPositions,st(e.Ug,t);var t}},{key:"MINIPLAYER_SIZE",get:function(){return t=ht(this).publicMiniplayerSizes,st(e.Pr,t);var t}},{key:"close",value:function(){ht(this).embedInstance.close()}},{key:"minimize",value:function(e){ht(this).embedInstance.minimize(e)}},{key:"unminimize",value:function(){ht(this).embedInstance.unminimize()}},{key:"updateSafeAreaInsets",value:function(e){if(!Xe(e))throw new c("Insets must be an object");var t=["top","right","bottom","left"];Object.keys(e).forEach((function(n){if(!t.includes(n))throw new c("Insets must be an object with top, right, bottom and left keys");if("number"!=typeof e[n])throw new c("Insets must be an object with top, right, bottom and left keys with number values")})),ht(this).embedInstance.updateSafeAreaInsets(e)}},{key:"configure",value:function(e){var t=ht(this).config,n=t.configurableProperties,r=t.configurableButtons,i=t.configurableFloatingPlayerProperties,o=t.configurableUIPlayerProperties,a=t.configurableCookiePlayerProperties;if(!Xe(e))throw new c("Invalid configuration provided");var s=function(e,t){var n={};return Object.keys(t).forEach((function(r){e.includes(r)&&(n[r]=t[r])})),n},u=s(n,e);if(u.hasOwnProperty("disableClickOutsideBehaviour")){u.disableClickOutsideBehavior=u.disableClickOutsideBehaviour,delete u.disableClickOutsideBehaviour;var l="Use of deprecated UK config name: disableClickOutsideBehaviour (in player.configure)";ct(l),console.warn(l,'Please use "disableClickOutsideBehavior" instead')}if(u.buttons){if(!Xe(u.buttons))throw new c(pt("buttons"));if(u.buttons=s(r,u.buttons),!function(e,t){return Object.values(t).every((function(t){return e.includes(t)}))}(ht(this).publicButtonBehaviors,u.buttons))throw new c('Configuration property "buttons" contain invalid button behaviors')}if(u.experimental&&!Xe(u.experimental))throw new c(pt("experimental"));if(u.ui){if(!Xe(u.ui))throw new c(pt("ui"));u.ui=s(o,u.ui)}if(u.miniPlayer){if(!Xe(u.miniPlayer))throw new c(pt("miniPlayer"));if(u.miniPlayer.edgeSpacing&&!Xe(u.miniPlayer.edgeSpacing))throw new c(pt("miniPlayer.edgeSpacing"))}if(u.cookie){if(!Xe(u.cookie))throw new c(pt("cookie"));u.cookie=s(a,u.cookie)}if(u.floatingPlayer){if(!Xe(u.floatingPlayer))throw new c(pt("floatingPlayer"));if(u.floatingPlayer=s(i,u.floatingPlayer),u.floatingPlayer.hasOwnProperty("navigationMode")&&!ht(this).publicFloatingPlayerNavigationModes.includes(u.floatingPlayer.navigationMode))throw new c('Floating player configuration property "navigationMode" has an invalid mode')}if(u.minimizedPosition){if("string"!=typeof u.minimizedPosition)throw new c('Configuration property "minimizedPosition" must be a string');if(!ht(this).publicMinimizedPositions.includes(u.minimizedPosition))throw new c('Floating player configuration property "minimizedPosition" has an invalid value')}if(u.shareTargets){if(!Array.isArray(u.shareTargets))throw new c('Configuration property "shareTargets" must be an array');u.shareTargets.forEach((function(e){if("string"!=typeof e)throw new c('Configuration property "shareTargets" must be an array of strings')}));try{u.shareTargets=JSON.stringify(u.shareTargets)}catch(e){throw new c('Configuration property "shareTargets" must be a valid JSON array')}}if(u.miniplayerSize){if("string"!=typeof u.miniplayerSize)throw new c('Configuration property "miniplayerSize" must be a string');if(!ht(this).publicMiniplayerSizes.includes(u.miniplayerSize))throw new c('Floating player configuration property "miniplayerSize" has an invalid value')}u.trackingTags&&this.setTrackingTags(u.trackingTags),u.locale&&(u.locale=String(u.locale).replace("_","-"));var d=["buttons","ui","cookie","floatingPlayer"];Object.keys(u).forEach((function(e){d.includes(e)&&"object"===ut(u[e])&&null!==u[e]&&!Object.keys(u[e]).length&&delete u[e]}));var f=ht(this).embedInstance._embedInstance.logger;f&&f.log("configure()",u,ht(this)),ht(this).config.setConfig(u)}},{key:"off",value:function(e,t){ht(this).off(e,t)}},{key:"on",value:function(e,t){ht(this).on(e,t)}},{key:"removeAllListeners",value:function(){for(var e in ht(this).eventSubscribers)delete ht(this).eventSubscribers[e]}},{key:"showCheckout",value:function(e){if(!e)throw new c('showCheckout() requires "checkoutPageUrl" to be provided as first param');if("string"!=typeof e)throw new c('showCheckout() got an invalid "checkoutPageUrl"');if(!e.includes("http"))throw new c('showCheckout() please specify protocol "http://" or "https://" in "checkoutPageUrl"');ht(this).embedInstance.showCheckout(e)}},{key:"updateCart",value:function(e){var t=e.items;if(!Array.isArray(t))throw new c("updateCart() requires cartData.items to be an array");t.length>0&&console.warn("updateCart() currently does not support inserting cart items.\n        You can only set an empty array ([]) for clearing the cart."),ht(this).embedInstance.updatePlayerCart({count:t.length,items:t})}},{key:"updateProduct",value:function(e,t){var n=ht(this).config.getConfig(),r=n.currency,i=n.locale;if(!e)throw new c("updateProduct() requires first param to be a valid product id");if("function"!=typeof t)throw new c("updateProduct() requires second param to be a function");var o=Ie(e);r&&o.currency(r),i&&o.locale(i);var a=t(o);if(!(a instanceof de))throw new c("updateProduct() must return a valid product");ht(this).embedInstance.updateProducts([a])}},{key:"updateProductWithData",value:function(e,t){var n=ht(this).config.getConfig(),r=n.currency,i=n.locale;if(!e)throw new c("updateProductWithData() requires first param to be a valid product id");if("object"!==ut(t)||null===t||Array.isArray(t))throw new c("updateProductWithData() requires second param to be an valid object");try{JSON.stringify(t)}catch(e){throw new c("updateProductWithData() requires second param to be a valid JSON object")}var o=Ie(e).locale(i).currency(r).product((function(e){return e.name(t.name).brandName(t.brandName).introduction(t.introduction).description(t.description).sku(t.sku).defaultVariationIndex(t.defaultVariationIndex||0).variations((function(e){return t.variations.map((function(t){return e().imageUrls(t.imageUrls).name(t.name).sku(t.sku).attributes((function(e){return e.colorName(t.colorName).colorHexCode(t.colorHexCode)})).sizes((function(e){return t.sizes.map((function(t){return e().name(t.name).sku(t.sku).inStock(!!t.inStock).price((function(e){return e.currency(t.currency).current(t.current).original(t.original).perUnit(t.perUnit).unitAmount(t.unitAmount).unitDisplayName(t.unitDisplayName)}))}))}))}))}))}));if(!(o instanceof de))throw new c("updateProduct() must return a valid product");ht(this).embedInstance.updateProducts([o])}},{key:"updateWishlistStatus",value:function(e){if(!Xe(e)||!Xe(e.statuses))throw new c("updateWishlistStatus() requires an object as parameter");ht(this).embedInstance.updateWishlistStatus(e)}},{key:"hideUI",value:function(e){ht(this).embedInstance.hideUI(e)}},{key:"showUI",value:function(){ht(this).embedInstance.showUI()}},{key:"play",value:function(){ht(this).embedInstance.play()}},{key:"pause",value:function(){ht(this).embedInstance.pause()}},{key:"showProductList",value:function(){return ht(this).embedInstance.showProductList()}},{key:"hideProductList",value:function(){return ht(this).embedInstance.hideProductList()}},{key:"getHighlightedProductsList",value:function(){return ht(this).embedInstance.getHighlightedProductsList()}},{key:"seekToPercent",value:function(e){ht(this).embedInstance.seekToPercent(e)}},{key:"mute",value:function(){ht(this).embedInstance.mute()}},{key:"unmute",value:function(){ht(this).embedInstance.unmute()}},{key:"setTrackingTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ht(this).embedInstance.setTrackingTags(e)}},{key:"setRootFontSize",value:function(e){if("number"!=typeof e&&"string"!=typeof e)throw new c("setRootFontSize() requires a number or a string as the first param");var t;if("number"==typeof e)t="".concat(e,"px");else{if(!/^\d+(\.\d+)?px$/.test(e))throw new c("setRootFontSize() accepts number or string with valid pixel value, provided value: ".concat(e));t=e}ht(this).embedInstance.setRootFontSize({fontSize:t})}},{key:"requestPictureInPicture",value:function(){return ht(this).embedInstance.requestPictureInPicture()}},{key:"exitPictureInPicture",value:function(){return ht(this).embedInstance.exitPictureInPicture()}},{key:"currentPlayerController",get:function(){return ht(this).embedInstance.currentPlayerController()}},{key:"playerControllers",get:function(){return ht(this).embedInstance.playerControllers()}},{key:"externalPlayerControllerEvent",value:function(e){ht(this).embedInstance.externalPlayerControllerEvent(e)}}],r&&lt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gt(r.key),r)}}function gt(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vt(t)?t:String(t)}var bt=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof Be))throw new c("Cannot create a new BambuserLiveShoppingPlayerAPIDelegate without a binding adapter for embed.js\n        (BambuserLiveShoppingPlayerAPIEmbedInstanceAdapter)");this._config=new it,this._embedInstance=e,this._eventSubscribers={},this._mounted=!1,this._publicAPI=new yt(this),this.resetPlayerControllers()}var n,r;return n=t,r=[{key:"config",get:function(){return this._config}},{key:"embedInstance",get:function(){return this._embedInstance}},{key:"eventSubscribers",get:function(){return this._eventSubscribers}},{key:"publicAPI",get:function(){return this._publicAPI}},{key:"publicButtonBehaviors",get:function(){return Object.values(e.Ze)}},{key:"publicEvents",get:function(){return[e.wh.ADD_TO_CART,e.wh.CHAT_MESSAGES,e.wh.CHECKOUT,e.wh.CLOSE,e.wh.HIDE_PRODUCT_LIST,e.wh.HIDE_CART,e.wh.HIDE_CHAT_OVERLAY,e.wh.NAVIGATE_BEHIND_TO,e.wh.PLAYER_SWIPE_DOWN,e.wh.PLAYER_SWIPE_LEFT,e.wh.PLAYER_SWIPE_RIGHT,e.wh.PLAYER_SWIPE_UP,e.wh.PROVIDE_PRODUCT_DATA,e.wh.PROVIDE_WISHLIST_STATUS,e.wh.LOAD,e.wh.LOAD_ERROR,e.wh.READY,e.wh.SHOW_ADD_TO_CALENDAR,e.wh.SHOW_EMOJI_BATCH,e.wh.SHOW_PRODUCT_LIST,e.wh.SHOW_CART,e.wh.SHOW_CHAT_OVERLAY,e.wh.SHOW_PRODUCT_VIEW,e.wh.HIDE_PRODUCT_VIEW,e.wh.UPDATE_SHOW_STATUS,e.wh.UPDATE_PRODUCT_HIGHLIGHT,e.wh.SHOW_PRODUCT_LIST,e.wh.SHOW_SHARE,e.wh.SUBSCRIBE,e.wh.SYNC_CART_STATE,e.wh.UNSUBSCRIBE,e.wh.UPDATE_ITEM_IN_CART,e.wh.NOTIFY_URL_CHANGE,e.wh.EXTERNAL_PLAYER_CONTROLLER_NEW,e.wh.EXTERNAL_PLAYER_CONTROLLER_CHANGE,e.wh.EXTERNAL_PLAYER_CONTROLLER_PLAY,e.wh.EXTERNAL_PLAYER_CONTROLLER_PAUSE,e.wh.EXTERNAL_PLAYER_CONTROLLER_SEEK,e.wh.EXTERNAL_PLAYER_CONTROLLER_LOAD,e.wh.EXTERNAL_PLAYER_CONTROLLER_HIDE,e.wh.EXTERNAL_PLAYER_CONTROLLER_SHOW,e.wh.EXTERNAL_PLAYER_CONTROLLER_REMOVE,e.wh.EXTERNAL_PLAYER_CONTROLLER_MUTE,e.wh.EXTERNAL_PLAYER_CONTROLLER_RESIZE,e.wh.EXTERNAL_PLAYER_CONTROLLER_CONTROLS,e.wh.EXTERNAL_PLAYER_CONTROLLER_SCALE_MODE,e.wh.EXTERNAL_PLAYER_CONTROLLER_PLAYBACK_SPEED,e.wh.PLAYBACK_STATUS,e.wh.PLAYER_CONTAINER_UPDATE,e.wh.ENTERED_PICTURE_IN_PICTURE,e.wh.EXITED_PICTURE_IN_PICTURE,e.wh.MUTED,e.wh.UNMUTED,e.wh.MINIMIZE,e.wh.ACTION_CARD_CLICKED,e.wh.TOP_UI_ELEMENT_SHOWN,e.wh.TOP_UI_ELEMENT_HIDDEN,e.wh.OPEN_URL,e.wh.FOCUS_WEB_COMPONENT_OUTSIDE_IFRAME,e.wh.PREVIEW_SHOULD_EXPAND,e.wh.ADD_TO_WISHLIST,e.wh.REMOVE_FROM_WISHLIST,e.wh.OPEN_WISHLIST,e.wh.OPEN_WISHLIST_LOGIN]}},{key:"publicFloatingPlayerNavigationModes",get:function(){return Object.values(e.NR)}},{key:"publicMinimizedPositions",get:function(){return Object.values(e.Ug)}},{key:"publicMiniplayerSizes",get:function(){return Object.values(e.Pr)}},{key:"getSupportedEvents",value:function(){return Object.keys(this.eventSubscribers)}},{key:"isMounted",value:function(){return this._mounted}},{key:"mount",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.embedInstance._embedInstance.logger;if(!this._mounted||r){if(!e)throw new c("Missing mountContext when mounting BambuserLiveShoppingPlayerAPIDelegate");if("function"!=typeof e[t])throw new c('Couldnt find method "'.concat(t,'" on provided mountContext'));i&&i.log("mount() API is mounting..."),this._mountContext=e,this._mountPoint=t;try{this._publicAPI.removeAllListeners(),this._mountContext[this._mountPoint](this._publicAPI,n),this._mounted=!0,i&&i.log("mount() API is now mounted")}catch(e){i&&i.error("mount() API mounting failed",e.message)}}else i&&i.log("mount() API already mounted")}},{key:"pushEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.data,i=n.callback,o=this.eventSubscribers[e];Array.isArray(o)&&o.forEach((function(n){try{n(r,i)}catch(n){var o=t.embedInstance._embedInstance.logger;o&&o.error('Event handler for event "'.concat(e,'" threw the exception'),n)}}))}},{key:"currentPlayerController",value:function(){return this._allPlayerControllers[this._currentPlayerControllerId]}},{key:"playerControllers",value:function(){return this._allPlayerControllers}},{key:"setupNewPlayerController",value:function(e){this._allPlayerControllers[e]||(this._allPlayerControllers[e]={id:e})}},{key:"changeCurrentPlayerController",value:function(e){this._currentPlayerControllerId=e}},{key:"resetPlayerControllers",value:function(){this._currentPlayerControllerId=null,this._allPlayerControllers={}}},{key:"off",value:function(e,t){if(!this.publicEvents.includes(e))throw new c('Trying to unsubscribe to non existing event "'.concat(e,'"'));if(!Array.isArray(this.eventSubscribers[e]))throw new c("Trying to unsubscribe to a an event without subscribers");var n=this.eventSubscribers[e].indexOf(t);this.eventSubscribers[e].splice(n,1)}},{key:"on",value:function(e,t){var n;if(!this.publicEvents.includes(e))throw new c('Trying to subscribe to non existing event "'.concat(e,'"'));Array.isArray(this.eventSubscribers[e])||(this.eventSubscribers[e]=[]),this.eventSubscribers[e].push(t),null===(n=this._embedInstance)||void 0===n||null===(n=n._embedInstance)||void 0===n||n._onPlayerApiEventHandlerAdded(e)}},{key:"setTrackingTags",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];null===(e=this._embedInstance)||void 0===e||e.setTrackingTags(t)}}],r&&mt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return(t=Ot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ot(r.key),r)}}function Ot(e){var t=function(e,t){if("object"!=wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wt(t)?t:String(t)}function xt(e,t){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xt(e,t)}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}var kt=["cartType","chatName","hasAcceptedTerms","playerUrl","sandboxAttributes","credentiallessIframes"],Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=At(r);if(i){var n=At(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this),!(e instanceof bt))throw new c("Cannot create a new BambuserLSLegacyConfigurationTransformer without providing a valid instance of         BambuserLiveShoppingPlayerAPIDelegate");return t._delegate=e,t}return t=a,(n=[{key:"transform",value:function(e){var t=this._delegate.publicAPI,n=e.getConfig(),r=this._delegate.getSupportedEvents(),i=Et(Et(Et({enableFirstPartyCookies:n.enableFirstPartyCookies,cartType:"external",checkoutTarget:"new-window",currency:n.currency,disableChatInput:n.disableChatInput,locale:n.locale,withoutProductDetails:!0,includeQueryParams:n.includeQueryParams,playerContainerNode:n.playerContainerNode,shareBaseUrl:n.shareBaseUrl,allowSoundControl:n.allowSoundControl,allowShareAutoplay:n.allowShareAutoplay,minimizedPosition:n.minimizedPosition,miniplayerSize:n.miniplayerSize},n.ui),{},{cookie:n.cookie,trimPriceTrailingZeros:n.trimPriceTrailingZeros,checkoutOnCartClick:n.checkoutOnCartClick,startMuted:n.startMuted,shareTargets:n.shareTargets,_useExternalPlayerController:n._useExternalPlayerController,deeplink:n.deeplink,disableClickOutsideBehavior:n.disableClickOutsideBehavior,withGA:n.withGA,autoplay:n.autoplay,themeId:n.themeId,audioTrackLocale:n.audioTrackLocale,useViewportFitScale:n.useViewportFitScale,overrideSafeAreaInsets:n.overrideSafeAreaInsets,_preloadedExternalPlayer:n._preloadedExternalPlayer,_externalProvidedUid:n._externalProvidedUid,allowMinimizeOnCurtains:n.allowMinimizeOnCurtains,_sourceAppSuffix:n._sourceAppSuffix,_disableWindowOpen:n._disableWindowOpen,disableTouchMoveScrollPrevention:n.disableTouchMoveScrollPrevention,neverCollapseTimelineBarMobile:n.neverCollapseTimelineBarMobile},n.experimental),n.miniPlayer);if(Object.keys(n.experimental||{}).every((function(e){return kt.includes(e)}))||console.warn("Usage of undocumented experimental property",n.experimental),n._sourceAppSuffix&&!["ios-sdk","android-sdk"].includes(n._sourceAppSuffix)&&(console.warn("Invalid _sourceAppSuffix",n._sourceAppSuffix),delete i._sourceAppSuffix),[t.EVENT.ADD_TO_CART,t.EVENT.CHECKOUT,t.EVENT.PROVIDE_PRODUCT_DATA].every((function(e){return r.includes(e)}))&&(i.withoutProductDetails=!1),n.buttons){var o=n.buttons.checkout;switch(o){case t.BUTTON.AUTO:case t.BUTTON.LINK:break;case t.BUTTON.MINIMIZE:i.checkoutTarget="current-window",i.withMinimizeSupport=!0;break;default:console.error('"'.concat(o,'" not yet supported as Checkout Button'))}var a=n.buttons.dismiss;switch(a){case t.BUTTON.AUTO:break;case t.BUTTON.CLOSE:i.withMinimizeSupport=!1;break;case t.BUTTON.MINIMIZE:i.withMinimizeSupport=!0;break;case t.BUTTON.NONE:i.hideCloseButton=!0;break;case t.BUTTON.EVENT:i.closeEventOnly=!0;break;default:console.error('"'.concat(a,'" not yet supported as Close Button'))}var s=n.buttons.product;switch(s){case t.BUTTON.AUTO:break;case t.BUTTON.LINK:i.withoutProductDetails=!0,i.openProductsTarget="new-window";break;case t.BUTTON.MINIMIZE:i.withMinimizeSupport=!0,i.withoutProductDetails=!0;break;case t.BUTTON.INLINE:i.openProductsTarget="inline";break;case t.BUTTON.NONE:case t.BUTTON.EVENT:i.openProductsTarget="none";break;default:console.error('"'.concat(s,'" not yet supported as Product Click Behavior'))}var c=n.buttons.minimize;switch(c){case t.BUTTON.AUTO:break;case t.BUTTON.EVENT:i.minimizeEventOnly=!0,i.withMinimizeSupport=!0;break;default:console.error('"'.concat(c,'" not yet supported as Product Click Behavior'))}switch(n.buttons.actionCard){case t.BUTTON.AUTO:break;case t.BUTTON.LINK:i.openActionCard="new-window";break;case t.BUTTON.INLINE:i.openActionCard="inline";break;case t.BUTTON.NONE:case t.BUTTON.EVENT:i.openActionCard="none";break;default:console.error('"'.concat(s,'" not yet supported as Action Card Click Behavior'))}var u=n.buttons.productList;switch(u){case t.BUTTON.AUTO:break;case t.BUTTON.EVENT:i.productListEventOnly="1";break;default:console.error('"'.concat(u,'" not yet supported as Product List Click Behavior'))}if(n.floatingPlayer){var l=n.floatingPlayer.navigationMode,d=void 0===l?null:l;if(d)switch(d){case t.FLOATING_PLAYER_NAVIGATION_MODE.IFRAME:case t.FLOATING_PLAYER_NAVIGATION_MODE.MANUAL:i.surfBehindMode=d;break;case t.FLOATING_PLAYER_NAVIGATION_MODE.IFRAME_SRCDOC:i.surfBehindMode=d,console.warn('Using floating player navigation mode "'.concat(d,'" is experimental'));break;default:console.error('Using floating player navigation mode "'.concat(d,'" not supported'))}}}return i.locale&&(i.locale=String(i.locale).replace("_","-")),i}}])&&Pt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ne);function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ct(r.key),r)}}function Ct(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Lt(t)?t:String(t)}var Rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.debug,r=t.isDev,i=t.logPrefix;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._debug=n,this._isDev=r,this._logPrefix=i}var t,n;return t=e,n=[{key:"log",value:function(){var e;arguments.length&&(arguments[0]="".concat(this._logPrefix).concat(arguments[0])),this._debug&&(e=console).log.apply(e,arguments)}},{key:"logDev",value:function(){var e;arguments.length&&(arguments[0]="".concat(this._logPrefix).concat(arguments[0])),this._isDev&&(e=console).log.apply(e,arguments)}},{key:"logProd",value:function(){var e;arguments.length&&(arguments[0]="".concat(this._logPrefix).concat(arguments[0])),(e=console).log.apply(e,arguments)}},{key:"warnProd",value:function(){var e;arguments.length&&(arguments[0]="".concat(this._logPrefix).concat(arguments[0])),(e=console).warn.apply(e,arguments)}},{key:"error",value:function(){var e;arguments.length&&(arguments[0]="".concat(this._logPrefix).concat(arguments[0])),(e=console).error.apply(e,arguments)}},{key:"warnProdDeprecated",value:function(){var e;arguments.length&&(arguments[0]="".concat(this._logPrefix," DEPRECATED: ").concat(arguments[0])),(e=console).warn.apply(e,arguments)}}],n&&It(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Nt(){Nt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Mt(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Mt(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function jt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Dt(e,t){return Ut.apply(this,arguments)}function Ut(){var e;return e=Nt().mark((function e(t,n){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(820).then(i.bind(i,6218));case 2:(0,e.sent.surf)(t,n);case 5:case"end":return e.stop()}}),e)})),Ut=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jt(o,r,i,a,s,"next",e)}function s(e){jt(o,r,i,a,s,"throw",e)}a(void 0)}))},Ut.apply(this,arguments)}var Ft={SMALL:{MOBILE:120,DESKTOP:180},LARGE:{MOBILE:150,DESKTOP:200}},Bt={SMALL:{MOBILE:.3,DESKTOP:.3},LARGE:{MOBILE:.38,DESKTOP:.4}},zt=function(e){return e.key?"Tab"===e.key:e.charCode&&9===e.charCode||e.keyCode&&9===e.keyCode};function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wt(r.key),r)}}function Wt(e){var t=function(e,t){if("object"!=Ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ht(t)?t:String(t)}var Gt="using-keyboard",qt=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isModeDetectionEnabled=!1,this.handleMouseDown=void 0,this.handleKeyDown=void 0}var t,n;return t=e,(n=[{key:"enableModeDetection",value:function(){if(!this.isModeDetectionEnabled&&(this.isModeDetectionEnabled=!0,this.handleMouseDown=function(){document.body.classList.remove(Gt)},this.handleKeyDown=function(e){zt(e)&&document.body.classList.add(Gt)},document.body.addEventListener("mousedown",this.handleMouseDown,!0),document.body.addEventListener("keydown",this.handleKeyDown,!0),this.surfFrame))try{this.surfFrame.contentWindow.addEventListener("mousedown",this.handleMouseDown,!0),this.surfFrame.contentWindow.addEventListener("keydown",this.handleKeyDown,!0)}catch(e){console.error(e)}}},{key:"disableModeDetection",value:function(){if(this.isModeDetectionEnabled&&(this.isModeDetectionEnabled=!1,document.body.removeEventListener("mousedown",this.handleMouseDown),document.body.removeEventListener("keydown",this.handleKeyDown),this.surfFrame))try{this.surfFrame.contentWindow.removeEventListener("mousedown",this.handleMouseDown,!0),this.surfFrame.contentWindow.removeEventListener("keydown",this.handleKeyDown,!0)}catch(e){console.error(e)}}},{key:"setSurfFrame",value:function(e){this.surfFrame=e}}])&&Vt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Yt=function(e,t){return"Player ".concat(e," config is ignored as ").concat(t," is disabled for the organization")};function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){var r;return r=function(e,t){if("object"!=Xt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Xt(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t,Zt=!1;function en(){window.dataLayer.push(arguments)}function tn(e){return Jt(Jt({},e),{},{send_to:$t})}function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,on(r.key),r)}}function on(e){var t=function(e,t){if("object"!=nn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nn(t)?t:String(t)}var an=new URLSearchParams(window.location.search),sn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"isParamTrue",value:function(e){var t=an.get(e);return t&&!!t.match(/^(1|true)$/)}},{key:"isParamFalse",value:function(e){var t=an.get(e);return t&&!!t.match(/^(0|false)$/)}}],null&&rn(t.prototype,null),n&&rn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){var r;return r=function(e,t){if("object"!=un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==un(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn,pn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.config,i=e.debug,o=e.isDesktop,a=e.isNonSupportedBrowser,s=e.logger,c=e._trackingContext,u=e._isAppDevEnv,l=dn(dn({},r),n),d=["type=".concat(l.type)],f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;t&&(void 0!==r&&(t=r),d.push("".concat(e,"=").concat(n?encodeURIComponent(t):t)))},h=sn.isParamTrue,p=sn.isParamFalse,y=o&&(l.allowSoundControl||h("allowSoundControl")),v=yn(window.location.search,l.includeQueryParams),m=l.hasOwnProperty("withMinimizeSupport"),g=l.trimPriceTrailingZeros,b=l.checkoutOnCartClick,w=l.disableClickOutsideBehavior,_=!!l.videoId;if(l.playerVersion&&f("playerVersion",l.playerVersion),l.isDashboard&&f("isDashboard",l.isDashboard),f("allowFullscreen",l.allowFullscreen,!1),f("allowSoundControl",y),f("allowShareAutoplay",l.allowShareAutoplay,!1,1),f("cartType",l.cartType),f("chatName",l.chatName,!0),f("checkoutTarget",_?"new-window":l.checkoutTarget),f("currency",l.currency),f("debug",i,!0),f("disableChatInput",l.disableChatInput,!1),f("deferReactAppInit",l.deferReactAppInit||h("deferReactAppInit")),f("channelId",l.channelId),f("eventId",l.eventId||l.videoId),f("originalEventId",l.originalEventId),f("isVOD",_),f("landscapeInPortrait",l.landscapeInPortrait),f("isVODStandalone",l.isVODStandalone),f("hasAcceptedTerms",l.hasAcceptedTerms,!1,1),f("hideActionBar",l.hideActionBar),f("hideCartButton",l.hideCartButton),f("hideCartView",l.hideCartView),f("hideChatOverlay",l.hideChatOverlay),f("hideEmojiOverlay",l.hideEmojiOverlay),f("hideCloseButton",l.hideCloseButton,!1,1),f("hideProductList",l.hideProductList),f("hideProductView",l.hideProductView),f("hideShareButton",l.hideShareButton),f("hideShareView",l.hideShareView||l.hideShare),f("hideWishlist",l.hideWishlist),f("hidePlaybackRateButton",l.hidePlaybackRateButton),f("hidePromotedShows",l.hidePromotedShows),l.hideShare&&s.warnProdDeprecated("Player config 'hideShare' is deprecated. Please use 'hideShareView' instead"),f("hideAddToCalendar",l.hideAddToCalendar),f("hideAddToCalendarButton",l.hideAddToCalendarButton),f("locale",l.locale),f("merchantHref",window.location.href.replace(/\?.+/,""),!0),f("merchantQueryParams",v),f("mockLiveBambuser",l.mockLive,!0),f("openProductsTarget",l.openProductsTarget),f("playerContainerNode",l.playerContainerNode,!0),f("trimPriceTrailingZeros",g||h("trimPriceTrailingZeros")),f("shareBaseUrl",l.shareBaseUrl,!0),f("shareTargets",l.shareTargets,!0),f("showShareButtonInMobileActionBar",l.showShareButtonInMobileActionBar),f("sourceUrl",l.sourceUrl||window.location.href,!0),f("withMinimizeSupport",m,!1,l.withMinimizeSupport?1:0),f("withoutProductDetails",l.withoutProductDetails,!1,"1"),f("checkoutOnCartClick",b),f("startMuted",l.startMuted),f("withGA",l.withGA),f("withBaaSPlayerPreloading",l.withBaaSPlayerPreloading||h("withBaaSPlayerPreloading")),f("autoplay",!0,!1,l.autoplay),f("appDevEnv",u),f("hideProducts",l.hideProducts),f("distributionPageId",l.distributionPageId),f("distributionContainerId",l.distributionContainerId),f("audioTrackLocale",l.audioTrackLocale),f("closeEventOnly",l.closeEventOnly),f("minimizeEventOnly",l.minimizeEventOnly),f("neverCollapseTimelineBarMobile",l.neverCollapseTimelineBarMobile),f("openActionCard",l.openActionCard),f("productListEventOnly",l.productListEventOnly),f("disableTouchMoveScrollPrevention",l.disableTouchMoveScrollPrevention),void 0!==l.allowMinimizeOnCurtains&&d.push("allowMinimizeOnCurtains=".concat(l.allowMinimizeOnCurtains?1:0)),"object"===un(l.overrideSafeAreaInsets))try{var E=JSON.stringify(l.overrideSafeAreaInsets);f("safeAreaInsets",encodeURIComponent(E))}catch(e){s.error("Failed to stringify safe area insets",e)}_&&f("autoShowAllProductsOnHighlightedArea",!0);var S=l.broadcastHash,P=l.timestamp;if(l.deeplink&&"string"==typeof l.deeplink){var O=l.deeplink.split("@");2===O.length&&O[0]&&O[1]&&(S=O[0],P=O[1])}if(f("br",S,!0),f("time",P,!0),f("disableClickOutsideBehavior",w),l.withClientSideProductData&&(s.warnProdDeprecated("Use of flag withClientSideProductData is deprecated, please use new product hydration"),d.push("withClientSideProductData=".concat(l.withClientSideProductData))),c&&(f("uid",c.userId),f("sid",c.sessionId)),l.themeId&&f("themeId",l.themeId),l.orgId&&f("orgId",l.orgId),l._useExternalPlayerController&&(f("useExternalPlayerController",l._useExternalPlayerController),l._preloadedExternalPlayer&&f("preloadedExternalPlayer",l._preloadedExternalPlayer)),l._disableWindowOpen&&f("disableWindowOpen",l._disableWindowOpen),l._sourceAppSuffix&&f("sourceAppSuffix",l._sourceAppSuffix),l.closedCaptions&&f("closedCaptions",l.closedCaptions),h("autoLoadPreviousRegistrySnapshot")&&f("autoLoadPreviousRegistrySnapshot",!0),h("_useMockPlayerController")&&f("_useMockPlayerController",!0),h("useNewImageTransformer")&&f("useNewImageTransformer",!0),h("bypassThemeCache")&&f("bypassThemeCache",!0),p("withStatePreloading")||f("withStatePreloading",!0),p("withChatMessageBackend")||f("withChatMessageBackend",!0),p("withReactionsBackend")||f("withReactionsBackend",!0),p("withProductsBackend")||f("withProductsBackend",!0),p("allowChatBlur")||f("allowChatBlur",!0),h("forceFocus")&&f("forceFocus",!0),f("webComponentTagName",l.webComponentTagName),t)return"".concat(d.join("&"));var x=l.playerUrl;return x.startsWith("//")&&(x="".concat(window.location.protocol).concat(x)),x.endsWith("/")||(x+="/"),a&&(x+="unsupported-browser.html"),d.length>0&&(x+="#".concat(d.join("&"))),s.log("_getPlayerUrl() url",x,"config",l),x},yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return"";var n,r=new URLSearchParams(e),i=new URLSearchParams,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r.get(a);null!==s&&i.append(a,s)}}catch(e){o.e(e)}finally{o.f()}return encodeURIComponent(i)},vn=function(e,t,n,r){return"\n  #".concat(e," {\n    --focus-color: #0375d8;\n    --focus-style: auto;\n    --focus-width: 2px;\n    --focus-outline: var(--focus-color) var(--focus-style) var(--focus-width);\n    background-color: rgba(0, 0, 0, 0.55);\n    -webkit-animation: ").concat(e,"-fadein 0.3s;\n    animation: ").concat(e,"-fadein 0.3s;\n    top: unset;\n    left: unset;\n    display: block;\n    max-width: none;\n    max-height: none;\n  }\n\n  #").concat(e,".is-snapping {\n    transition: transform 200ms ease-out;\n  }\n\n  #").concat(e," iframe,\n  #").concat(t," iframe {\n    width: 100% !important;\n    height: 100% !important;\n    opacity: 0 !important;\n    border: 0 !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    position: relative !important;\n    top: initial !important;\n    left: initial !important;\n    right: initial !important;\n    bottom: initial !important;\n    z-index: inherit !important;\n  }\n\n  #").concat(e," iframe.ready {\n    -webkit-animation: ").concat(e,"-fadein 0.3s;\n    animation: ").concat(e,"-fadein 0.3s;\n    opacity: 1 !important;\n  }\n\n  #").concat(e," .livecommerce-loader {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 52px;\n    height: 52px;\n    pointer-events: none;\n    margin: 0;\n    text-align: center;\n    opacity: 0;\n  }\n\n  #").concat(e," .livecommerce-loader.visible {\n    opacity: 1;\n  }\n\n  #").concat(e," .livecommerce-loader.fade-in {\n    transition: opacity 200ms;\n    opacity: 1;\n  }\n\n  #").concat(e," .livecommerce-loader.hidden {\n    display: none;\n  }\n\n  #").concat(e," .livecommerce-loader:before {\n    position: absolute;\n    content: '';\n    top: 0;\n    left: 0;\n    width: 52px;\n    height: 52px;\n    border-radius: 500rem;\n    border: 1.68px solid rgba(255,255,255,.15);\n  }\n\n  #").concat(e," .livecommerce-loader:after {\n    position: absolute;\n    content: '';\n    top: 0;\n    left: 0;\n    width: 52px;\n    height: 52px;\n    -webkit-animation: ").concat(e,"-loader-spin .6s linear;\n    animation: ").concat(e,"-loader-spin .6s linear;\n    animation-iteration-count: infinite;\n    border-radius: 500rem;\n    border-color: #fff transparent transparent;\n    border-style: solid;\n    border-width: 1.68px;\n    box-shadow: 0 0 0 1px transparent\n  }\n\n  #").concat(e," .livecommerce-restore-minimized,\n  #").concat(e," .livecommerce-close-minimized,\n  #").concat(e," .livecommerce-expand-minimized {\n    position: absolute;\n    top: 0;\n    left: 0;\n    cursor: pointer;\n    transform: scale3d(1, 1, 1);\n    display: none;\n    opacity: 0;\n    z-index: 2147483647;\n    padding: ").concat(r?"13px 10px 19px 11px":"9px 14px 23px 7px",";\n    transform-origin: 0 0;\n  }\n\n  #").concat(e," .livecommerce-close-minimized,\n  #").concat(e," .livecommerce-expand-minimized {\n    left: auto;\n    top: 4px;\n    right: 4px;\n    padding: 0;\n    width: 40px;\n    height: 40px;\n    transform-origin: top right;\n    background: rgba(0, 0, 0, 0.16);\n    border-radius: 28px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #").concat(e," .livecommerce-close-minimized.livecommerce-v2 {\n    width: 48px;\n    height: 48px;\n    top: 0;\n    right: unset;\n    bottom: unset;\n    left: 0;\n    background: transparent;\n    opacity: 1;\n    display: flex;\n  }\n\n  #").concat(e," .livecommerce-expand-minimized.livecommerce-v2 {\n    width: 48px;\n    height: 48px;\n    top: 0;\n    right: 4px;\n    bottom: unset;\n    left: unset;\n    background: transparent;\n    opacity: 1;\n    display: flex;\n  }\n\n  #").concat(e," .livecommerce-close-minimized.livecommerce-v2 svg {\n    height: 24px;\n    width: 24px;\n  }\n\n  #").concat(e," .livecommerce-expand-minimized.livecommerce-v2 svg {\n    height: 20px;\n    width: 20px;\n  }\n\n  #").concat(e," .livecommerce-close-minimized.livecommerce-v2::before,\n  #").concat(e," .livecommerce-expand-minimized.livecommerce-v2::before {\n    content: ' ';\n    position: absolute;\n    display: block;\n    top: 8px;\n    left: 8px;\n    width: 32px;\n    height: 32px;\n    background: rgba(41, 41, 41, 0.6);\n    border-radius: 28px;\n    z-index: -1;\n  }\n\n  #").concat(e," .livecommerce-restore-minimized:focus,\n  #").concat(e," .livecommerce-close-minimized:focus,\n  #").concat(e," .livecommerce-expand-minimized:focus {\n    outline: none;\n  }\n\n  .").concat(Gt," #").concat(e," .livecommerce-restore-minimized:focus,\n  .").concat(Gt," #").concat(e," .livecommerce-close-minimized:focus,\n  .").concat(Gt," #").concat(e," .livecommerce-expand-minimized:focus {\n    outline: var(--focus-outline);\n  }\n\n  #").concat(e," .livecommerce-restore-minimized path,\n  #").concat(e," .livecommerce-close-minimized path,\n  #").concat(e," .livecommerce-expand-minimized path {\n    stroke-width: 2 !important;\n  }\n\n  #").concat(e," .livecommerce-restore-minimized .theming-icon {\n    width: 44px;\n    margin: -13px -11px -15px -6px;\n    fill: #fff;\n  }\n\n  #").concat(e," .livecommerce-close-minimized .theming-icon {\n    width: 29px;\n    margin: -6px;\n    fill: #fff;\n  }\n\n  #").concat(e," .livecommerce-expand-minimized .theming-icon {\n    width: 29px;\n    margin: -6px;\n    fill: #fff;\n  }\n\n  @-webkit-keyframes ").concat(e,"-loader-spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  @keyframes ").concat(e,"-loader-spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  @-webkit-keyframes ").concat(e,"-fadein {\n    from { opacity: 0; }\n    to   { opacity: 1; }\n  }\n\n  @keyframes ").concat(e,"-fadein {\n    from { opacity: 0; }\n    to   { opacity: 1; }\n  }\n\n  #").concat(t," {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: #fff;\n    -webkit-animation: ").concat(e,"-fadein 0.3s;\n    animation: ").concat(e,"-fadein 0.3s;\n    opacity: 1;\n  }\n\n  #").concat(t," iframe {\n    opacity: 1 !important;\n  }\n\n  #").concat(n," {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    opacity: 1;\n    background-color: rgba(0, 0, 0, 0.55);\n    pointer-events: none;\n  }")},mn=function(e,t){return"\n  #".concat(e,".inline {\n    position: relative;\n    background-color: transparent;\n    height: ").concat(t,";\n    overflow: hidden;\n  }\n\n  #").concat(e,".inline iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }")},gn=["_id"],bn=["_id"];function wn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=En(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function En(e,t){if(e){if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(){Pn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==On(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(On(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function xn(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){xn(o,r,i,a,s,"next",e)}function s(e){xn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cn(r.key),r)}}function In(e,t,n){return(t=Cn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e){var t=function(e,t){if("object"!=On(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=On(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==On(t)?t:String(t)}var Rn=300,Mn=new URLSearchParams(window.location.search),Nn=1,jn=e.NR.MANUAL,Dn=e.NR.IFRAME_SRCDOC,Un=e.eh.NORTH,Fn=e.eh.SOUTH,Bn=e.eh.EAST,zn=e.eh.WEST,Hn=e.eh.NORTH_EAST,Vn=e.eh.SOUTH_EAST,Wn=e.eh.SOUTH_WEST,Gn=e.eh.NORTH_WEST;(hn=window)._bamMetricsQueue||(hn._bamMetricsQueue=[]);var qn=function(){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o,a,s,c,u=l().getParser(window.navigator.userAgent);this.isDesktop="desktop"===u.getPlatformType(!0),this.isNonSupportedBrowser=u.satisfies({windows:{"internet explorer":"<=11"},mobile:{safari:"<11"}}),this.debug=Mn.get("debug-prod"),this.logger=new Rt({logPrefix:"[EMBED".concat(window.top===window?"-TOP":"","] "),debug:this.debug,isDev:!1}),this.setConfig(n,u),window.__bambuserSetEvent=function(e){r._setAppContextInCurrentPlayer({eventId:e})},this.instanceId=Nn++,this.instanceKey=Q(),this.landingPagePageTitle=document.title,this.surf={frame:null,container:null,containerId:null,skipNextBrowserHistoryEntry:!1},this.player={frame:null,container:null,containerId:null},this.timeline={isLive:!1,currentTime:0,currentBroadcastId:null,serverTimeAtCurrentPosition:0},this.playerSettings={preferNewTabCheckout:!0},this.video={videoOrientation:e.hT.VERTICAL},this.isDesktop?(i=.5,o=0,a=Ft.SMALL.DESKTOP,s=40,c=25):(i=.5,o=0,a=Ft.SMALL.MOBILE,s=15,c=20),this.miniPlayer={position:{x:0,y:0},requestedPosition:{x:0,y:0},snapHorizontalThresholdRatio:i,snapVerticalThresholdRatio:o,snapThresholdOff:2,minWidth:a,maxX:0,maxY:0},this.quickMove={enabled:false,orientation:"",targetedPosition:{},thresholdX:s,thresholdY:c,trustIndex:0,timeout:null,detectionCount:0},this.onMiniPlayerMouseEnterLeave=this.onMiniPlayerMouseEnterLeave.bind(this),this.onFirstElementKeyDown=this.onFirstElementKeyDown.bind(this),this.onLastElementKeyDown=this.onLastElementKeyDown.bind(this);var d=new Be(this);this.playerDelegate=new bt(d),window.location.search.match(/(\?|&)bambuserAppDevEnv=1(&.*)?$/)&&(this._isAppDevEnv=!0),this.addListeners(),this._pendingRequestsToPlayer={}}var n,r,i,o,a;return n=t,r=[{key:"_setAppContextInCurrentPlayer",value:function(t){var n=t.eventId,r=t.channelId;if(n){this.createLoader(this.player.container,!0);var i=this.config.eventId||this.config.videoId,o=pn(this,!0,{channelId:r,originalEventId:i,eventId:n});this._sendMessageToPlayer(e.mL.SET_APP_CONTEXT,{queryString:o})}}},{key:"setConfig",value:function(t,n){var r;this.config=t||{},this.config.playerUrl=(this.config.playerUrl||"https://lcx-player.bambuser.com/default").split("#")[0];try{var i=window.localStorage.getItem("bambuserPlayerBaseURLOverride");i.match(/^https?:\/\//)&&(this.config.playerUrl=i)}catch(e){}this.config.mockLive=Mn.get("mockLiveBambuser"),this.config.timestamp=Mn.get("time"),this.config.broadcastHash=Mn.get("br");var o="iOS"!==n.getOSName();this.config.allowFullscreen=o?Mn.get("allowFullscreen"):"0",this.config.startFullscreen=null===(r=Mn.get("startFullscreen"))||void 0===r?void 0:r.match(/^(1|true)$/i),this.config.playerVersion=this.playerVersion,this.config.isDashboard=this.isDashboard,this.config.allowShareAutoplay=this.isAutoplayAllowed(),this.config.withGA&&function(t){if(!$t){$t="string"==typeof t?t:e.In.PROD;var n=document.createElement("script");n.async=!0,n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat($t)),document.head.appendChild(n),window.dataLayer||(window.dataLayer=[])}}(this.config.withGA)}},{key:"addListeners",value:function(){window.addEventListener("bambuser-config",this.onConfigUpdate.bind(this),!1)}},{key:"onConfigUpdate",value:function(e){var t=e.detail,n=(void 0===t?{}:t).edgeSpacing;ct("Embed was configured via window event"),n&&(n=n[this.deviceType])&&(this.config.edgeSpacing=Tn(Tn({},this.config.edgeSpacing),n),this.setMiniPlayerInitialPosition(),"function"==typeof this.__calculateMinimizedView&&this.__calculateMinimizedView(),this.snapToBorders())}},{key:"listenToEventsByInstanceKey",value:function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if(t.data)try{var r=("string"==typeof n?JSON.parse(n):n).embedInstanceKey;if(!r||r!==e.instanceKey)return;e._processReceivedMessage(t)}catch(e){}}.bind(this),!1)}},{key:"show",value:(a=An(Pn().mark((function t(){var n,r,i,o,a,s,u,l,d,f,h,p,y,v,m,g,b,_,E,S,O,k,T=this;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.logger.log("show()"),!this.hasBeenShown){t.next=5;break}return this.logger.log("hasBeenShown"),this.__restoreMinimized&&this.__originalEventId&&this.loadShow(this.__originalEventId),t.abrupt("return",!1);case 5:if(r=window.location,i=r.href,o=r.search,a=window===window.top,s=o.indexOf("autoplayLiveShopping=")>-1,u=window.parent===window.top,a||this._isAppDevEnv&&(s||u)){t.next=22;break}return l=this._isAppDevEnv?window.parent:window.top,t.next=14,new Promise((function(t){var n=Date.now(),r=T.config,i=!!r.node;delete r.node;var o=function r(i){if(i.source==l){var o=null;try{o=JSON.parse(i.data)}catch(e){T.logger.logProd("show() parentMessageHandler() error",e)}if((!o||o.eventName!==e.mL.ON_PROGRESS)&&T.logger.logDev("show() parentMessageHandler() Event from parent",o),o&&o.eventName&&o.eventName===e.hN.ACCEPTED_REQUEST_OPEN_SHOW&&o.data.requestId===n)return window.clearTimeout(a),window.removeEventListener("message",r),void t(!0);T.logger.log("show() parentMessageHandler() Unhandled message",i)}else T.logger.log("show() parentMessageHandler() exit",i&&i.data)};o.bind(T),window.addEventListener("message",o,!1);var a=window.setTimeout((function(){window.removeEventListener("message",o),t(!1)}),1500),s=JSON.stringify({eventName:e.hN.REQUEST_OPEN_SHOW,data:{requestId:n,config:r,fromNode:i}});l.postMessage(s,"*")}));case 14:if(!t.sent){t.next=18;break}return this.logger.log("handledByParent"),t.abrupt("return");case 18:return d=o.length>0?"&":"?",t.abrupt("return",l.location="".concat(i).concat(d,"autoplayLiveShopping=").concat(this.config.eventId));case 22:if(!window.__currentBambuserLiveShoppingOverlayPlayer){t.next=32;break}return this.logger.log("load/restore a show when surfing without iframe in minimized state"),f=this.config.eventId,h=window.__currentBambuserLiveShoppingOverlayPlayer,(p=h.config.eventId!==f)&&h.mountPlayerAPI(f,!0),y=h.getProviderConfig(),this.config.allowShareAutoplay?!1===y.allowShareAutoplay&&(this.config.allowShareAutoplay=!1):!0===y.allowShareAutoplay&&console.warn(Yt("allowShareAutoplay","autoplayHandler")),h.config=Object.assign(y,this.config),t.abrupt("return",h.loadShow(f,p));case 32:if(this._emitEvent("load"),!(v=L())||!this.config.eventId||Mn.has("autoplayLiveShopping")){t.next=48;break}return this.logger.log("history.pushState show()"),m=document.location.search.length>0?"&":"?",g="".concat(i).concat(m,"autoplayLiveShopping=").concat(this.config.eventId,"&bls_ubn=").concat(encodeURIComponent(v.name)),t.prev=38,t.next=41,new Promise((function(e,t){return I(g,{onFail:function(){return t(new Error("Failed to open in external browser"))}})}));case 41:return t.abrupt("return",t.sent);case 44:t.prev=44,t.t0=t.catch(38),this.logger.logProd("embed.js failed to open external browser",t.t0);case 47:window.history.pushState(null,null,g);case 48:if(this.config.sourceUrl=i,b="livecommerce-".concat(this.instanceId,"-").concat((new Date).getTime()),_=this.surf.containerId||"livecommerce-surf-".concat(this.instanceId,"-").concat((new Date).getTime()),E="livecommerce-bg-".concat(this.instanceId,"-").concat((new Date).getTime()),(S=(null==this||null===(n=this.config)||void 0===n?void 0:n.containerNode)||document.createElement("div")).setAttribute("id",b),S.setAttribute("data-bambuser-liveshopping-player-id",b),S.setAttribute("role","dialog"),S.setAttribute("aria-modal","true"),S.setAttribute("aria-label","Live video shopping"),this.createLoader(S),this.styleElem=document.createElement("style"),this.styleElem.setAttribute("type","text/css"),this.activePlayerStyleElem=document.createElement("style"),this.activePlayerStyleElem.setAttribute("type","text/css"),void 0,void 0,C=x(),R=A(),O=(w()||P())&&"\n    html {\n      width: 100".concat(C&&R>=15?"vw":"%"," !important;\n      height: 100").concat(C&&R>=15?"vh":"%"," !important;\n    }\n    body {\n      position: fixed !important;\n      min-width: 100% !important;\n      min-height: 100% !important;\n      max-width: 100% !important;\n      max-height: 100% !important;\n      margin: 0 !important;\n      padding: 0 !important;\n    }"),k=vn(b,_,E,this.isDesktop),"inline"===this.config.type&&(k+=mn(b,this.config.height||"550px")),"textContent"in this.activePlayerStyleElem?this.activePlayerStyleElem.textContent=O:this.activePlayerStyleElem.styleSheet.cssText=O,document.head.appendChild(this.activePlayerStyleElem),"textContent"in this.styleElem?this.styleElem.textContent=k:this.styleElem.styleSheet.cssText=k,document.head.appendChild(this.styleElem),"inline"!==this.config.type){t.next=77;break}if(this.config.node){t.next=73;break}throw new c("A 'node' must be specified for the inline type!");case 73:S.classList.add("inline"),this.config.node.appendChild(S),t.next=88;break;case 77:S.style.position="fixed",S.style.bottom=0,S.style.right=0,S.style.width="100%",S.style.height="100%",S.style.overscrollBehavior="none",S.style.zIndex=2147483647,this.config.containerNode||("object"===On(this.config.playerContainerNode)&&this.config.playerContainerNode.tagName&&this.config.playerContainerNode||document.body).appendChild(S),this._disableParentScroll(),document.addEventListener("touchmove",this.__preventBodyScroll=this._preventBodyScroll.bind(this),{passive:!1}),(w()||P())&&(window.visualViewport?window.visualViewport.addEventListener("resize",this._viewportChangeHandler.bind(this)):window.addEventListener("scroll",(this.__pushPageScrollTopHandler=this._pushPageScrollTopHandler).bind(this)));case 88:return this.hasBeenShown=!0,this.__originalEventId=this.config.eventId,this.surf.containerId=_,this.backgroundContainerId=E,this.player.container=S,this.player.containerId=b,this.__cancelFullscreenListener=this.listenToPlayerFullscreenEvents(),"loading"!==document.readyState?this.loadPlayer():(this.loadPlayerBound=this.loadPlayer.bind(this),window.addEventListener("DOMContentLoaded",this.loadPlayerBound)),t.abrupt("return",!0);case 98:case"end":return t.stop()}var C,R}),t,this,[[38,44]])}))),function(){return a.apply(this,arguments)})},{key:"_createPlayerFrame",value:function(){this.logger.log("_createPlayerFrame()");var e=document.createElement("iframe");return e.setAttribute("src",this._getPlayerUrl()),e.setAttribute("frameborder",0),e.setAttribute("allowTransparency",!0),e.setAttribute("allow","fullscreen; autoplay; web-share"),e.setAttribute("title","Live video shopping"),e.setAttribute("tabindex",831),this.config.sandboxAttributes&&e.setAttribute("sandbox",this.config.sandboxAttributes),this.config.credentiallessIframes&&e.setAttribute("credentialless",!0),e}},{key:"mountPlayerAPI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{this.playerDelegate.mount(window,"onBambuserLiveShoppingReady",e,t)}catch(e){}if(this.publishedInstanceReady=this.publishedInstanceReady||{},this.publishedInstanceReady[this.instanceKey]!==e||t){this.playerDelegate.isMounted()||this.playerDelegate.publicAPI.removeAllListeners(),this.publishedInstanceReady[this.instanceKey]=e;var n=new CustomEvent("bambuser-instance-ready",{detail:Tn(Tn({},this.config.isVod?{type:"vod-player",instanceKey:"vod-player-".concat(this.instanceKey),videoId:e}:{type:"player",instanceKey:"show-player-".concat(this.instanceKey),showId:e}),{},{instance:this.playerDelegate.publicAPI})});document.dispatchEvent(n)}}},{key:"loadPlayer",value:function(){var t,n=this.config.eventId;if(function(e){return e&&"string"==typeof e&&("MOCK"===e||Ge.test(e))}(n)||(t=n)&&"string"==typeof t&&qe.test(t)||console.warn("".concat(n," does not seem to have a valid show or video Id format")),this.logger.log("loadPlayer() eventId",n),window.addEventListener("message",this.__receiveMessage=this._receiveMessage.bind(this),!1),"function"==typeof this.loadPlayerBound&&(window.removeEventListener("DOMContentLoaded",this.loadPlayerBound),delete this.loadPlayerBound),this.mountPlayerAPI(n),this.applyProviderConfig(),this.config.checkoutOnCartClick){var r=e.mL.CHECKOUT.replace(e.hw,""),i=this.config.checkoutOnCartClick;if(!this.playerDelegate.getSupportedEvents().includes(r)){var o="When the checkoutOnCartClick configuration attribute is set to ".concat(i);o+="an event listener for player.EVENT.CHECKOUT must be registered.",console.warn(o)}}this.config.containerNode?this.player.frame=this.config.containerNode.getElementsByTagName("iframe")[0]:(this.player.frame=this._createPlayerFrame(),this.player.container.appendChild(this.player.frame),"overlay"===this.config.type&&(window.__currentBambuserLiveShoppingOverlayPlayer=this)),this._pauseOtherPlaybacks()}},{key:"applyProviderConfig",value:function(){var t,n=this.getProviderConfig();n._useExternalPlayerController&&this.player.container&&(this.player.container.style.backgroundColor="transparent"),this.config.allowShareAutoplay?!1===n.allowShareAutoplay&&(this.config.allowShareAutoplay=!1):!0===n.allowShareAutoplay&&console.warn(Yt("allowShareAutoplay","autoplayHandler")),this.config=Object.assign(n,this.config),this.config.enableFirstPartyCookies&&(this._trackingContext=Object.assign(this._trackingContext||{},{userId:this.config._externalProvidedUid||W(e.sJ.USER_ID)||Q(),sessionId:W(e.sJ.SESSION_ID)||Q()}),this.config.withGA&&(t=this._trackingContext.userId)&&!Zt&&(Zt=!0,en("js",new Date),en("config",$t,{user_id:t,cookie_prefix:e.yM}),en("set","user_properties",tn({bamls_usid:t}))))}},{key:"getProviderConfig",value:function(){var e=new Tt(this.playerDelegate),t=this.playerDelegate.config.getConfigUsingTransformer(e);this.playerDelegate.isMounted()||(t.withoutProductDetails=!1);var n=(t||{}).edgeSpacing,r=void 0===n?{}:n,i=this.isDesktop?16:8,o=r[this.deviceType]||{},a=o.top,s=void 0===a?i:a,c=o.right,u=void 0===c?i:c,l=o.bottom,d=void 0===l?i:l,f=o.left,h=void 0===f?i:f;return t.edgeSpacing={top:s,right:u,bottom:d,left:h},JSON.parse(JSON.stringify(t||{}))}},{key:"_onPlayerApiEventHandlerAdded",value:function(e){this._playerEventHandlers=this._playerEventHandlers||[],this._playerEventHandlers.includes(e)||this._playerEventHandlers.push(e)}},{key:"showPlayer",value:function(){if(this.logger.log("showPlayer()"),this.player.frame){var t=new URLSearchParams(window.location.search),n=t.get("bls_ubn");if(n){var r=t.get("bls_ubm");this._sendMessageToPlayer(e.mL.OPEN_EXTERNAL_BROWSER_SUCCESS,{bls_ubn:n,bls_ubm:r})}this.player.frame.classList.add("ready"),this.hideLoader(),this.player.frame.setAttribute("data-test-id","iframePlayer"),this._maybeAddViewportFitCover(),this._sendMessageToPlayer(e.mL.EXTERNAL_EVENT_HANDLERS,{eventHandlers:this._playerEventHandlers}),this._emitEvent(e.wh.READY),function(){if(null===g){var e=navigator.userAgent.toLowerCase(),t=/safari/.test(e),n=window.navigator.standalone,r=/ip(ad|hone|od)/.test(e)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;g=!!r&&!t&&!n}return g}()&&this.player.frame.focus()}}},{key:"createLoader",value:function(e){var t=this;this.loader?(this.loader.classList.remove("hidden"),this.loader.classList.add("visible")):(this.loader=document.createElement("div"),this.loader.classList.add("livecommerce-loader"),window.setTimeout((function(){var e;return null==t||null===(e=t.loader)||void 0===e?void 0:e.classList.add("fade-in")}),1e3)),this.loaderWrapper||(this.loaderWrapper=document.createElement("div"),this.loaderWrapper.classList.add("livecommerce-loader-wrapper"),this.loaderWrapper.style.width="100%",this.loaderWrapper.style.height="100%"),this.config.disableClickOutsideBehavior||this.loaderWrapper.addEventListener("click",this.destroy.bind(this)),this.config.containerNode||(e.contains(this.loader)||e.appendChild(this.loader),e.contains(this.loaderWrapper)||e.appendChild(this.loaderWrapper))}},{key:"hideLoader",value:function(){var e,t;document.contains(this.loaderWrapper)&&(this.loaderWrapper.parentNode.removeChild(this.loaderWrapper),this.loaderWrapper=null),null===(e=this.loader)||void 0===e||e.classList.remove("visible"),null===(t=this.loader)||void 0===t||t.classList.add("hidden")}},{key:"_maybeAddViewportFitCover",value:function(){var e,t,n,r=this.config||{},i=r.isWebComponent,o=r.useViewportFitScale,a=void 0!==o&&o;if((!i||a)&&((w()||P())&&(e=window.navigator.userAgent||"",t=/WebKit/.test(e)&&!/Safari/.test(e),n=!("sharedWorker"in window),t&&n)||a)){var s=document.querySelector('meta[name="viewport"]');if(s){var c=s.getAttribute("content");c.includes("viewport-fit=cover")||s.setAttribute("content","".concat(c,", viewport-fit=cover")),this._previousViewportContent=c}else(s=document.createElement("meta")).setAttribute("name","viewport"),s.setAttribute("content","viewport-fit=cover"),document.head.appendChild(s)}}},{key:"_resetBackToPreviousViewportContent",value:function(){this._previousViewportContent&&document.querySelector('meta[name="viewport"]').setAttribute("content",this._previousViewportContent)}},{key:"syncCartState",value:function(){var t=this;this._emitEvent(e.wh.SYNC_CART_STATE,(function(e){e&&0===e.count&&t.updatePlayerCart({count:0})}))}},{key:"updatePlayerCart",value:function(t){var n=t.count,r=t.items;this._sendMessageToPlayer(e.mL.DO_SYNC_CART_STATE,{count:n,items:r})}},{key:"moveMiniPlayer",value:function(){var e=this.miniPlayer.position,t=e.x,n=e.y;this.player.container.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}},{key:"snapToBorders",value:function(){var t=this,n=this.miniPlayer,r=n.position,i=n.position,o=i.x,a=i.y,s=n.snapLeftThreshold,c=n.snapTopThreshold,u=n.snapBottomThreshold,l=n.minX,d=n.minY,f=n.maxX,h=n.maxY,p=n.videoWidth,y=n.videoHeight,v=!1,m=this.config.edgeSpacing;switch(this.config.minimizedPosition){case e.Ug.TOP_LEFT:o<l+s?(r.x=l+m.left,v=!0):o>m.right-s&&(r.x=f-m.right-p,v=!0),a<d+c?(r.y=d+m.top,v=!0):a>h-u-y&&(r.y=h-y-m.bottom,v=!0);break;case e.Ug.TOP_RIGHT:o<l+s?(r.x=l+m.left,v=!0):o>m.right-s&&(r.x=f-m.right,v=!0),a<d+c?(r.y=d+m.top,v=!0):a>h-u&&(r.y=h-m.bottom,v=!0);break;case e.Ug.BOTTOM_LEFT:o<l+s?(r.x=l+m.left,v=!0):o>m.right-s&&(r.x=f-m.right-p,v=!0),a<d+c?(r.y=d+m.top,v=!0):a>m.bottom-u&&(r.y=h-m.bottom,v=!0);break;case e.Ug.BOTTOM_RIGHT:default:o<l+s?(r.x=l+m.left,v=!0):o>m.right-s&&(r.x=f-m.right,v=!0),a<d+c?(r.y=d+m.top,v=!0):a>m.bottom-u&&(r.y=h-m.bottom,v=!0)}v&&(this.player.container.classList.add("is-snapping"),window.setTimeout((function(){return t.player.container.classList.remove("is-snapping")}),500),this.moveMiniPlayer())}},{key:"getQuickMoveOrientation",value:function(e,t){var n=Math.abs(e)>this.quickMove.thresholdX,r=Math.abs(t)>this.quickMove.thresholdY;return n?r?e<0?t>0?Vn:Hn:t>0?Wn:Gn:e<0?Bn:zn:r?t>0?Fn:Un:""}},{key:"getQuickMoveTargetedPosition",value:function(e,t){var n=t.x,r=t.y,i=this.miniPlayer,o=i.minX,a=i.minY,s=i.maxX,c=i.maxY,u=this.config.edgeSpacing;switch(e){case Un:return n<o+u.left?{x:o+u.left,y:a+u.top}:n>s-u.right?{x:s-u.right,y:a+u.top}:{x:n,y:a+u.top};case Fn:return n<o+u.left?{x:o+u.left,y:c-u.bottom}:n>s-u.right?{x:s-u.right,y:c-u.bottom}:{x:n,y:c-u.bottom};case Bn:return r<a+u.top?{x:o+u.left,y:a+u.top}:r>c-u.bottom?{x:o+u.left,y:c-u.bottom}:{x:o+u.left,y:r};case zn:return r<a+u.top?{x:s-u.right,y:a+u.top}:r>c-u.bottom?{x:s-u.right,y:c-u.bottom}:{x:s-u.right,y:r};case Hn:return{x:o+u.left,y:a+u.top};case Vn:return{x:o+u.left,y:c-u.bottom};case Wn:return{x:s-u.right,y:c-u.bottom};case Gn:return{x:s-u.right,y:a+u.top.top}}}},{key:"quickMoveReset",value:function(){this.quickMove.orientation="",this.quickMove.trustIndex=0,this.quickMove.detectionCount=0}},{key:"onMiniPlayerMouseEnterLeave",value:function(t){var n="mouseenter"===t.type;this._sendMessageToPlayer(e.mL.SET_VIEWPORT_STATE,{mouseIsOver:n})}},{key:"_onActionKeyDown",value:function(e,t){(function(e){return function(e){return e.key?" "===e.key:e.charCode&&32===e.charCode||e.keyCode&&32===e.keyCode}(e)||function(e){return e.key?"Enter"===e.key:e.charCode&&13===e.charCode||e.keyCode&&13===e.keyCode}(e)})(e)&&"function"==typeof t&&t()}},{key:"onFirstElementKeyDown",value:function(t){t.stopPropagation(),function(e){return zt(e)&&e.shiftKey}(t)&&(this.onMiniPlayerMouseEnterLeave({type:"mouseleave"}),this._sendMessageToPlayer(e.mL.FOCUS_LAST_INSIDE_IFRAME),t.preventDefault())}},{key:"onLastElementKeyDown",value:function(t){t.stopPropagation(),function(e){return zt(e)&&!e.shiftKey}(t)&&(this.onMiniPlayerMouseEnterLeave({type:"mouseleave"}),this._sendMessageToPlayer(e.mL.FOCUS_FIRST_INSIDE_IFRAME),t.preventDefault())}},{key:"setMiniPlayerInitialPosition",value:function(){var t=this.config.edgeSpacing;switch(this.config.minimizedPosition){case e.Ug.TOP_LEFT:this.player.container.style.top="".concat(t.top,"px"),this.player.container.style.left="".concat(t.left,"px");break;case e.Ug.TOP_RIGHT:this.player.container.style.top="".concat(t.top,"px"),this.player.container.style.right="".concat(t.right,"px");break;case e.Ug.BOTTOM_LEFT:this.player.container.style.bottom="".concat(t.bottom,"px"),this.player.container.style.left="".concat(t.left,"px");break;case e.Ug.BOTTOM_RIGHT:default:this.player.container.style.bottom="".concat(t.bottom,"px"),this.player.container.style.right="".concat(t.right,"px")}}},{key:"unminimize",value:function(){this.__restoreMinimized&&this.__restoreMinimized()}},{key:"minimize",value:function(n){var r=this;if(this.logger.log("minimize()"),!this.playerSettings.withMinimizeSupport)throw new c("Can't minimize player, not supported!");if(n)try{this.surfTo(n)}catch(e){this.logger.log("Failed to surf to provided url",{error:e})}if(F(),this._trackOnInteraction("minimize"),this._sendMessageToPlayer(e.mL.SET_VIEWPORT_STATE,{minimized:!0}),this.config.surfBehindMode!==jn)this.showSurf(),this._disableParentScroll();else{var i=document.querySelector("meta[name=viewport]");i&&-1===i.getAttribute("content").toLowerCase().indexOf("minimum-scale")&&i.setAttribute("content","".concat(i.getAttribute("content"),", minimum-scale=1")),this._restoreParentScroll()}this.player.container.setAttribute("aria-modal","false");var o={close:this._getTranslation("closePlayerAriaLabel","Close live curation"),expand:this._getTranslation("expandPlayerAriaLabel","Expand to full player view")},a=document.createElement("div");a.setAttribute("tabindex","830"),a.setAttribute("role","button"),a.setAttribute("aria-label",o.close),a.classList.add("livecommerce-close-minimized"),a.classList.add("livecommerce-v2"),a.innerHTML=t.closeIconV2;var s=document.createElement("div");s.setAttribute("tabindex","830"),s.setAttribute("role","button"),s.setAttribute("aria-label",o.expand),s.classList.add("livecommerce-expand-minimized"),s.innerHTML=t.restoreIcon,s.classList.add("livecommerce-v2"),this.isDesktop||(s.style.transition="opacity ".concat(Rn,"ms")),s.addEventListener("keydown",(function(e){return r._onActionKeyDown(e,r.__restoreMinimized)})),this.player.container.appendChild(a),this.miniPlayer.closeButton=a,this.player.container.appendChild(s),this.miniPlayer.expandButton=s,this.setMiniPlayerInitialPosition(),this.player.container.style.transformOrigin="bottom right",this.player.container.style.overflow="hidden",this.player.container.style.boxShadow="",this.isDesktop&&!this.backgroundContainer&&(this.backgroundContainer=document.createElement("div"),this.backgroundContainer.setAttribute("id",this.backgroundContainerId),this.backgroundContainer.style.zIndex=2147483647,this.backgroundContainer.style.transition="opacity ".concat(Rn,"ms"),this.player.container.parentNode.insertBefore(this.backgroundContainer,this.player.container)),qt.enableModeDetection();var u=function(){var t,n,i,o,a=r.video.videoOrientation,s=r.isDesktop?"DESKTOP":"MOBILE";switch(r.config.miniplayerSize){case e.Pr.LARGE:i=Ft.LARGE[s],o=Bt.LARGE[s];break;case e.Pr.SMALL:default:i=Ft.SMALL[s],o=Bt.SMALL[s]}a===e.hT.VERTICAL?(t=Math.min(window.innerWidth*o,i),n=t*(16/9)):(n=Math.min(window.innerHeight*o,i),t=n*(16/9));var c,u,l,d,f=r.miniPlayer,h=f.snapHorizontalThresholdRatio,p=f.snapVerticalThresholdRatio,y=r.config.edgeSpacing,v=h?window.innerWidth*h-t/2:y.left,m=p?window.innerHeight*p-n/2:y.top,g=p?window.innerHeight*p-n/2:y.bottom;switch(r.config.minimizedPosition){case e.Ug.TOP_LEFT:c=-y.left,u=-y.top,l=window.innerWidth-y.left,d=window.innerHeight-y.top;break;case e.Ug.TOP_RIGHT:c=-(window.innerWidth-t-y.right),u=-y.top,l=y.right,d=window.innerHeight-n-y.top;break;case e.Ug.BOTTOM_LEFT:c=-y.left,u=-(window.innerHeight-n-y.bottom),l=window.innerWidth-y.left,d=y.bottom;break;case e.Ug.BOTTOM_RIGHT:default:c=-(window.innerWidth-t-y.right),u=-(window.innerHeight-n-y.bottom),l=y.right,d=y.bottom}r.miniPlayer.snapLeftThreshold=v,r.miniPlayer.snapTopThreshold=m,r.miniPlayer.snapBottomThreshold=g,r.miniPlayer.minX=c,r.miniPlayer.minY=u,r.miniPlayer.maxX=l,r.miniPlayer.maxY=d,r.miniPlayer.videoWidth=t,r.miniPlayer.videoHeight=n;var b=function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=r.miniPlayer.position;switch(r.config.minimizedPosition){case e.Ug.TOP_LEFT:-o.x>y.left?o.x=c:Math.abs(o.x)+t+y.left>window.innerWidth&&(o.x=l-t),o.y<u?o.y=i?u:0:o.y+n+y.top>window.innerHeight&&(o.y=d-n);break;case e.Ug.TOP_RIGHT:Math.abs(o.x)+t+y.right>window.innerWidth?o.x=c:o.x>y.right&&(o.x=l),o.y<u?o.y=i?u:0:o.y>d&&(o.y=d);break;case e.Ug.BOTTOM_LEFT:-o.x>y.left?o.x=c:Math.abs(o.x)+t+y.left>window.innerWidth&&(o.x=l-t),Math.abs(o.y)+n+y.bottom>window.innerHeight?o.y=i?u:u+y.top:o.y>y.bottom&&(o.y=d);break;case e.Ug.BOTTOM_RIGHT:default:Math.abs(o.x)+t+y.right>window.innerWidth?o.x=c:o.x>y.right&&(o.x=l),n+y.bottom>window.innerHeight+o.y?o.y=i?u:u+y.top:o.y>y.bottom&&(o.y=d)}!i&&o.x<(l-c)/-2&&(o.x=c+y.left)};b(!1);var w=r.player.container.style;w.width="".concat(t,"px"),w.height="".concat(n,"px"),w.transform="translate(".concat(r.miniPlayer.position.x,"px, ").concat(r.miniPlayer.position.y,"px)"),w.borderRadius="8px",r._miniPlayerDragStart=function(){r.config.surfBehindMode===jn&&r._disableParentScroll()},r._miniPlayerDragEnd=function(){r.snapToBorders(),r.config.surfBehindMode===jn&&r._restoreParentScroll()},r.__handleMoveMinimizedPlayer=function(e){var t=e.dx,n=e.dy,i=r.miniPlayer,o=i.requestedPosition,a=i.position;if(o.x!==a.x&&(o.x=a.x),o.y!==a.y&&(o.y=a.y),o.x+=t,o.y+=n,a.x=o.x,a.y=o.y,b(!0),r.moveMiniPlayer(),r.quickMove.enabled){if(r.quickMove.orientation){var s=Math.abs(t)+Math.abs(n);if(s<=r.quickMove.trustIndex)return;r.quickMove.trustIndex=s}if(r.quickMove.orientation=r.getQuickMoveOrientation(t,n),r.quickMove.orientation){r.logger.log("Quick move detected",t,n),r.quickMove.trustIndex=Math.abs(t)+Math.abs(n),r.quickMove.detectionCount++,r.quickMove.targetedPosition=r.getQuickMoveTargetedPosition(r.quickMove.orientation,o);var c=function(){if(r.quickMove.detectionCount<3)return r.logger.log("Quick move false positive detected"),void r.quickMoveReset();var e=r.quickMove.targetedPosition,i=e.x,o=e.y;r.logger.log("Quick move action",t,n),a.x=i,a.y=o,b(!0),r.moveMiniPlayer(),r.quickMoveReset()};c.bind(r),r.quickMove.timeout&&window.clearTimeout(r.quickMove.timeout),r.quickMove.timeout=window.setTimeout(c,50)}}}};this.__resetMinimized=function(){r.logger.log("__resetMinimized()"),r.isDesktop||(r.player.container.style.transition="transform ".concat(Rn,"ms")),r.player.container.style.top="",r.player.container.style.left="",r.player.container.style.bottom=0,r.player.container.style.right=0,r.player.container.style.width="100%",r.player.container.style.height="100%",r.player.container.style.transform="",r.player.container.style.borderRadius="",r.player.container.style.boxShadow="",r.player.container.style.overflow="",r.player.container.setAttribute("aria-modal","true"),r.isDesktop&&(r.backgroundContainer.style.display="",r.backgroundContainer.style.opacity=1),r.player.container.removeChild(r.miniPlayer.closeButton),r.player.container.removeChild(r.miniPlayer.expandButton),r._disableParentScroll(),delete r.__handleMoveMinimizedPlayer,window.removeEventListener("resize",r.__calculateMinimizedView),r.isDesktop&&(r.player.container.removeEventListener("mouseenter",r.onMiniPlayerMouseEnterLeave),r.player.container.removeEventListener("mouseleave",r.onMiniPlayerMouseEnterLeave)),delete r.__calculateMinimizedView,delete r.__resetMinimized,delete r.__restoreMinimized,delete r.__closeMinimized};var l=this.__resetMinimized;this.__restoreMinimized=function(){r.logger.log("__restoreMinimized()"),r._trackOnInteraction("restore"),qt.disableModeDetection(),r._sendMessageToPlayer(e.mL.SET_VIEWPORT_STATE,{minimized:!1,mouseIsOver:!1}),r.syncCartState(),l(),r.surf.frame||r.activePlayerStyleElem.parentNode||document.head.appendChild(r.activePlayerStyleElem),r._pauseOtherPlaybacks(),delete r.__restoreMinimized},this.__closeMinimized=function(){r.close({origin:"miniplayer"})},this.miniPlayer.closeButton.addEventListener("click",this.__closeMinimized.bind(this)),this.miniPlayer.closeButton.addEventListener("keydown",(function(e){return r._onActionKeyDown(e,r.__closeMinimized)})),this.miniPlayer.expandButton.addEventListener("click",this.__restoreMinimized.bind(this));var d="ontouchstart"in window||window.navigator.msMaxTouchPoints;window.setTimeout((function(){r.isDesktop&&!d?(r.player.container.addEventListener("mouseenter",r.onMiniPlayerMouseEnterLeave),r.player.container.addEventListener("mouseleave",r.onMiniPlayerMouseEnterLeave)):(r.miniPlayer.closeButton.style.display="flex",r.miniPlayer.closeButton.style.opacity=1),r.player.container.style.transition="",u()}),Rn),this.__calculateMinimizedView=u.bind(this),window.addEventListener("resize",this.__calculateMinimizedView),this.isDesktop?window.setTimeout((function(){r.backgroundContainer.style.opacity=0,r.player.container.style.backgroundColor="transparent"}),0):this.player.container.style.transition="transform ".concat(Rn,"ms, border-radius ").concat(Rn,"ms"),this.__calculateMinimizedView(),!this.surf.frame&&this.activePlayerStyleElem.parentNode&&this.activePlayerStyleElem.parentNode.removeChild(this.activePlayerStyleElem)}},{key:"enterPlayerFullscreen",value:(o=An(Pn().mark((function e(){return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.player.container){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,D(this.player.container);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return o.apply(this,arguments)})},{key:"exitPlayerFullscreen",value:(i=An(Pn().mark((function e(){return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),function(){return i.apply(this,arguments)})},{key:"listenToPlayerFullscreenEvents",value:function(){var t,n,r=this;if(this.player.container)return t=this.player.container,n=function(){r._sendMessageToPlayer(e.mL.SET_VIEWPORT_STATE,{fullscreen:B()})},t.addEventListener("fullscreenchange",n),function(){return t.removeEventListener("fullscreenchange",n)}}},{key:"surfTo",value:function(t){if(this.logger.log("surfTo(url)",t),!this.playerSettings.withMinimizeSupport)throw new c("Can't surf to url behind player, not supported!");var n=this.config.surfBehindMode;if(n!==jn){var r=this.getSurfFrame();n===Dn?Dt(r,{url:t}):r.setAttribute("src",t),this._emitEvent(e.wh.NOTIFY_URL_CHANGE,{url:t}),this._pauseOtherPlaybacks()}else t!==window.location.href&&(this._emitEvent(e.wh.NAVIGATE_BEHIND_TO,{url:t}),this._emitEvent("surf-behind-to",{url:t}))}},{key:"showSurf",value:function(){var e=this;this.logger.log("showSurf()"),this.surf.container.style.visibility="visible",this.surf.container.style.pointerEvents="auto",this._disableParentScroll(),this.isDesktop&&(document.documentElement.style.overflow="hidden");var t,n=":not(#".concat(this.surf.containerId,")"),r=":not(#".concat(this.player.containerId,")"),i=":not(#".concat(this.backgroundContainerId,")"),o="body > *".concat(n).concat(r).concat(i),a=document.querySelectorAll(o),s=function(e){var t;if(null!==(t=e)&&void 0!==t&&t.parentNode&&e!==document.body&&document.body.contains(e)){for(;e.parentNode!==document.body;)e=e.parentNode;return e}}(this.config.playerContainerNode),c=_n(a);try{for(c.s();!(t=c.n()).done;){var u=t.value;if(u!==s){var l=window.getComputedStyle&&window.getComputedStyle(u);l&&"none"===l.display||"none"===u.style.display||(u.setAttribute("data-surf-behind-hidden","1"),u.style.display="none")}}}catch(e){c.e(e)}finally{c.f()}(w()||P())&&window.setTimeout((function(){try{var t=e.surf.frame,n=t.contentDocument||t.contentWindow.document;null!=n&&n.body.style.position&&(n.body.style.position="unset"),n.body.style.position="initial"}catch(e){}}),100)}},{key:"hideSurf",value:function(){this.logger.log("hideSurf()"),this.surf.container.style.visibility="hidden",this.surf.container.style.pointerEvents="none",this._restoreParentScroll(),this.isDesktop&&(document.documentElement.style.overflow="");var e,t=_n(document.querySelectorAll("[data-surf-behind-hidden]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;n.removeAttribute("data-surf-behind-hidden"),n.style.display=""}}catch(e){t.e(e)}finally{t.f()}}},{key:"onSurfLoad",value:function(){var e;try{var t=this.surf,n=t.frame,r=t.skipNextBrowserHistoryEntry,i=n.contentWindow;e=n.contentDocument||n.contentWindow.document;var o=this.config.surfBehindMode,a=i.location.href,s="about:srcdoc"===a&&e.baseURI?e.baseURI:a;this.logger.log("onSurfLoad() config.surfBehindMode",o,"surfHref",a,"surfDocument.baseURI",e.baseURI,"skipNextBrowserHistoryEntry",r,"url",s),o===jn||r||"about:blank"===s||"about:srcdoc"===s?this.logger.log("NO history.replaceState surfBehindMode",o,"url",s):(document.title=e.title,o===Dn?(window.history.pushState({bambuserLiveShopping:!0},e.title,s),this.logger.log("history.pushState surfBehindMode",o,"url",s)):(window.history.replaceState({bambuserLiveShopping:!0},e.title,s),this.logger.log("history.replaceState surfBehindMode",o,"url",s)))}catch(e){console.warn("Unable to sync browser url",e.message)}if(this.surf.skipNextBrowserHistoryEntry=!1,w()||P())try{var c;null!==(c=e)&&void 0!==c&&c.body.style.position||(e.body.style.position="initial")}catch(e){}}},{key:"onPopstate",value:function(e){this.logger.log("popstate(event) event.state",e.state,"surfBehindMode",this.config.surfBehindMode,"state.bambuserLiveShopping",e.state&&e.state.bambuserLiveShopping),e.state&&e.state.bambuserLiveShopping?(this.showSurf(),this.config.surfBehindMode===Dn&&(this.surf.skipNextBrowserHistoryEntry=!0,Dt(this.getSurfFrame(),window.location.href))):(document.title=this.landingPagePageTitle,this.hideSurf())}},{key:"initializeSurf",value:function(){this.logger.log("initializeSurf()"),window.addEventListener("popstate",this.onPopstate.bind(this)),window.addEventListener("message",this.__receiveSurfFrameMessage=this._receiveSurfFrameMessage.bind(this),!1);var e=document.createElement("iframe");e.style.width="100%",e.style.height="100%",e.setAttribute("frameborder","0"),e.setAttribute("title","Surf behind live video shopping"),this.config.sandboxAttributes&&e.setAttribute("sandbox",this.config.sandboxAttributes),this.config.credentiallessIframes&&e.setAttribute("credentialless",!0),e.onload=this.onSurfLoad.bind(this),this.surf.frame=e,qt.setSurfFrame(e);var t=document.createElement("div");t.style.visibility="hidden",t.style.pointerEvents="none",t.style.position="fixed",t.style.zIndex=2147483647,t.style.top=0,t.style.left=0,t.style.bottom=0,t.style.right=0,t.style.width="100%",t.style.height="100%",t.style.overscrollBehavior="inherit",t.setAttribute("id",this.surf.containerId),t.appendChild(e),this.surf.container=t,"inline"===this.config.type?document.body.appendChild(t):this.player.container.parentNode.insertBefore(t,this.player.container)}},{key:"showSurfTimeout",value:function(){this.logger.log("popstate timeout showSurf(true)"),this.showSurf()}},{key:"getSurfFrame",value:function(){return this.logger.log("getSurfFrame()"),this.surf.frame||this.initializeSurf(),this.surf.frame}},{key:"showCheckout",value:function(e){var t=this;this.playerSettings.preferNewTabCheckout?(document.addEventListener("visibilitychange",(this.__onReturnToWindow=function(){document.hidden||(document.removeEventListener("visibilitychange",t.__onReturnToWindow),delete t.__onReturnToWindow,t.syncCartState())}).bind(this)),window.open(e,"_blank")):(this.surfTo(e),this.minimize())}},{key:"shouldUpdateTrackingCookies",get:function(){return this.config.enableFirstPartyCookies&&this._trackingContext}},{key:"deviceType",get:function(){return this.isDesktop?"desktop":"mobile"}},{key:"playerVersion",get:function(){var e,t=Mn.get("v2");return"1"===t||"true"===t?2:"0"===t||"false"===t?1:2===window.__playerVersion?2:null!==(e=this.playerSettings)&&void 0!==e&&e.playerVersion?this.playerSettings.playerVersion:null}},{key:"isDashboard",get:function(){return 1===window.__isDashboard?1:null}},{key:"setTrackingTags",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(t))throw new c("Tracking tags must be an array of key value pairs");t.length>20&&(console.warn("Bambuser limits number of tracking tags to 20. Excess tags will be ignored"),t=t.slice(0,20)),t=Array.from(t.reduce((function(e,t){var n=t.key,r=t.value;return n&&"string"==typeof n?"string"!=typeof r&&"number"!=typeof r&&"boolean"!=typeof r?(console.warn("Bambuser rejected tracking tag with invalid or missing value",t),e):"string"==typeof r&&new Blob([r]).size>1024?(console.warn("Bambuser rejected tracking tag exceeding allowed size limit of 1KB",t),e):e.set(n,{key:n,value:r}):(console.warn("Bambuser rejected tracking tag with invalid or missing key",t),e)}),new Map).values()),this._sendMessageToPlayer(e.mL.TRACKING_TAGS,{trackingTags:t}),this.trackingTags=t}},{key:"updateProducts",value:function(t){var n,r=[],i=_n(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof de)try{r.push(o.toObject())}catch(e){console.info("Ignoring invalid product: ".concat(e.message))}else r.push(o)}}catch(e){i.e(e)}finally{i.f()}if(this.debug){window._bambuserHydratedProductsDebugStorage||(window._bambuserHydratedProductsDebugStorage={});var a,s=_n(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;window._bambuserHydratedProductsDebugStorage[c._id]=c}}catch(e){s.e(e)}finally{s.f()}}this._sendMessageToPlayer(e.mL.PROVIDE_PRODUCT_DATA,{products:r}),this.playerDelegate.pushEvent("internal-hydrated-product-update",{data:{products:r}})}},{key:"hideUI",value:function(t){this._sendMessageToPlayer(e.mL.HIDE_UI,{uiSections:t})}},{key:"showUI",value:function(){this._sendMessageToPlayer(e.mL.SHOW_UI)}},{key:"play",value:function(){this._sendMessageToPlayer(e.mL.PLAY)}},{key:"pause",value:function(){this._sendMessageToPlayer(e.mL.PAUSE)}},{key:"showProductList",value:function(){this._sendMessageToPlayer(e.mL.SHOW_PRODUCT_LIST)}},{key:"showProductView",value:function(t){var n=t.id,r=t.stallUntilHydration;this._sendMessageToPlayer(e.mL.SHOW_PRODUCT_VIEW,{id:n,stallUntilHydration:r})}},{key:"hideProductList",value:function(){this._sendMessageToPlayer(e.mL.HIDE_PRODUCT_LIST)}},{key:"playerApiCall",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,o){if(!e)return o(new Error("eventName required"));if(r){var a="response-".concat(e,":").concat(Date.now());n||(n={}),n.responseId=a,t._pendingRequestsToPlayer[a]=function(e,t){t?o(t):i(e)}}else i(null);t._sendMessageToPlayer(e,n)}))}},{key:"seekToPercent",value:function(t){this._sendMessageToPlayer(e.mL.SEEK_TO_PERCENT,{seekToPercentage:t})}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._playerReady?this._sendMessageToPlayer(e.mL.CLOSE,t):(this.logger.log("close() player not ready, destroying immediately"),this.destroy())}},{key:"mute",value:function(){this._sendMessageToPlayer(e.mL.MUTE)}},{key:"unmute",value:function(){this._sendMessageToPlayer(e.mL.UNMUTE)}},{key:"createProduct",value:function(e){return Ie(e)}},{key:"destroy",value:function(){var e,t,n;this.logger.log("destroy()"),this._playerReady=!1,this._resetBackToPreviousViewportContent(),this.__resetMinimized&&(this.__resetMinimized(!0),delete this.__resetMinimized),this.__restoreMinimized&&delete this.__restoreMinimized,this.__closeMinimized&&delete this.__closeMinimized,this.__calculateMinimizedView&&delete this.__calculateMinimizedView,this.__cancelFullscreenListener&&(this.__cancelFullscreenListener(),delete this.__cancelFullscreenListener),this._destroyHtmlNodes(),this.__receiveMessage&&(window.removeEventListener("message",this.__receiveMessage,!1),delete this.__receiveMessage),this.__preventBodyScroll&&(document.removeEventListener("touchmove",this.__preventBodyScroll,{passive:!1}),delete this.__preventBodyScroll,this._restoreParentScroll()),this.__pushPageScrollTopHandler&&(window.removeEventListener("scroll",this.__pushPageScrollTopHandler),delete this.__pushPageScrollTopHandler,this.__pushPageScrollTopTimeout&&(window.clearTimeout(this.__pushPageScrollTopTimeout),delete this.__pushPageScrollTopTimeout)),this._clearCookieRefreshInterval(),null!==(e=this._trackingContext)&&void 0!==e&&e.showWasPlayed&&this._updateTrackingCookies(),window.__currentBambuserLiveShoppingOverlayPlayer===this&&delete window.__currentBambuserLiveShoppingOverlayPlayer,this.config._useExternalPlayerController&&this.playerDelegate.resetPlayerControllers();for(var r=0,i=Object.entries(this._pendingRequestsToPlayer);r<i.length;r++){var o=(t=i[r],n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||En(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];"function"==typeof s&&s(void 0,"The request is rejected due to the player being closed."),delete this._pendingRequestsToPlayer[a]}this.hasBeenShown=!1}},{key:"updateTrackingContextData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shouldUpdateTrackingCookies&&(Object.assign(this._trackingContext,e),this._updateTrackingCookies())}},{key:"_getPlayerUrl",value:function(){return pn(this)}},{key:"_destroyHtmlNodes",value:function(){this.logger.log("_destroyHtmlNodes()"),this.player.container&&(this.hideLoader(),this.config.containerNode||(this.player.container.parentNode.removeChild(this.player.container),this.player.container=null,this.player.frame=null,this.loader=null,delete this.player.containerId)),this.backgroundContainer&&(this.backgroundContainer.parentNode.removeChild(this.backgroundContainer),this.backgroundContainer=null,delete this.backgroundContainerId),this.activePlayerStyleElem&&!this.surf.container&&(this.activePlayerStyleElem.parentNode&&this.activePlayerStyleElem.parentNode.removeChild(this.activePlayerStyleElem),this.activePlayerStyleElem=null),this.styleElem&&!this.surf.container&&(this.styleElem.parentNode.removeChild(this.styleElem),this.styleElem=null)}},{key:"_preventBodyScroll",value:function(e){this.logger.log("_preventBodyScroll(rawEvent)",e);var t=e||window.event;return!(!this.__restoreMinimized||this.surf.frame)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)}},{key:"_processReceivedMessage",value:function(t){if(this._isAppDevEnv&&"object"===On(t.data)&&"string"==typeof t.data.eventType&&t.data.eventType.startsWith("bambuserAppDev:"))t.source===window.parent?this.player.frame.contentWindow.postMessage(t.data,"*"):t.source===this.player.frame.contentWindow&&window.parent.postMessage(t.data,"*");else{var n=null;try{n="object"===On(t.data)?t.data:JSON.parse(t.data)}catch(e){this.logger.logProd("_receiveMessage() error",e)}(!n||n.eventName!==e.mL.ON_PROGRESS&&n.eventName!==e.mL.MINI_PLAYER_MOVE)&&this.logger.logDev("_receiveMessage() Event from player",n),n&&n.eventName&&this._handlePlayerEvent(n)}}},{key:"_receiveMessage",value:function(e){var t=this.player.frame&&this.player.frame.contentWindow===e.source,n=e.source===window.parent&&this._isAppDevEnv;t||n?this._processReceivedMessage(e):this.logger.log("_receiveMessage() exit",e&&e.data)}},{key:"_receiveSurfFrameMessage",value:function(t){var n=null;switch(On(t.data)){case"string":try{if(!t.data.includes(e.bZ))return void this.logger.log("_receiveSurfFrameMessage() skip non surf event message",t.data);n=JSON.parse(t.data)}catch(e){this.logger.log("_receiveSurfFrameMessage() error",e,"event",t.data)}break;case"object":n=t.data}this.surf.frame&&this.surf.frame.contentWindow===t.source?((!n||n.eventName!==e.mL.ON_PROGRESS)&&this.logger.logDev("_receiveSurfFrameMessage() Event from surf frame",n),n&&n.eventName&&this._handleSurfFrameEvent(n)):(!n||n.eventName!==e.mL.ON_PROGRESS&&n.eventName!==e.mL.TRACKING_POINT&&n.eventName!==e.mL.MINI_PLAYER_MOVE)&&this.logger.log("_receiveSurfFrameMessage() exit",t&&t.data)}},{key:"_sendPlayerEventResponse",value:function(t,n){t.responseId?this._sendMessageToPlayer(e.mL.RESPONSE,{id:t.responseId,responseData:n,embedInstanceKey:null==t?void 0:t.embedInstanceKey}):this.logger.logProd("Received response from embedding page for event '".concat(t.eventName,"', but no response was expected. Ignoring it!"))}},{key:"_getTimelineForTracking",value:function(){var e=this.timeline,t=e.currentBroadcastId,n=e.currentTime;return{broadcastId:t,isLive:e.isLive,relativeTime:n,serverTime:e.serverTimeAtCurrentPosition}}},{key:"_cleanPotentialPiiDataFromConfig",value:function(e){var t=JSON.parse(JSON.stringify(e));return delete t.chatName,t}},{key:"_dispatchGlobalTrackingEvent",value:function(e){var t=new CustomEvent("bambuser-liveshop-tracking-point",{detail:e});window.dispatchEvent(t),this.config.withGA&&en("event",e.event,tn(e.data))}},{key:"_trackOnInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._trackMetric("on-interaction",Tn(Tn({},t),{},{interactionType:e}),n)}},{key:"_trackMetric",value:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var a=Tn(Tn({insertId:Q(),orgId:this.playerSettings.orgId,showId:this.config.eventId,userId:null===(t=this._trackingContext)||void 0===t?void 0:t.userId,sessionId:null===(n=this._trackingContext)||void 0===n?void 0:n.sessionId,source:"embed",playerVersion:this.playerVersion||0,referrerUrl:window.location.origin,timeline:this._getTimelineForTracking()},(null===(r=this.trackingTags)||void 0===r?void 0:r.length)>0&&{customerTags:this.trackingTags}),i),s=Tn({eventType:e},a),c={event:e,data:Tn({},a)};this.config.eventId&&this._trackMetricEmit(s,null==o?void 0:o.flushImmediately),this._dispatchGlobalTrackingEvent(c)}else this.logger.logProd("Can't track metric without providing an eventName")}},{key:"_trackMetricEmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.clientTimestamp=(new Date).toISOString(),window._bamMetricsQueue.push(e),t?this._flushMetrics():this._metricsSendHandle||this._scheduleFlush()}},{key:"_scheduleFlush",value:function(){var e=this;this._metricsSendHandle=window.setTimeout((function(){e._metricsSendHandle=null,e._flushMetrics()}),2e3)}},{key:"_flushMetrics",value:function(){var e=window._bamMetricsQueue.slice();window._bamMetricsQueue=e.slice(20);var t=e.slice(0,20);if(t.length){var n=JSON.stringify({bundle:t}),r=window.Request&&window.fetch,i=r&&"keepalive"in window.Request.prototype,o=!1;if(!r&&window.navigator&&window.navigator.sendBeacon)try{o=window.navigator.sendBeacon("https://svc-prod-us.liveshopping.bambuser.com/collect/metric",n)}catch(e){}o||window.fetch("https://svc-prod-us.liveshopping.bambuser.com/collect/metric",Tn({method:"POST",body:n},i&&{keepalive:!0})).catch((function(e){console.log(e)})),window._bamMetricsQueue.length&&this._scheduleFlush()}}},{key:"_getUrlFromWindow",value:function(){var e=window.location,t=e.origin,n=e.pathname,r=e.hash,i=e.search,o=new URLSearchParams(i);return o.delete("autoplayLiveShopping"),o=o.toString(),"".concat(t).concat(n).concat(o.length>0?"?".concat(o):"").concat(r)}},{key:"_sendCustomCSSToPlayer",value:function(){var t=window.__bambuserPlayerCSSOverrides;"string"==typeof t&&this._sendMessageToPlayer(e.mL.CSS_OVERRIDES,{css:t})}},{key:"_onPlayerThemeUpdate",value:function(e){this.logger.log("_onPlayerThemeUpdate()",e),e&&"object"===On(e)&&(this._playerTheme=e)}},{key:"_getTranslation",value:function(e,t){var n;return(null===(n=this._playerTheme)||void 0===n||null===(n=n.generic)||void 0===n?void 0:n[e])||t}},{key:"_handlePlayerEvent",value:function(n){var r=this,i=n||{},o=i.eventName,a=i.data,s=a||{},c=s.event,u=s.data;if("function"==typeof this._pendingRequestsToPlayer[o])return this._pendingRequestsToPlayer[o](a),this._pendingRequestsToPlayer[o]=null,void delete this._pendingRequestsToPlayer[o];switch(o){case e.mL.SET_CLOSE_ICON:t.closeIcon=a.replace("<svg",'<svg class="theming-icon"'),t.closeIconV2=a;break;case e.mL.SET_RESTORE_ICON:t.restoreIcon=a.replace("<svg",'<svg class="theming-icon"');break;case e.mL.SET_VIDEO_STATE:Object.assign(this.video,a),this.__calculateMinimizedView&&this.__calculateMinimizedView();break;case e.mL.FOCUS_LEAVE:this.surf.frame.contentWindow.focus();break;case e.mL.FOCUS_FIRST_OUTSIDE_IFRAME:this.onMiniPlayerMouseEnterLeave({type:"mouseenter"}),window.setTimeout((function(){var e=r.miniPlayer.expandButton||r.miniPlayer.closeButton;e&&e.focus()}),0);break;case e.mL.FOCUS_LAST_OUTSIDE_IFRAME:this.onMiniPlayerMouseEnterLeave({type:"mouseenter"}),window.setTimeout((function(){var e=r.miniPlayer.closeButton||r.miniPlayer.expandButton;e&&e.focus()}),0);break;case e.mL.MINI_PLAYER_DRAG_START:this._miniPlayerDragStart();break;case e.mL.MINI_PLAYER_MOVE:"function"==typeof this.__handleMoveMinimizedPlayer&&this.__handleMoveMinimizedPlayer(a);break;case e.mL.MINI_PLAYER_DRAG_END:this._miniPlayerDragEnd();break;case e.mL.MINIMIZED_ACTION_OVERLAY:var l=document.querySelector(".livecommerce-close-minimized");if(l){var d=(a||{}).withBackground;l.style.background=d?"none":""}break;case e.mL.ON_PROGRESS:this.timeline=a;break;case e.mL.READY:if(Object.assign(this.playerSettings,a||{}),this._playerReady=!0,this._trackingContext||!this.playerSettings.userId&&!this.playerSettings.sessionId||(this._trackingContext={}),this.playerSettings.userId&&(this._trackingContext.userId=this.playerSettings.userId),this.playerSettings.sessionId&&(this._trackingContext.sessionId=this.playerSettings.sessionId),this.showPlayer(),this._trackMetric("on-configuration",Tn({configuration:JSON.stringify(this._cleanPotentialPiiDataFromConfig(this.playerDelegate.config.rawConfig)),subscribedEvents:this.playerDelegate.getSupportedEvents()},Array.isArray(this.earlyPlayerAPIMessages)&&{earlyPlayerAPIMessages:JSON.stringify(this.earlyPlayerAPIMessages.map((function(e){return e.eventName})))})),this.playerSettings.withMinimizeSupport&&!this.surf.frame&&(this.logger.log("Pre-initializing surf"),this.surf.skipNextBrowserHistoryEntry=!0,this.surfTo(this._getUrlFromWindow())),this.__didTrackUnload=!1,this.__windowUnloadHandler=function(){r.__didTrackUnload||(r.__didTrackUnload=!0,r._trackOnInteraction("close",{actionOrigin:"window"},{flushImmediately:!0}))},window.addEventListener("unload",this.__windowUnloadHandler),window.addEventListener("beforeunload",this.__windowUnloadHandler),this._sendCustomCSSToPlayer(),Array.isArray(this.earlyPlayerAPIMessages)){var f,h=_n(this.earlyPlayerAPIMessages);try{for(h.s();!(f=h.n()).done;){var p=f.value;[e.mL.SHOW_PRODUCT_VIEW,e.mL.PAUSE,e.mL.PROVIDE_PRODUCT_DATA].includes(p.eventName)&&this._sendMessageToPlayer(p.eventName,p.data)}}catch(e){h.e(e)}finally{h.f()}this.earlyPlayerAPIMessages=null}this.config.startFullscreen&&this.enterPlayerFullscreen();break;case e.mL.CLOSE:if(this._emitEvent(e.wh.CLOSE),this.config.closeEventOnly&&"api"!==(null==a?void 0:a.actionOrigin))return;this.exitPlayerFullscreen(),this.__windowUnloadHandler&&(window.removeEventListener("unload",this.__windowUnloadHandler),delete this.__windowUnloadHandler),window.removeEventListener("resize",this.__calculateMinimizedView),this.destroy();break;case e.mL.MINIMIZE:if(this._emitEvent(e.wh.MINIMIZE,a||{}),this.config.minimizeEventOnly)return;var y=(a||{}).url||null;if(y||this.surf.frame||this.config.surfBehindMode===jn||(y=this._getUrlFromWindow(),this.surf.skipNextBrowserHistoryEntry=!0),y){if(this._emitEvent(e.wh.OPEN_URL,{url:y,target:"_blank"}),!this.playerSettings.withMinimizeSupport)return!this.config._disableWindowOpen&&window.open(y,"_blank");this.surfTo(y)}this.minimize();break;case e.mL.MINI_PLAYER_RESTORE:"function"==typeof this.__restoreMinimized&&this.__restoreMinimized();break;case e.mL.FULLSCREEN_ENTER:this.enterPlayerFullscreen();break;case e.mL.FULLSCREEN_EXIT:this.exitPlayerFullscreen();break;case e.mL.OPEN_EXTERNAL_BROWSER:a.url&&(window.location.href=a.url);break;case e.mL.THEME_UPDATE:this._onPlayerThemeUpdate(a);break;case e.mL.TRACKING_POINT:if(!a)return;if(this._dispatchGlobalTrackingEvent(a),!this.shouldUpdateTrackingCookies)return;u&&(!this._trackingContext.showId&&u.showId&&(this._trackingContext.showId=u.showId),!this._trackingContext.orgId&&u.orgId&&(this._trackingContext.orgId=u.orgId),"on-play"===c&&(this._trackingContext.showWasPlayed=!0)),this._manageCookieRefreshInterval(c),this._updateTrackingCookies();break;case e.mL.TRACKING_SEND_EVENT:this.config.eventId&&this._trackMetricEmit(Tn({source:"embed"},u));break;case e.mL.RESET_BASE_PAGE_SCROLL:window.scrollTo(0,0);break;case e.mL.EXTERNAL_PLAYER_CONTROLLER_NEW:this.playerDelegate.setupNewPlayerController(a.id);break;case e.mL.EXTERNAL_PLAYER_CONTROLLER_CHANGE:var v=a.id!==this.currentPlayerController();this.playerDelegate.changeCurrentPlayerController(a.id),v&&this._emitEvent(e.wh.EXTERNAL_PLAYER_CONTROLLER_CHANGE,a);break;case e.mL.LOAD:this.setTrackingTags(this.trackingTags);break;case e.mL.REQUEST_EVENT_CHANGE:this._setAppContextInCurrentPlayer(a);break;default:this.logger.logDev("Received unhandled player event",o)}if(e.Eq.includes(o)){var m=o.startsWith(e.hw)?o.substr(e.hw.length):o;this._emitEvent(m,a,this._sendPlayerEventResponse.bind(this,n))}}},{key:"loadShow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.logger.log("loadShow(eventId)",e,"__restoreMinimized",!!this.__restoreMinimized,"eventId === config.eventId",e===this.config.eventId,"isNewShow",t),!t&&e===this.config.eventId&&this.__restoreMinimized)this.__restoreMinimized();else{this.config.eventId=e;var n=this.player.frame;if(n){var r;n.classList.remove("ready"),null===(r=this.loader)||void 0===r||r.classList.remove("hidden"),this.__resetMinimized&&this.__resetMinimized();var i=n.parentNode;n.remove(),n.setAttribute("src",this._getPlayerUrl()),i.append(n)}else this.show()}}},{key:"_pauseOtherPlaybacks",value:function(){var e,t=_n(document.querySelectorAll("iframe"));try{for(t.s();!(e=t.n()).done;){var n=e.value;n.src&&n.src.startsWith("https://www.youtube.com/embed")&&n.src.indexOf("enablejsapi=1")>=0&&n.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"*")}}catch(e){t.e(e)}finally{t.f()}if(this.surf.frame)try{var r=this.surf.frame.contentWindow.document.createElement("script");r.innerHTML="\n        (function() {\n          let iframes = document.querySelectorAll('iframe');\n          for (let i = 0; i < iframes.length; i++) {\n            let iframe = iframes[i];\n            if (iframe.src && iframe.src.indexOf('https://www.youtube.com/embed') === 0) {\n              if (iframe.src.indexOf('enablejsapi=1') >= 0) {\n                iframe.contentWindow.postMessage(JSON.stringify({\n                  event: 'command',\n                  func: 'pauseVideo',\n                }), '*');\n              }\n            }\n          }\n          document.currentScript.parentNode.removeChild(document.currentScript);\n        })();",this.surf.frame.contentWindow.document.body.appendChild(r)}catch(e){}}},{key:"_handleSurfFrameEvent",value:function(t){var n=t.eventName,r=t.data;switch(this.logger.log("_handleSurfFrameEvent(eventName, data)",{eventName:n,data:r}),n){case e.hN.REQUEST_OPEN_SHOW:var i=r.config,o=r.requestId,a=r.fromNode;if(!i||!o)return;var s=this.config.eventId,c=!!window.__currentBambuserLiveShoppingOverlayPlayer;if(this.logger.log("Request open show",{currentEventId:s,isBambuserLiveShoppingExposed:c}),!a&&i.eventId===s&&c)this.logger.log("Skip autoplay");else{var u=i.eventId,l=u!==s;l&&this.mountPlayerAPI(u,!0);var d=this.getProviderConfig();i.allowShareAutoplay?!1===d.allowShareAutoplay&&(i.allowShareAutoplay=!1):!0===d.allowShareAutoplay&&console.warn(Yt("allowShareAutoplay","autoplayHandler")),this.config=Object.assign(d,i),this.loadShow(u,l)}var f=JSON.stringify({eventName:e.hN.ACCEPTED_REQUEST_OPEN_SHOW,data:{requestId:o}});this.surf.frame.contentWindow.postMessage(f,"*");break;case e.hN.REQUEST_SURF_BEHIND_TO:if(this.config.surfBehindMode===Dn){Dt(this.getSurfFrame(),r);break}default:this.logger.logDev("Received unhandled surf frame event",n)}}},{key:"_sendMessageToPlayer",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n&&n.embedInstanceKey&&(null==n?void 0:n.embedInstanceKey)===this.instanceKey)window.postMessage(JSON.stringify({eventName:t,data:n}),"*");else{if(!this.player.frame||!this._playerReady)return this.earlyPlayerAPIMessages||(this.earlyPlayerAPIMessages=[]),void(this.earlyPlayerAPIMessages.some((function(e){return(null==e?void 0:e.eventName)===t}))?t===e.mL.PROVIDE_PRODUCT_DATA&&(this.earlyPlayerAPIMessages=this.earlyPlayerAPIMessages.map((function(r){var i;if((null==r?void 0:r.eventName)!==e.mL.PROVIDE_PRODUCT_DATA)return r;var o=(null===(i=r.data)||void 0===i?void 0:i.products)||[],a=(null==n?void 0:n.products)||[],s=Object.values(Tn(Tn({},Object.fromEntries(o.map((function(e){var t=e._id;return[t,Tn({_id:t},wn(e,gn))]})))),Object.fromEntries(a.map((function(e){var t=e._id;return[t,Tn({_id:t},wn(e,bn))]})))));return{eventName:t,data:Tn(Tn({},r.data),{},{products:s})}}))):this.earlyPlayerAPIMessages.push({eventName:t,data:n}));this.logger.logDev("WILL EMIT TO PLAYER",t,n);var r={eventName:t};n&&(r.data=n);var i=this.config.playerUrl;i.startsWith("//")&&(i=window.location.protocol+i),this.player.frame.contentWindow.postMessage(JSON.stringify(r),i)}}},{key:"_emitEvent",value:function(e){for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r[0],a=void 0===o?null:o,s=r[1],c=void 0===s?null:s;"function"==typeof a&&(c=a,a=null),null!==a&&(t.data=a),"function"==typeof c&&(t.callback=c),this.playerDelegate.pushEvent(e,t),"function"==typeof window.BambuserLiveShoppingEventHandler&&window.BambuserLiveShoppingEventHandler(Tn({type:e,player:this},t))}},{key:"_updateTrackingCookies",value:function(){if(this.shouldUpdateTrackingCookies){var t=this.config,n=t.cookie,r=void 0===n?{}:n,i=t.isVod,o=r.domain,a=r.activityCookieTTLDays,s=Tn({expires:365},o&&{domain:o}),c=this._trackingContext,u=c.orgId,l=c.userId,d=c.showId,f=c.sessionId,h=c.showWasPlayed;if(u&&G(e.sJ.CUSTOMER_ID,u,s),l&&G(e.sJ.USER_ID,l,s),f){var p=new Date((new Date).getTime()+18e5);G(e.sJ.SESSION_ID,f,Tn(Tn({},s),{},{expires:p}))}var y=a>0?a:30;if(d&&!i){var v=Tn(Tn({},s),{},{expires:y});G(e.sJ.SHOW_ID,d,v),h&&G(e.sJ.LAST_INTERACTION_TIMESTAMP,(new Date).getTime(),v)}if(i){var m={},g=Date.now()+864e5*y;try{(m=JSON.parse(W(e.sJ.LOCALIZED_CONVERSION_TRACKING_EXPIRY)||{})).constructor!==Object&&(m={})}catch(e){}m["lcpro-9cc17".endsWith("eu")?"eu":"us"]=g;var b=Math.max.apply(Math,function(e){if(Array.isArray(e))return Sn(e)}(w=Object.values(m))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(w)||En(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());G(e.sJ.LOCALIZED_CONVERSION_TRACKING_EXPIRY,JSON.stringify(m),Tn(Tn({},s),{},{expires:new Date(b)}))}}var w}},{key:"_manageCookieRefreshInterval",value:function(e){var t=this;this.shouldUpdateTrackingCookies&&(this._clearCookieRefreshInterval(),this._trackingContext.showWasPlayed&&"on-stop"!==e&&(this._cookieRefreshInterval=window.setInterval((function(){t._updateTrackingCookies()}),6e4)))}},{key:"_clearCookieRefreshInterval",value:function(){this._cookieRefreshInterval&&(window.clearInterval(this._cookieRefreshInterval),delete this._cookieRefreshInterval)}},{key:"_viewportChangeHandler",value:function(t){var n,r,i=null!==(n=null===(r=t.target.viewport)||void 0===r?void 0:r.height)&&void 0!==n?n:t.target.height;this._sendMessageToPlayer(e.mL.CURRENT_BASEPAGE_VIEWPORT,{height:i})}},{key:"_pushPageScrollTopHandler",value:function(){var t=this;this.__pushPageScrollTopTimeout?window.clearTimeout(this.__pushPageScrollTopTimeout):this._sendMessageToPlayer(e.mL.CURRENT_BASEPAGE_SCROLLTOP,{scrollTop:window.scrollY}),this.__pushPageScrollTopTimeout=window.setTimeout((function(){delete t.__pushPageScrollTopTimeout,t._sendMessageToPlayer(e.mL.CURRENT_BASEPAGE_SCROLLTOP,{scrollTop:window.scrollY})}),150)}},{key:"_disableParentScroll",value:function(){document.documentElement.style.setProperty("overflow","hidden","important"),document.body.style.setProperty("overflow","hidden","important"),document.body.style.overscrollBehavior="none"}},{key:"_restoreParentScroll",value:function(){document.documentElement.style.setProperty("overflow",""),document.body.style.setProperty("overflow",""),document.body.style.overscrollBehavior=""}},{key:"currentPlayerController",value:function(){return this.playerDelegate.currentPlayerController()}},{key:"playerControllers",value:function(){return this.playerDelegate.playerControllers()}},{key:"externalPlayerControllerEvent",value:function(t){this._sendMessageToPlayer(e.mL.EXTERNAL_PLAYER_CONTROLLER_EVENTS,t)}},{key:"isAutoplayAllowed",value:function(){return!0}}],r&&Ln(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();In(qn,"publicAPIEndpointsURL","https://svc-prod-us.liveshopping.bambuser.com/widgets"),qn.restoreIcon="\n  <svg width='27' height='16' viewBox='0 0 27 16' fill='none' xmlns='http://www.w3.org/2000/svg' alt=''>\n    <path d='M2 15L14 2L26 15' stroke='white' stroke-width='2'></path>\n  </svg>",qn.closeIcon="\n  <svg width='17' height='17' viewBox='0 0 17 17' fill='none' xmlns='http://www.w3.org/2000/svg' alt=''>\n    <path d='M16 16L1 1' stroke='white' stroke-width='2'></path>\n    <path d='M1 16L16 1' stroke='white' stroke-width='2'></path>\n  </svg>",qn.closeIconV2='\n  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9393 12L4.96967 6.03033L6.03033 4.96967L12 10.9393L17.9697 4.96967L19.0303 6.03033L13.0607 12L19.0303 17.9697L17.9697 19.0303L12 13.0607L6.03033 19.0303L4.96967 17.9697L10.9393 12Z" fill="white"/>\n  </svg>';var Yn=qn;function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e,t){"string"==typeof e?e={type:"overlay",eventId:e}:e.showId&&(e.eventId=e.showId,delete e.showId),e.eventId&&(e.eventId=String(e.eventId).replace(/[^a-zA-Z0-9]/g,""));var n=new window.BambuserLiveShopping(e);if(t&&!n.isAutoplayAllowed())return n;var r=!1;if(window.top){window.top===window&&(r=!0);try{window.top.location.href!==window.location.href&&(r=!0)}catch(e){}window.top===window||e._wasQueuedAtStartup||(r=!0)}return"overlay"===e.type&&e.node?e.node.addEventListener("click",(function(){n.show()})):null===e.node?console.log('Element from property "node" in Bambuser Live Shopping configuration could not be found'):r&&n.show(),n}function Jn(e,t){Kn(e,t)}function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function $n(){$n=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Qn(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Qn(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||tr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e){return function(e){if(Array.isArray(e))return nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){if(e){if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(e,t):void 0}}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ir(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){rr(o,r,i,a,s,"next",e)}function s(e){rr(o,r,i,a,s,"throw",e)}a(void 0)}))}}i(5735);var or=function(){var t=ir($n().mark((function t(n,r){var i,o,a,s,c,u,l,d,f,h,p,y,v,m,g,b,w,_,E,S,P,O,x,A,k,T,L,I,C,R,M,N;return $n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(/[&#]bamatc_\w+=(.+)/.test(n.location.hash)){t.next=5;break}return a=new URL(n.location.href),null!==(o=a.searchParams)&&void 0!==o&&o.has("bamatc_sku")&&(a.hash=er(a.searchParams.entries()).filter((function(e){var t=Zn(e,1)[0];return t.startsWith("bamatc_")||t.startsWith("utm_")})).reduce((function(e,t){var n=Zn(t,2),r=n[0],i=n[1];return a.searchParams.delete(r),e?"".concat(e,"&").concat(r,"=").concat(i):"".concat(r,"=").concat(i)}),a.hash),n.location.href=a.toString()),t.abrupt("return");case 5:if(n.Proxy){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,ir($n().mark((function e(){var t,r;return $n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=100,r=function(){var e=ir($n().mark((function e(){return $n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.onBambuserLiveShoppingReady){e.next=2;break}return e.abrupt("return");case 2:if(!(t-- >0)){e.next=6;break}return e.next=5,new Promise((function(e){return n.setTimeout(e,100)}));case 5:return e.abrupt("return",r());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,r();case 4:case"end":return e.stop()}}),e)})))();case 9:if(n.onBambuserLiveShoppingReady){t.next=11;break}return t.abrupt("return");case 11:return s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n.Proxy(e,{get:function(e,t){return t in e?e[t]:function(){return"function"==typeof(arguments.length<=0?void 0:arguments[0])?function(){}:{}}}})},c={},u={EVENT:{ADD_TO_CART:"livecommerce:should-add-item-to-cart",CHECKOUT:"livecommerce:goto-checkout"},showCheckout:function(e){null!=e&&e.match(/^https?:\/\//)&&(n.location.href=e)},on:function(e,t){c[e]=t}},l=s(u),t.next=17,n.onBambuserLiveShoppingReady(l);case 17:if("function"==typeof c[u.EVENT.ADD_TO_CART]){t.next=19;break}return t.abrupt("return");case 19:if(d=Object.fromEntries(er(new URLSearchParams(n.location.hash.slice(1)).entries()).map((function(e){return e.map(decodeURIComponent)}))),f=d.bamatc_sku,h=d.bamatc_orgId,p=d.bamatc_showId,y=d.bamatc_productId,v=d.bamatc_platform,m=d.bamatc_variation,g=void 0===m?null:m,b=d.bamatc_title,w=void 0===b?null:b,_=d.bamatc_size,E=void 0===_?null:_,S=d.bamatc_remoteAssetId,P=void 0===S?null:S,O=d.bamatc_remoteAssetName,x=void 0===O?null:O,A=d.bamatc_remoteAccountId,k=void 0===A?null:A,T=d.bamatc_remoteAccountName,L=void 0===T?null:T,f){t.next=22;break}return t.abrupt("return");case 22:return t.next=24,new Promise((function(e){var t=n.setTimeout((function(){return e(!1)}),5e3);c[u.EVENT.ADD_TO_CART]({sku:f},(function(r){return r||console.error("Failed to add item with SKU ".concat(f," to cart")),n.clearTimeout(t),e(!0)}))}));case 24:if(t.sent){t.next=27;break}return t.abrupt("return");case 27:return t.prev=27,I=W(e.sJ.USER_ID),C=W(e.sJ.SESSION_ID),R=I||Q(),M=C||Q(),N={expires:365,domain:n.location.hostname},h&&G(e.sJ.CUSTOMER_ID,h,N),I||G(e.sJ.USER_ID,R,N),C||G(e.sJ.SESSION_ID,M,N),t.next=38,r.prototype._trackMetricEmit({orgId:h,showId:p,fromPlatform:v,userId:R,sessionId:M,source:"embed",eventType:"on-remote-add-to-cart",insertId:Q(),remoteAssetId:P,remoteAssetName:x,remoteAccountId:k,remoteAccountName:L,items:[{id:y,vendor:"hydratable-product",sku:f,quantity:1,title:w,size:E,variation:g}]});case 38:t.next=43;break;case 40:t.prev=40,t.t0=t.catch(27),console.error("Failed to track add to cart metrics",t.t0.message);case 43:null===(i=c[u.EVENT.CHECKOUT])||void 0===i||i.call(c);case 44:case"end":return t.stop()}}),t,null,[[27,40]])})));return function(e,n){return t.apply(this,arguments)}}();function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t,n){var r;return r=function(e,t){if("object"!=ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==ar(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||fr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e){return function(e){if(Array.isArray(e))return hr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){if(e){if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,t):void 0}}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){if(e){if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}i(5659),i(4528),i(6272),i(2234),i(9910),i(7216),i(7015),i(6651);var mr=function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},gr=["on","off","true","false"],br=function(e){return gr.includes(e)},wr={products:{defaultValue:!0,isValidValue:function(e){return function(e){var t=parseInt(e,10);return Number.isInteger(t)&&t>=0&&t<=5}(e)||br(e)},getValue:function(e){if("on"===e||"true"===e)return 5;if("off"===e||"false"===e)return 0;var t=parseInt(e,10);return Number.isInteger(t)?Math.min(Math.max(t,0),5):5}},title:{defaultValue:!0,isValidValue:function(e){return br(e)},getValue:function(e){return"on"===e||"true"===e}},overlayTextWrap:{defaultValue:!0,isValidValue:function(e){return br(e)},getValue:function(e){return"on"===e||"true"===e}},productCardMode:{defaultValue:"default",isValidValue:function(e){return["default","thumbnail","full"].includes(e)},getValue:function(e){return e}},actions:{defaultValue:void 0,isValidValue:function(e){return function(e){var t=parseInt(e,10);return Number.isInteger(t)&&t>=0&&t<=Number.MAX_SAFE_INTEGER}(e)||br(e)||"undefined"===e},getValue:function(e){return"on"===e||"true"===e||Number.isInteger(parseInt(e,10))&&parseInt(e,10)>0||"undefined"===e&&void 0}},closedCaptions:{defaultValue:!0,isValidValue:function(e){return br(e)},getValue:function(e){return"on"===e||"true"===e}}},_r=function(e,t){var n=mr(e);if(n in wr){if(wr[n].isValidValue(t))return wr[n].getValue(t);console.warn("Invalid setting ".concat(e," value: ").concat(t))}else console.warn("Invalid setting name: ".concat(e))},Er=function(e){if(350<e.length)return console.warn("Settings string is too long: ".concat(e.length," characters")),{};var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=yr(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.split(";").filter((function(e){return e})));try{for(r.s();!(t=r.n()).done;){var i=t.value.split(":").map((function(e){return e.trim()}));if(2===i.length){var o=pr(i,2),a=o[0],s=o[1],c=_r(a,s);void 0!==c&&(n[mr(a)]=c)}else console.warn("Invalid settings entry: ".concat(i))}}catch(e){r.e(e)}finally{r.f()}return n},Sr=function(e){return Object.entries(e).map((function(e){var t,n=pr(e,2),r=n[0],i=n[1];return"".concat((t=r,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),":").concat(i)})).join(";")},Pr=function(){return Object.fromEntries(Object.entries(wr).map((function(e){var t=pr(e,2);return[t[0],t[1].defaultValue]})))},Or={EXACT_SIZE:"exact-size",SAME_HEIGHT:"same-height",SAME_WIDTH:"same-width",FILL_PARENT:"fill-parent"},xr="fill",Ar={NONE:"none",EXPAND:"expand",EXPAND_PRODUCT:"expand-product",MODAL:"modal",DRAWER:"drawer",TAB_CURRENT:"tab-current",TAB_NEW:"tab-new"},kr={INLINE:"inline",DRAWER:"drawer",MODAL:"modal"},Tr={OFF:"off",ORIGINAL:"original"};function Lr(e){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(e)}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){var r;return r=function(e,t){if("object"!=Lr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Lr(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}i(3379),i(9131);var Ur={height:300,quality:80},Fr=null;try{Fr="https://cdn.liveshopping.bambuser.com/imageTransformer"}catch(e){console.log(e),Fr="https://cdn.liveshopping.bambuser.com/imageTransformer"}var Br,zr=!1;function Hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)return"";if(e.match(/^data:image\//))return e;if(!e.match(/:\/\//))return"";if("function"!=typeof window.btoa)return e;var n=e.split(".").pop().split(/#|\?/)[0].toLocaleLowerCase();if(t.skipVectorImages&&"svg"===n)return e;t.url=e;var r,i,o=(r=t)&&"object"===Dr(r)?Object.entries(r).sort((function(e,t){var n=Nr(e,1)[0],r=Nr(t,1)[0];return n.localeCompare(r)})).map((function(e){var t=Nr(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))})).join("&"):"";return i="gif"===n?"gif":zr?"webp":"png"===n?"png":"jpg","".concat(Fr,"/i/").concat(window.btoa(o),".").concat(i)}function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Wr(){Wr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Vr(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Vr(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Gr(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function qr(e){return function(e){if(Array.isArray(e))return Xr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jr(r.key),r)}}function Jr(e){var t=function(e,t){if("object"!=Vr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vr(t)?t:String(t)}window&&window.Image&&((Br=new window.Image).onload=function(){zr=!!(Br.height>0&&Br.width>0)},Br.onerror=function(){zr=!1},Br.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"),new Map,i(3373);var Qr=function(e,t){for(var n,r,i=t&&t.isConnected?t.getBoundingClientRect():{left:0,top:0,right:window.innerWidth||document.documentElement.clientWidth,bottom:window.innerHeight||document.documentElement.clientHeight},o=e.parentElement;o&&o!==document.documentElement&&o!==document.body&&o!==t;){var a=getComputedStyle(o),s=a.overflowX&&"visible"!==a.overflowX,c=a.overflowY&&"visible"!==a.overflowY;if(s||c)if(n=i,r=o.getBoundingClientRect(),(i={left:Math.max(n.left,r.left),top:Math.max(n.top,r.top),right:Math.min(n.right,r.right),bottom:Math.min(n.bottom,r.bottom)}).right<=i.left||i.bottom<=i.top)break;o=o.parentElement}return i},$r=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.concurrency=Math.max(1,r.concurrency||5),this._concurrency=this.concurrency,this.root=r.root||null,this._io="IntersectionObserver"in window?new IntersectionObserver((function(){n._scheduleResort()}),{root:this.root,rootMargin:r.rootMargin||"0px",threshold:null!==(t=r.threshold)&&void 0!==t?t:[0]}):null,this.jobs=new Map,this.queued=[],this.running=new Set,this._id=0,this._resortScheduled=!1,this._destroyed=!1,this._onScroll=function(){n._destroyed||n._scheduleResort()},window.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onScroll,{passive:!0})}var t,n,r,i;return t=e,n=[{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||"function"!=typeof t)throw new Error("add(el, taskFn): invalid arguments");var r="job_".concat(++this._id),i={id:r,el:e,taskFn:t,state:"queued",priority:n};return this.jobs.set(r,i),this.queued.push(r),this._io&&this._io.observe(e),this._scheduleResort(),r}},{key:"sort",value:function(){this._scheduleResort()}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){this._paused=!1,this._drain()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,window.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onScroll),this._io&&this._io.disconnect())}},{key:"_scheduleResort",value:function(){var e=this;this._resortScheduled||(this._resortScheduled=!0,requestAnimationFrame((function(){e._resortScheduled=!1,e._destroyed||(e._resortQueued(),e._drain())})))}},{key:"_resortQueued",value:function(){var e=this;if(this.queued.length){this.queued=this.queued.filter((function(t){var n=e.jobs.get(t);return!(!n||!n.el.isConnected&&(e._untrackJob(n),1))}));var t,n=[],r=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yr(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.queued);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=this.jobs.get(o),s=a.el.getBoundingClientRect(),c=Qr(a.el,this.root),u=s.right>c.left&&s.left<c.right&&s.bottom>c.top&&s.top<c.bottom,l=s.top-c.top;(u?n:r).push({id:o,top:l,priority:a.priority})}}catch(e){i.e(e)}finally{i.f()}n.sort((function(e,t){return e.top-t.top})),r.sort((function(e,t){return null!==e.priority&&null!==t.priority?e.priority-t.priority:null!==e.priority?-1:null!==t.priority?1:e.top-t.top})),n.length&&(this.concurrency=Math.min(n.length,this._concurrency)),this.queued=[].concat(qr(n.map((function(e){return e.id}))),qr(r.map((function(e){return e.id}))))}}},{key:"_drain",value:function(){if(!this._destroyed){for(;this.running.size<this.concurrency&&this.queued.length>0;){if(this._paused)return;var e=this.queued.shift(),t=this.jobs.get(e);t&&"queued"===t.state&&(t.el.isConnected?this._start(t):this._untrackJob(t))}this.concurrency=this._concurrency}}},{key:"_start",value:(r=Wr().mark((function e(t){return Wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state="running",this.running.add(t.id),this._io&&t.el&&this._io.unobserve(t.el),e.prev=3,e.next=6,t.taskFn(t.el,t);case 6:return e.prev=6,this._finish(t),e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[3,,6,9]])})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){Gr(o,n,i,a,s,"next",e)}function s(e){Gr(o,n,i,a,s,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"_finish",value:function(e){e.state="done",this.running.delete(e.id),this._drain()}},{key:"_untrackJob",value:function(e){this._io&&e.el&&this._io.unobserve(e.el),this.jobs.delete(e.id);var t=this.queued.indexOf(e.id);t>=0&&this.queued.splice(t,1),this.running.delete(e.id)}}],n&&Kr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zr=$r;function ei(e){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(e)}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ni(r.key),r)}}function ni(e){var t=function(e,t){if("object"!=ei(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ei(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ei(t)?t:String(t)}var ri=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settled=!1,this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}var t,n;return t=e,(n=[{key:"resolve",value:function(e){this._settled||(this._settled=!0,this._resolve(e))}},{key:"reject",value:function(e){this._settled||(this._settled=!0,this._reject(e))}},{key:"promise",get:function(){return this._promise}},{key:"settled",get:function(){return this._settled}}])&&ti(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ii=["price"],oi=["amount"];function ai(){ai=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(bi(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function si(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ci(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){si(o,r,i,a,s,"next",e)}function s(e){si(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ui(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mi(r.key),r)}}function fi(e,t){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fi(e,t)}function hi(e){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hi(e)}function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vi(e,t,n){return(t=mi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mi(e){var t=function(e,t){if("object"!=bi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bi(t)?t:String(t)}function gi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}var wi=window,_i=wi.setTimeout,Ei=wi.clearTimeout,Si=wi.Intl,Pi=l().getParser(window.navigator.userAgent),Oi=Pi.satisfies({windows:{"internet explorer":"<=11"},mobile:{safari:"<11"}}),xi=function(e){try{return new URL(e).toString()}catch(e){return null}},Ai=function(e,t,n,r){var i=r?0:void 0,o=i;return new Si.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:i,maximumFractionDigits:o}).format(e)},ki=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fi(e,t)}(c,window.HTMLElement);var n,r,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hi(o);if(a){var n=hi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this)).shadow=e.attachShadow({mode:"open"}),e._id=Math.random().toString(36).substring(2,9),e._settings=Pr(),e._isProductViewShown=!1,e._isProductListShown=!1,e._isExpandedInPlaylist=!1,e._poster=null,e._isMuted=void 0,e._theme={},e._currentCaption="",e._isDesktop="desktop"===Pi.getPlatformType(!0),e._playerReady=new ri,e}return n=c,r=[{key:"_expanded",set:function(e){this._isExpandedInPlaylist=e,this._isExpandedInPlaylist?this.wrapper.classList.add("is-expanded"):this.wrapper.classList.remove("is-expanded")}},{key:"connectedCallback",value:function(){Oi||this._hasConnected||(this._hasConnected=!0,this._updateSettingsFromAttributes(),this._setupDOM(),this._setup(),this._updateStylesheet())}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._unloadResizeObserver)||void 0===e||e.call(this)}},{key:"attributeChangedCallback",value:function(e,t,n){if(this._hasConnected&&!this._isPlayerUILoaded){if("event-id"===e||"video-id"===e){if(!n)return void this._tearDown();n!==t&&(this._tearDown(),this._setupDOM(),this._setup())}var r;"autoplay"===e&&n!==t&&(this.pause(),null===(r=this._unloadDOMEventListeners)||void 0===r||r.call(this),this._setupDOMEventListeners()),"poster"===e&&this._updateStylesheet(),"settings"===e&&(this._updateSettingsFromAttributes(),this._updateOverlayDOM(),this._updateStylesheet()),"defer-load"===e&&"true"!==n&&this._setup()}}},{key:"_attr",get:function(){var e,t=this.getAttribute("event-id"),n=this.getAttribute("video-id"),r=(null===(e=this.getAttribute("autoplay"))||void 0===e?void 0:e.toLocaleLowerCase())||this.hasAttribute("autoplay")||!1,i=this.getAttribute("loop")||this.hasAttribute("loop")||!1,o="false"!==this.getAttribute("standalone"),a=this.getAttribute("poster"),s=this.getAttribute("settings"),c=null===this.getAttribute("show-products")?void 0:_r("products",this.getAttribute("show-products"));return{eventId:t,videoId:n,autoplay:r,loop:i,standalone:o,poster:a,settings:s,showActions:null===this.getAttribute("show-actions")?void 0:_r("actions",this.getAttribute("show-actions")),showProducts:c,distributionPageId:this.getAttribute("distribution-page-id"),distributionContainerId:this.getAttribute("distribution-container-id"),playerFit:this.getAttribute("player-fit")||Or.SAME_HEIGHT,landscapeInPortrait:this.getAttribute("landscape-in-portrait")||"fit",showPosterWhenPaused:"true"===this.getAttribute("show-poster-when-paused"),startMuted:"true"===this.getAttribute("start-muted"),cookieDomain:this.getAttribute("cookie-domain"),cookieTTLDays:this.getAttribute("cookie-ttl-days"),deferLoad:"true"===this.getAttribute("defer-load"),productAction:this.getAttribute("product-action")||Ar.EXPAND_PRODUCT,disableExpandOnClick:"true"===this.getAttribute("disable-expand-on-click"),closedCaptions:this.getAttribute("closed-captions")||Tr.OFF}}},{key:"_getOverridableConfig",value:function(){return{}}},{key:"_getPlayerUrl",value:function(){var e,t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forcePreload,r=void 0!==n&&n,i=this._attr,o=i.eventId,a=i.videoId,s=i.autoplay,c=i.standalone,u=i.distributionPageId,l=i.distributionContainerId,d=i.landscapeInPortrait,f=i.startMuted,h=i.closedCaptions,p=!0===s||s&&"hover"!==s&&"visible"!==s,y=yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi({},this._getPlayerIntegrationConfig()),null===(e=this.embedInstance)||void 0===e?void 0:e.config),{},{eventId:o,videoId:a,autoplay:p,type:"overlay",playerVersion:2,webComponentTagName:null===(t=this.tagName)||void 0===t?void 0:t.toLowerCase(),withBaaSPlayerPreloading:!0,deferReactAppInit:!0,withMinimizeSupport:!1},!c&&{hideCloseButton:!0}),a&&{hideShareButton:!0,hideEmojiOverlay:!0}),u&&{distributionPageId:u}),l&&{distributionContainerId:l}),d&&{landscapeInPortrait:d}),f&&{startMuted:f}),c&&{isVODStandalone:!0}),h&&{closedCaptions:h}),this._getOverridableConfig()),v=pn({config:y,logger:new Rt}).replace(/\?/,"#"),m=new URLSearchParams(yi({widgetId:this._id,useTopBarRightMargin:!this._isDesktop},!r&&{noPreloadVideo:!this._isVisibleOnPage()||!this._isHorizVisibleInContainer()}));return"".concat(v,"&").concat(m.toString())}},{key:"_getPlayerIntegrationConfig",value:function(){var e;return(null===(e=this.embedInstance)||void 0===e?void 0:e.getProviderConfig())||{}}},{key:"_updateSettingsFromAttributes",value:function(){var e=this._attr.settings;e&&(this._settings=yi(yi({},this._settings),Er(e)))}},{key:"_updateStylesheet",value:function(){var e,t=this._videoWidth,n=this._videoHeight;(!isFinite(t)||!isFinite(n)||t<=0||n<=0)&&(t=null,n=null);var r=t&&n?t/n:void 0,i=this.getBoundingClientRect(),o=i.height,a=i.width,s=Math.max(8,Math.min(Math.round(o/35),20)),c="default"===this._settings.productCardMode&&(a<220||o<190),u=this._attr,l=u.playerFit,d=u.poster,f=u.showPosterWhenPaused,h=((null==this||null===(e=this._event)||void 0===e?void 0:e.customPendingStyle)||{}).backgroundImage,p=xi(d)||xi(this._poster)||xi(h),y=p?Hr(p):null;this.styleSheet.textContent=function(e){var t,n,r,i,o,a,s,c=e.aspectRatio,u=e.fontSize,l=e.showOnlyThumbnails,d=e.poster,f=e.showPosterWhenPaused,h=e.theme,p=e.isInlinePlayer;switch(e.playerFit){case Or.FILL_PARENT:s="100%",a="100%";break;case Or.EXACT_SIZE:s="var(--bam-player-width, var(--internal-width, 250px))",a="var(--bam-player-height, var(--internal-height, 444px))";break;case Or.SAME_WIDTH:a="calc(".concat(s="var(--bam-player-width, var(--internal-width, 250px))"," / ").concat(c,")");break;default:s="calc(".concat(a="var(--bam-player-height, var(--internal-height, 444px))"," * ").concat(c,")")}var y=null==h||null===(t=h.generalV2)||void 0===t||null===(t=t.playerSettings)||void 0===t||null===(t=t.misc)||void 0===t?void 0:t.borderRadiusBase,v=null!==(n=null==h||null===(r=h.generalV2)||void 0===r||null===(r=r.playerSettings)||void 0===r||null===(r=r.productImage)||void 0===r?void 0:r.productImagePadding)&&void 0!==n?n:0,m=null==h||null===(i=h.generalV2)||void 0===i||null===(i=i.playerSettings)||void 0===i?void 0:i.actionCards,g="";m&&(g+="  --internal-action-card-backgroundColor: ".concat(m.backgroundColor,";\n"),g+="  --internal-action-card-foregroundColor: ".concat(m.foregroundColor,";\n"),g+="  --internal-action-card-borderColor: ".concat(m.borderColor,";\n"),g+="  --internal-action-card-borderWidth: ".concat(m.borderWidth,";\n"),g+="  --internal-action-card-borderRadius: ".concat(m.borderRadius,";\n"));var b,w,_="";return null!=h&&null!==(o=h.generalV2)&&void 0!==o&&o.colors&&Object.entries(Rr(Rr({},null==h||null===(b=h.generalV2)||void 0===b?void 0:b.colors.main),null==h||null===(w=h.generalV2)||void 0===w?void 0:w.colors.other)).forEach((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];_+="  --".concat(i,": ").concat(o,";\n")})),"\n    :host {\n        display: ".concat(p||void 0!==c?"block":"none",";\n        max-width: ").concat(s,";\n        position: relative;\n        aspect-ratio: ").concat(c,";\n        font-size: ").concat(u,"px;\n        overflow: hidden;\n        overscroll-behavior: none;\n        border-radius: var(--bam-player-corner-radius, var(--internal-corner-radius, 0px));\n        width: ").concat(s,";\n\n        ").concat(p&&"\n          min-width: 320px;\n          min-height: 320px;\n        ","\n\n        --effective-height: ").concat(a,";\n        height: var(--effective-height);\n\n        --title-10-font-size: var(--bam-player-title-10-font-size, var(--internal-overlay-title-font-size, 22px));\n        --title-10-line-height: var(--bam-player-title-10-line-height, var(--internal-overlay-title-line-height, 1));\n\n        --title-20-font-size: var(--bam-player-title-20-font-size, 16px);\n        --title-20-line-height: var(--bam-player-title-20-line-height, 1);\n\n        --subtitle-20-font-size: var(--bam-player-subtitle-20-font-size, 14px);\n        --subtitle-20-line-height: var(--bam-player-subtitle-20-line-height, 1);\n\n        --border-radius-base: ").concat(y?"".concat(y):"4px",";\n        --border-radius-medium: calc(var(--border-radius-base, 4px) * 1.5);\n        --border-radius-large: calc(var(--border-radius-base, 4px) * 3);\n\n        --product-image-padding: ").concat(v,";\n\n        ").concat(_,"\n\n        ").concat(g,"\n\n        --action-card-background-color: var(--bam-player-action-card-background-color, var(--internal-action-card-backgroundColor, rgba(41, 41, 41, 0.8)));\n        --action-card-foreground-color: var(--bam-player-action-card-foreground-color, var(--internal-action-card-foregroundColor, #FFF));\n\n        --action-card-border-color: var(--bam-player-action-card-border-color, var(--internal-action-card-borderColor, var(--color-inverted-subdued, rgba(117, 117, 117, 1))));\n        --action-card-border-radius: var(--bam-player-action-card-corner-radius, var(--internal-action-card-borderRadius, var(--border-radius-large)));\n        --action-card-border-width: var(--bam-player-action-card-border-width, var(--internal-action-card-borderWidth, 1px));\n\n        --overlay-elements-width-base: var(--bam-player-overlay-elements-width-base, 360px);\n        --thumbnail-size: var(--effective-thumbnail-size, 68px);\n        --thumbnail-padding: var(--bam-player-product-image-padding, var(--product-image-padding));\n        --product-card-padding: var(--bam-player-product-card-padding, var(--internal-product-card-padding, min(0.6em, 6px)));\n\n        --closed-captions-color: var(--bam-player-closed-captions-color, #FFF);\n        --closed-captions-background-color: var(--bam-player-closed-captions-background-color, rgba(0, 0, 0, 0.6));\n        --closed-captions-padding: var(--bam-player-closed-captions-padding, 8px);\n        --closed-captions-margin: var(--bam-player-closed-captions-margin, 0 8px);\n        --closed-captions-text-align: var(--bam-player-closed-captions-text-align, start);\n    }\n    * {\n        user-select: none;\n    }\n    iframe {\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n    }\n    .wrapper {\n        position: absolute;\n        inset: 0px;\n        z-index: 1;\n    }\n    .placeholder {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        inset: 0;\n        transition: opacity 0.2s;\n        opacity: 1;\n        pointer-events: none;\n        ").concat(d?"\n            background-image: url(".concat(d,");\n            background-size: cover;\n            background-position: center;\n            "):"background-color: var(--bam-player-placeholder-color, var(--internal-placeholder-color, #EEE));","\n\n    }\n    .wrapper.is-expanded iframe {\n        opacity: 1;\n    }\n    .wrapper.is-expanded .placeholder {\n        opacity: 0;\n    }\n    .overlay {\n        position: absolute;\n        inset: 0px;\n        display: flex;\n        align-items: end;\n        justify-content: flex-end;\n        flex-direction: column;\n        z-index: 2;\n        pointer-events: none;\n    }\n    .overlay .overlay-content {\n        display: flex;\n        justify-content: flex-end;\n        flex-direction: column;\n        width: 100%;\n        background-image: linear-gradient(rgba(51,51,51,0),rgba(0,0,0,.4));\n    }\n    .overlay .closed-captions {\n        pointer-events: none;\n        background-color: var(--closed-captions-background-color);\n        box-sizing: border-box;\n        margin: var(--closed-captions-margin);\n        padding: var(--closed-captions-padding);\n        text-align: var(--closed-captions-text-align);\n    }\n    .overlay .closed-captions .caption-text {\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        font-size: var(--subtitle-20-font-size);\n        line-height: var(--subtitle-20-line-height);\n        font-weight: var(--bam-player-overlay-font-weight, var(--internal-overlay-font-weight, normal));\n        color: var(--closed-captions-color);\n        white-space: pre-line;\n    }\n    .overlay .closed-captions:has(.caption-text:empty) {\n        display: none;\n    }\n    .overlay .products {\n        list-style: none;\n        margin: 0;\n        display: flex;\n        padding: min(5%, 12px);\n        padding-inline-start: min(5%, 48px);\n        box-sizing: border-box;\n        width: 100%;\n        gap: 8px;\n\n        overflow-x: auto;\n\n        scrollbar-width: none;\n        -ms-overflow-style: none;\n        pointer-events: auto;\n    }\n    .overlay .products::-webkit-scrollbar {\n        display: none;\n    }\n    .overlay .products:has(li:nth-child(2))::after {\n      content: ' ';\n      padding-inline-end: min(5%, 12px);\n    }\n    .overlay .products li {\n        max-width: clamp(33%, var(--overlay-elements-width-base), 100%);\n        min-width: var(--thumbnail-size);\n        display: flex;\n    }\n    .overlay .products:has(li:nth-child(2)) li {\n        max-width: clamp(33%, var(--overlay-elements-width-base), 85%);\n    }\n    .overlay .products .product {\n        pointer-events: auto;\n        display: flex;\n        flex-direction: row;\n        gap: min(0.8em, 8px);\n\n        border-radius: var(--bam-player-product-card-corner-radius, var(--border-radius-large));\n\n        padding: var(--product-card-padding);\n        background-color: white;\n        align-items: center;\n        overflow: hidden;\n    }\n    .overlay .products:has(li:nth-child(2)) li {\n        ").concat(l?"":"flex-shrink: 0;","\n    }\n    .overlay .products .product .product-info {\n        overflow: hidden;\n        padding-inline-end: min(0.5em, 4px);\n        color: var(--bam-player-product-text-color, #000);\n        ").concat(l?"display: none;":"","\n    }\n    .overlay .products .product .product-info .product-title {\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        font-size: var(--title-20-font-size);\n        line-height: var(--title-20-line-height);\n        font-weight: var(--bam-player-overlay-font-weight, var(--internal-overlay-font-weight, bold));\n\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n        padding-bottom: 6px;\n    }\n    .overlay .products .product .product-info .product-subtitle {\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        font-size: var(--subtitle-20-font-size);\n        line-height: var(--subtitle-20-line-height);\n        font-weight: light;\n\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n    }\n    .overlay .products .product .product-info .product-price-wrapper {\n        display: flex;\n        flex-direction: row;\n        gap: 0 min(0.8em, 8px);\n        align-items: center;\n        flex-wrap: wrap;\n        padding-top: 6px;\n    }\n    .overlay .products .product .product-info:has(.product-price-per-unit):has(.product-price):has(.product-original-price) .product-price-wrapper {\n        padding-top: 2px;\n    }\n    .overlay .products .product .product-info:has(.product-price-per-unit):has(.product-price):has(.product-original-price) .product-title {\n        padding-bottom: 0;\n    }\n    .overlay .products .product .product-info .product-price {\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        font-size: var(--subtitle-20-font-size);\n        line-height: var(--subtitle-20-line-height);\n        font-weight: var(--bam-player-overlay-font-weight, var(--internal-overlay-font-weight, bold));\n\n        overflow: hidden;\n        white-space: nowrap;\n        position: relative;\n        \n    }\n    .overlay .products .product .product-info .product-price-wrapper.discounted .product-price {\n        color: var(--color-discount, #e81741);\n    }\n    .overlay .products .product .product-info .product-price-wrapper.discounted .product-original-price {\n        text-decoration: line-through;\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        font-size: var(--subtitle-20-font-size);\n        line-height: var(--subtitle-20-line-height);\n        font-weight: normal;\n\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n    }\n    .overlay .products .product .product-info .product-price-wrapper .product-price-per-unit {\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        font-size: var(--subtitle-20-font-size);\n        line-height: 1;\n        font-weight: normal;\n\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n\n        transform: scale(0.9);\n        transform-origin: top left;\n    }   \n    .overlay:dir(rtl) .products .product .product-info .product-price-wrapper .product-price-per-unit {\n        transform-origin: top right;\n    }\n    .overlay .products .product .product-thumbnail-wrapper {\n        width: var(--thumbnail-size);\n        height: var(--thumbnail-size);\n        border-radius: var(--bam-player-product-card-corner-radius, var(--border-radius-medium));\n    }\n    .overlay .products .product .product-thumbnail-wrapper.img-error {\n        background-color: #e6e6e6;\n        color: transparent;\n        border-radius: var(--bam-player-product-card-corner-radius, var(--border-radius-medium));\n        display: block;\n    }\n    .overlay .products .product .product-thumbnail-wrapper.img-error img {\n        display: none;\n    }\n    .overlay .products .product .product-thumbnail-wrapper img {\n        width: var(--thumbnail-size);\n        height: var(--thumbnail-size);\n        padding: var(--thumbnail-padding);\n        box-sizing: border-box;\n        object-fit: contain;\n        border-radius: var(--bam-player-product-card-corner-radius, var(--border-radius-medium));\n    }\n    .overlay .basic-info {\n        color: #FFF;\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        width: 100%;\n        box-sizing: border-box;\n        padding: 15% 5% 5% 5%;\n    }\n    .overlay .overlay-content:has(.actions .action) .basic-info {\n        padding: 15% min(5%, 16px) min(5%, 16px) min(5%, 48px);\n    }\n    .overlay .actions {\n        width: min(var(--overlay-elements-width-base), 100%);\n        display: flex;\n        padding: 0px 5% min(5%, 16px) min(5%, 48px);\n        box-sizing: border-box;\n        pointer-events: auto;\n    }\n    .overlay .actions .action {\n        width: 100%;\n        max-width: max(33%, var(--overlay-elements-width-base));\n        color: var(--action-card-foreground-color);\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        border-radius: var(--action-card-border-radius);\n        border: var(--action-card-border-width) var(--action-card-border-color) solid;\n        background: var(--action-card-background-color);\n        padding: 8px 8px 8px 12px;\n        cursor: pointer;\n        text-decoration: none;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        box-sizing: border-box;\n        gap: min(0.8em, 8px);\n    }\n\n    .overlay .actions .action .action-title {\n        font-size: var(--title-20-font-size);\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n        line-clamp: 3;\n        white-space: normal;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    .overlay .actions .action .action-icon {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .overlay .actions .action .action-icon,\n    .overlay .actions .action .action-icon svg,\n    .overlay .actions .action .action-icon img {\n        width: 24px;\n        height: 24px;\n    }\n\n    .overlay .basic-info h1 {\n        font-size: var(--title-10-font-size);\n        line-height: var(--title-10-line-height);\n        font-weight: var(--bam-player-overlay-font-weight, var(--internal-overlay-font-weight, bold));\n        margin: 0;\n    }\n    .overlay .basic-info:not(.wrap-text) h1 {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n    .wrapper:not(.is-expanded) {\n        border-radius: var(--bam-player-corner-radius, var(--internal-corner-radius, 0px));\n        overflow: hidden;\n    }\n    .wrapper:not(.player-ui-loaded) {\n        cursor: pointer;\n    }\n    .wrapper:not(.player-ui-loaded) iframe {\n        pointer-events: none;\n    }\n    .wrapper.player-ui-loaded .overlay, .is-expanded .overlay {\n        display: none;\n    }\n    ").concat(d&&f||p?"\n        .wrapper.is-playing .placeholder {\n            opacity: 0;\n        }\n        ":"","\n    ").concat(d&&!f||p?"\n        .wrapper.played-at-least-once .placeholder {\n            opacity: 0;\n        }\n        ":"","\n    .wrapper.played-at-least-once iframe {\n        opacity: 1;\n    }\n    ")}({aspectRatio:r,fontSize:s,showOnlyThumbnails:c,poster:y,playerFit:l,showPosterWhenPaused:f,theme:this._theme,isInlinePlayer:!!this._inlinePlayer})}},{key:"_getBasicInfoAsText",value:function(){var e=(this._event||{}).title;if(!e)return"";var t=this._settings,n=t.title,r=t.overlayTextWrap;return n?'\n      <div class="basic-info '.concat(r?"wrap-text":"",'">\n        <h1 class="title">').concat(e,"</h1>\n      </div>\n    "):""}},{key:"_getProductHtmlString",value:function(e){var t,n,r,i,o;if(!e||!Object.keys(e).length)return"";var a=this._settings,s=this._getPlayerIntegrationConfig(),c=null===(t=null===(n=this._theme)||void 0===n||null===(n=n.generalV2)||void 0===n||null===(n=n.playerSettings)||void 0===n||null===(n=n.misc)||void 0===n?void 0:n.showScrapedProductPrices)||void 0===t||t,u=s.locale,l=s.trimPriceTrailingZeros,d=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==bi(e))return{};if(null==e||!e.hydrated){if(null==e||!e.price||"object"!==bi(null==e?void 0:e.price))return e;var o=e||{},a=o.price,s=gi(o,ii),c=a||{},u=c.amount,l=gi(c,oi);return yi(yi({},s),{},{price:yi(yi({},l),{},{current:u})})}if(null!=e&&null!==(t=e.hydrated)&&void 0!==t&&t._hidden)return{};var d=(null==e||null===(n=e.hydrated)||void 0===n?void 0:n.product)||{},f=d.variations,h=void 0===f?[]:f,p=d.defaultVariationIndex,y=d.defaultSizeIndex;if(null==h||!h.length)return e;var v=null==d?void 0:d.name,m=null==d?void 0:d.brandName,g=e.thumbnail||(null===(r=h[0])||void 0===r?void 0:r.imageUrls[0]),b=function(e){var t=(h[p]||h[0]||{}).sizes,n=(void 0===t?[]:t)[Number.isFinite(y)?y:0];if(null!=n&&null!==(e=n.price)&&void 0!==e&&e.current)return{current:Number(n.price.current),currency:n.price.currency||(null==i?void 0:i.currency),original:Number(n.price.original),perUnit:Number(n.price.perUnit),unitAmount:n.price.unitAmount,unitDisplayName:n.price.unitDisplayName};var r=h.flatMap((function(e){return e.sizes})).reduce((function(e,t){var n=t.price,r=(n||{}).current;return(void 0===r?0:r)<(null==e?void 0:e.current)||null==e||!e.current?n:e}),{}),o=r||{},a=o.current,s=void 0===a?0:a,c=o.currency,u=o.original,l=o.perUnit,d=o.unitAmount,f=o.unitDisplayName;return s?{current:Number(s),currency:c||(null==i?void 0:i.currency),original:Number(u),perUnit:Number(l),unitAmount:d,unitDisplayName:f}:{}}(),w=b.current,_=b.currency,E=b.original,S=b.perUnit,P=b.unitAmount,O=b.unitDisplayName;return yi(yi(yi(yi(yi({},e),v&&{title:v}),m&&{brand:m}),w&&{price:{current:w,currency:_,original:E,perUnit:S,unitAmount:P,unitDisplayName:O}}),g&&{thumbnail:g})}(c?e:yi(yi({},e),{},{price:null}),s),f=d.id,h=d.title,p=d.brand,y=d.thumbnail,v=d.price;if(!f)return"";var m=null!==(r=null==v?void 0:v.currency)&&void 0!==r?r:"",g=function(){if(null==v||!v.current)return"";var e=parseFloat(null==v?void 0:v.current);try{return Ai(e,m,u,l)}catch(t){return"".concat(e," ").concat(m)}}(),b=function(){if(null==v||!v.original)return null;var e=parseFloat(null==v?void 0:v.original);try{return Ai(e,m,u,l)}catch(t){return"".concat(e," ").concat(m)}}(),w=function(){if(!v||"object"!==bi(v)||null==v||!v.perUnit)return"";var e=null==v?void 0:v.perUnit;try{var t=Ai(e,m,u,l);return"".concat(t," / ").concat(null==v?void 0:v.unitAmount).concat(null==v?void 0:v.unitDisplayName)}catch(t){return"".concat(e," ").concat(m," / ").concat(null==v?void 0:v.unitAmount).concat(null==v?void 0:v.unitDisplayName)}}(),_=(null==v?void 0:v.original)&&(null==v?void 0:v.current)&&(null==v?void 0:v.current)<(null==v?void 0:v.original),E=y&&Hr(y,yi(yi({},Ur),{},{staticIP:1})),S=null!==(i=null===(o=this._theme)||void 0===o||null===(o=o.generalV2)||void 0===o||null===(o=o.playerSettings)||void 0===o||null===(o=o.highlight)||void 0===o?void 0:o.hidePricing)&&void 0!==i&&i?"".concat(h," ").concat(p):"".concat(h," ").concat(p," ").concat(g);this.wrapper.setAttribute("aria-label",S);var P='<div class="product-thumbnail-wrapper">\n        <img src="'.concat(E,'" alt="').concat(h,'" onerror="this.parentElement.classList.add(\'img-error\')" />\n      </div>'),O='<div class="product-info">\n        <div class="product-title">'.concat(h,"</div>\n        ").concat(p?'<div class="product-subtitle">'.concat(p,"</div>"):"","\n        ").concat(g?'<div class="product-price-wrapper '.concat(_?"discounted":"",'">\n          <div class="product-price">').concat(g,"</div>\n          ").concat(_?'<div class="product-original-price">'.concat(b,"</div>"):"","\n          ").concat(w?'<div class="product-price-per-unit">'.concat(w,"</div>"):"","\n        </div>"):"","\n      </div>");return"thumbnail"===a.productCardMode&&(O=""),'<li><div class="product" id="'.concat(f,'" role="button" aria-label="').concat(S,'" tabindex="0">\n      ').concat(P,"\n      ").concat(O,"\n    </div></li>")}},{key:"_getProductsInfo",value:function(){var e=this,t=this._products,n=this._settings,r=this._attr.showProducts;if(0===r||0===n.products||null==t||!t.length)return"";var i=void 0===r?n.products:r,o=t.slice(0,i).map((function(t){return e._getProductHtmlString(t)})).join("");return o?'\n      <ul class="products">\n          '.concat(o,"\n      </ul>\n    "):""}},{key:"_getActionCardInfo",value:function(){var e=this,t=this._settings.actions,n=this._attr.showActions;if(!(null!=t?t:n))return"";var r=this._actions;return r&&r.length?'\n      <div class="actions">\n        '.concat(null==r?void 0:r.map((function(t){var n=t.id,r=t.type,i=t.data;if("link"===r){var o,a=null==i?void 0:i.text,s=null==i?void 0:i.url,c=null===(o=e._theme.generalV2)||void 0===o||null===(o=o.playerSettings)||void 0===o||null===(o=o.actionCards)||void 0===o?void 0:o.icon,u=c?'<img src="'.concat(c,'" />'):'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 5.77775V15.8886C19 16.0948 18.9181 16.2927 18.7722 16.4385C18.6263 16.5844 18.4285 16.6663 18.2222 16.6663C18.016 16.6663 17.8181 16.5844 17.6723 16.4385C17.5264 16.2927 17.4445 16.0948 17.4445 15.8886V7.65506L6.32845 18.7721C6.18251 18.918 5.98457 19 5.77819 19C5.5718 19 5.37386 18.918 5.22793 18.7721C5.08199 18.6261 5 18.4282 5 18.2218C5 18.0154 5.08199 17.8175 5.22793 17.6716L16.3449 6.55551H8.11145C7.90517 6.55551 7.70735 6.47357 7.56149 6.32771C7.41564 6.18185 7.33369 5.98403 7.33369 5.77775C7.33369 5.57148 7.41564 5.37366 7.56149 5.2278C7.70735 5.08194 7.90517 5 8.11145 5H18.2222C18.4285 5 18.6263 5.08194 18.7722 5.2278C18.9181 5.37366 19 5.57148 19 5.77775Z" fill="white"/></svg>';return'\n            <div title="'.concat(s,'" class="action" id="').concat(n,'" role="button" tabindex="0">\n              <div class="action-title">').concat(a,'</div>\n              <div class="action-icon">').concat(u,"</div>\n            </div>\n          ")}})).join(""),"\n    "):""}},{key:"_updateOverlayDOM",value:function(){var e=this.overlay,t=this._createClosedCaptions(),n=this._getProductsInfo(),r=this._getBasicInfoAsText(),i=this._getActionCardInfo();if(!this._overlayContent){this._overlayContent=document.createElement("div");var o=this._overlayContent;o.classList.add("overlay-content"),o.style.opacity="0",o.style.transition="opacity 200ms",_i((function(){o.style.opacity="1"}),1),e.appendChild(o)}this._overlayContent.innerHTML="\n      ".concat(t,"\n      ").concat(n||r,"\n      ").concat(i,"\n    "),this._updateActionListeners(),this._updateProductListeners()}},{key:"_createClosedCaptions",value:function(){if(!this._settings.closedCaptions)return"";var e=this._currentCaption||"";return'\n      <div class="closed-captions" aria-live="polite">\n        <span class="caption-text">'.concat(e,"</span>\n      </div>\n    ")}},{key:"_updateClosedCaptions",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).caption;if(e!==this._currentCaption&&(e||this._currentCaption)){this._currentCaption=e||"";var t=this.overlay.querySelector(".caption-text");t&&(t.innerHTML=this._currentCaption)}}},{key:"_updateActionListeners",value:function(){var e,t=this,n=ui(this.overlay.querySelectorAll(".action"));try{var r=function(){var n=e.value,r=function(e){e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),t._actionClickHandler(n.id))};n.addEventListener("click",r),n.addEventListener("keydown",r)};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}},{key:"_actionClickHandler",value:function(t){var n,r,i,o=this._actions.find((function(e){return e.id===t}));if(o){o.type;var a=null==o||null===(n=o.data)||void 0===n?void 0:n.url;if(a){var s=/^(https?:\/\/|\/\/)/i.test(a)?a:"//".concat(a),c=(null==o||null===(r=o.data)||void 0===r?void 0:r.target)||"_blank";this._trackMetric("on-interaction",yi(yi({interactionType:"trigger-action",actionId:t},o.type&&{actionType:o.type}),c&&{actionTarget:c}));var u,l=this.embedInstance.playerDelegate,d=e.mL.ACTION_CARD_CLICKED.replace(e.hw,""),f=ui((null==l||null===(i=l.eventSubscribers)||void 0===i?void 0:i[d])||[]);try{for(f.s();!(u=f.n()).done;){var h=u.value;try{h({actionId:t,url:s,target:"_top"===c?"current-tab":"new-tab"})}catch(e){console.warn("Failed to call action card clicked callbacks",{err:e})}}}catch(e){f.e(e)}finally{f.f()}"none"!==this._getPlayerIntegrationConfig().openActionCard&&window.open(s,c)}else console.error("Can't perform action - url not found - ".concat(t))}else console.error("Action not found for ".concat(t))}},{key:"_updateProductListeners",value:function(){var e=this,t=this.overlay.querySelector(".products");if(t){t.addEventListener("wheel",(function(n){var r=n.deltaY||n.detail||-n.wheelDelta,i=0===t.scrollLeft&&r<0,o=t.scrollLeft>=t.scrollWidth-t.clientWidth&&r>0;i||o||n.preventDefault(),t.scrollLeft+=r,e._updateProductsVisibility()}),{passive:!1}),this._updateProductsVisibility();var n,r=ui(this.overlay.querySelectorAll(".product"));try{var i=function(){var t=n.value;t.addEventListener("click",(function(n){e._productClickHandler(t.id,n)})),t.addEventListener("keydown",(function(n){"Enter"===n.key&&e._productClickHandler(t.id,n)})),t.addEventListener("focus",(function(){null==t||t.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"}),t.removeAttribute("aria-hidden"),_i((function(){return e._updateProductsVisibility()}),100)}))};for(r.s();!(n=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}}}},{key:"_updateProductsVisibility",value:function(){var e=this.overlay.querySelector(".products");if(e){var t,n=e.getBoundingClientRect(),r=ui(this.overlay.querySelectorAll(".product"));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.getBoundingClientRect();o.left<n.right&&o.right>n.left&&o.width>0&&o.height>0?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden","true")}}catch(e){r.e(e)}finally{r.f()}}}},{key:"_productClickHandler",value:function(t,n){var r;if(Array.isArray(this._products)){var i=this._products.find((function(e){return e.id===t}));if(i){this._trackMetric("on-interaction",yi({interactionType:"show-product",productAction:this._attr.productAction},i));var o,a=this.embedInstance.playerDelegate,s=e.mL.SHOW_PRODUCT_VIEW.replace(e.hw,""),c=(null==a||null===(r=a.eventSubscribers)||void 0===r?void 0:r[s])||[],u=i.id,l=i.productReference,d=i.publicUrl,f=i.title,h=ui(c);try{for(h.s();!(o=h.n()).done;){var p=o.value;try{p({id:u,sku:l,url:d,title:f})}catch(e){console.warn("Failed to call show product view callbacks",{err:e})}}}catch(e){h.e(e)}finally{h.f()}if("none"!==this._getPlayerIntegrationConfig().openProductsTarget){if(this._attr.productAction===Ar.EXPAND);else if(this._attr.productAction===Ar.EXPAND_PRODUCT)this.showProductViewInExpandedPlayer(i.id);else if(this._attr.productAction===Ar.MODAL)n.stopPropagation(),this.showProductViewInBamProduct(i.id);else if(this._attr.productAction===Ar.DRAWER)n.stopPropagation(),this.showProductViewInBamProduct(i.id);else if(this._attr.productAction===Ar.NONE)n.stopPropagation();else{if(this._attr.productAction===Ar.TAB_CURRENT)return n.stopPropagation(),void(window.location.href=i.publicUrl);if(this._attr.productAction===Ar.TAB_NEW)return n.stopPropagation(),void window.open(i.publicUrl,"_blank")}this._triggerClickProductEvent(i.id)}else n.stopPropagation()}else console.error("Product not found for ".concat(i.id))}}},{key:"_triggerClickProductEvent",value:function(e){var t,n=this._attr.videoId||this._attr.eventId,r=vi(vi(vi(vi(vi(vi(vi(vi(vi(vi({},this._attr.videoId?"videoId":"eventId",n),"productId",e),"productData",this._products.find((function(t){return t.id===e}))),"theme",this._theme),"integrationConfig",this._getPlayerIntegrationConfig()),"playerUrl",this._getPlayerUrl()),"event",this._event),"orgSettings",this._orgSettings),"withCloseButton",!0),"embedInstanceKey",null===(t=this.embedInstance)||void 0===t?void 0:t.instanceKey);this.dispatchEvent(new CustomEvent("clickproduct",{detail:r}))}},{key:"_setupDOM",value:function(){var e=this;this.shadow.innerHTML="";var t=document.createElement("style");this.styleSheet=t;var n=document.createElement("div");n.classList.add("placeholder");var r=document.createElement("div");r.classList.add("overlay"),this.overlay=r;var i=document.createElement("div");i.classList.add("wrapper"),i.tabIndex=0,i.setAttribute("role","button"),this.wrapper=i;var o=document.createElement("iframe");if(o.setAttribute("allow","fullscreen; autoplay; web-share"),o.setAttribute("frameborder","0"),o.setAttribute("allowTransparency","1"),o.setAttribute("title","Live video shopping"),this.iframe=o,i.appendChild(o),i.appendChild(n),i.appendChild(r),this.shadow.appendChild(t),this.shadow.appendChild(i),"ResizeObserver"in window){var a=new window.ResizeObserver((function(){_i((function(){e._isPlayerUILoaded||(e._updateStylesheet(),e._sendExternalPlayerControllerResizeEvent())}),0)}));a.observe(i),this._unloadResizeObserver=function(){return a.disconnect()}}}},{key:"_setupDOMEventListeners",value:function(){var e=this;if(!this._hasDOMEventListeners){this._hasDOMEventListeners=!0;var t=this._attr,n=t.autoplay,r=t.standalone,i=[];if(i.push((function(){return e._hasDOMEventListeners=!1})),r){var o=function(){return e._onClick()};this.wrapper.addEventListener("click",o),i.push((function(){return e.wrapper.removeEventListener("click",o)}));var a=function(t){"Enter"===t.key&&(t.preventDefault(),e._onClick())};this.wrapper.addEventListener("keydown",a),i.push((function(){return e.wrapper.removeEventListener("keydown",a)}))}if("hover"===n){var s=function(t){e._isExpandedInPlaylist||("mouseenter"===t.type?e.play():e.pause())};this.wrapper.addEventListener("mouseenter",s),this.wrapper.addEventListener("mouseleave",s),i.push((function(){e.wrapper.removeEventListener("mouseenter",s),e.wrapper.removeEventListener("mouseleave",s)}))}this._shouldDisconnectObserverWhenVisible=!0,this._debounceHandle;var c=new window.IntersectionObserver((function(t){var n=t[0];Ei(e._debounceHandle),n.isIntersecting?(e._emit("visible"),e._shouldDisconnectObserverWhenVisible&&c.disconnect(),e._hasBeenVisible=!0):e._debounceHandle=_i((function(){e._emit("hidden")}),200)}));if(c.observe(this.wrapper),i.push((function(){return c.disconnect()})),"visible"===n){this._shouldDisconnectObserverWhenVisible=!1,this._isVisibleOnPage()&&this.play();var u=function(){return e.play()},l=function(){return e.pause()};this.addEventListener("visible",u),this.addEventListener("hidden",l),i.push((function(){e._shouldDisconnectObserverWhenVisible=!0,e.removeEventListener("visible",u),e.removeEventListener("hidden",l)}))}this._unloadDOMEventListeners=function(){i.forEach((function(e){return e()}))}}}},{key:"_isAboveFold",value:function(){if(!this.wrapper)return!1;var e=this.wrapper.getBoundingClientRect(),t=e.top,n=e.bottom;return t<window.innerHeight&&n>=0}},{key:"_isVisibleOnPage",value:function(){return!(!this.wrapper||"checkVisibility"in this.wrapper&&!this.wrapper.checkVisibility()||!this._isAboveFold())}},{key:"_isHorizVisibleInContainer",value:function(){if(!this.wrapper)return!1;var e=this._getScrollContainer();if(!e)return null;var t=this.wrapper.getBoundingClientRect(),n=e.getBoundingClientRect().left+e.clientLeft,r=t.left-n+e.scrollLeft,i=t.right-n+e.scrollLeft,o=e.scrollLeft,a=e.scrollLeft+e.clientWidth;return i>o&&r<a}},{key:"_getScrollContainer",value:function(){if(this._scrollContainer)return this._scrollContainer;for(var e=this.parentElement;e;e=e.parentElement)if(e.classList.contains("player-container")){this._scrollContainer=e;break}return this._scrollContainer}},{key:"setMediaAssets",value:function(e){var t,n,r,i,o,a;isNaN(null===(t=e[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t.width)||isNaN(null===(n=e[0])||void 0===n||null===(n=n.data)||void 0===n?void 0:n.height)||(this._videoWidth=null===(i=e[0])||void 0===i||null===(i=i.data)||void 0===i?void 0:i.width,this._videoHeight=null===(o=e[0])||void 0===o||null===(o=o.data)||void 0===o?void 0:o.height),null!==(r=e[0])&&void 0!==r&&null!==(r=r.data)&&void 0!==r&&r.preview&&(this._poster=null===(a=e[0])||void 0===a||null===(a=a.data)||void 0===a?void 0:a.preview)}},{key:"getVisibleArea",value:function(){if(!this.wrapper)return 0;if(!this._isVisibleOnPage())return 0;var e=this.wrapper.getBoundingClientRect(),t=e.top,n=e.bottom,r=e.left,i=e.right,o=e.width,a=e.height,s=Math.min(window.innerHeight,n)-Math.max(0,t),c=(Math.min(window.innerWidth,i)-Math.max(0,r))*s,u=o*a;return Math.ceil(c/u*100)/100}},{key:"positionRelativeToCenter",value:function(){if(!this.wrapper)return!1;if(!this._isVisibleOnPage())return!1;var e=this.wrapper.getBoundingClientRect(),t=e.left,n=e.width,r=window.innerWidth/2,i=t+n/2;return Math.abs(i-r)<15?0:i<=r?-1:1}},{key:"_setupPlayerPageEventListeners",value:function(){var e=this,t=this._getPlayerUrl(),n=new URL(t).origin,r=function(){var t=ci(ai().mark((function t(r){var i,o,a,s,c,u,l,d,f,h,p,y,v,m,g;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.data,r.origin===n){t.next=3;break}return t.abrupt("return");case 3:if(a=(o=i||{}).eventName,s=o.data,c=o.widgetId,u=o.isVod,c===e._id){t.next=6;break}return t.abrupt("return");case 6:if("baas-player:ready"===a&&e._emit("playerReady"),"baas-player:eventData"===a&&(e._playerReady.resolve(),e._event=s,null===(l=e.embedInstance)||void 0===l||l.updateTrackingContextData({orgId:e._event.orgId}),e._updateOverlayDOM(),e._updateStylesheet(),d=function t(){e._trackMetric("on-initialized",yi({},e._attr)),e.removeEventListener("visible",t)},e._hasBeenVisible?d():e.addEventListener("visible",d)),"baas-player:orgSettings"===a&&(e._orgSettings=s),"baas-player:theme"===a&&(e._theme=s),"baas-player:customizations"===a&&e.dispatchEvent(new CustomEvent("customizations-loaded",{detail:{customizations:s}})),"baas-player:broadcastData"===a&&(e._poster=null==s?void 0:s.preview,e._videoWidth=null==s?void 0:s.width,e._videoHeight=null==s?void 0:s.height,e._broadcastId=null==s?void 0:s.id,e._isReady=!0,e.setScaleMode("aspectFill"),e.setObjectPosition("center"),e._updateStylesheet(),"visible"===e._attr.autoplay&&e._isVisibleOnPage()&&e.play()),"baas-player:products"!==a){t.next=23;break}return e._products=s,t.prev=14,t.next=17,e._requestProductHydration();case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(14),console.error("Failed to hydrate products",t.t0);case 22:e._updateOverlayDOM();case 23:if("baas-player:actions"===a&&(e._actions=s,e._updateOverlayDOM()),"baas-player:closedcaptionupdate"===a&&e._updateClosedCaptions(s),"baas-player:playing"===a&&(f=e._isPlaying,e._isPlaying=!0,!f&&u&&(h=isNaN(e._currentTime)||0===e._currentTime?"on-play":"on-resume",e._trackMetric(h),"on-play"===h&&e._emitOnProgress(3,!1),e._emitOnProgress(30,!0)),e.wrapper.classList.add("is-playing"),e.wrapper.classList.add("played-at-least-once"),e._emit("playing")),"baas-player:pause"===a&&(p=e._isPlaying,e._isPlaying=!1,e._isPlayerUILoaded||e.wrapper.classList.remove("is-playing"),p&&u&&!e._isExpandedInPlaylist&&e._trackMetric("on-pause"),e._emit("pause"),e._clearProgressEmissions()),"baas-player:ended"===a&&(e._isPlaying=!1,u&&e._trackMetric("on-stop"),e._isPlayerUILoaded||e._onEnded(),e._clearProgressEmissions()),"baas-player:timeupdate"===a&&(e._currentTime=(null==s?void 0:s.currentTime)||0),"baas-player:error"===a){if("viewsQuotaReached:vod"===s){for(g in console.error("Shoppable video views quota reached"),y=document.createElement("div"),v=y.style,m={color:"white",fontSize:20,position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"})v[g]=m[g];y.textContent="You have reached your quota of views for shoppable videos.",e.shadow.appendChild(y)}e._playerReady.resolve()}a.startsWith("baas-player:externalPlayerController:")&&e._handleExternalPlayerControllerEvents({eventName:a,data:s});case 31:case"end":return t.stop()}}),t,null,[[14,19]])})));return function(e){return t.apply(this,arguments)}}();window.addEventListener("message",r),this._unloadPlayerEventListeners=function(){window.removeEventListener("message",r)}}},{key:"_handleExternalPlayerControllerEvents",value:function(t){var n=t.eventName,r=t.data;"baas-player:externalPlayerController:play"===n?(this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_SHOW,data:r}),this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_PLAY,data:r})):"baas-player:externalPlayerController:pause"===n?this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_PAUSE,data:r}):"baas-player:externalPlayerController:load"===n?this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_LOAD,data:r}):"baas-player:externalPlayerController:autoplay"===n?(this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_SHOW,data:r}),this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_PLAY,data:r})):"baas-player:externalPlayerController:muted"===n?this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_MUTE,data:r}):"baas-player:externalPlayerController:currentTime"===n?this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_SEEK,data:r}):"baas-player:externalPlayerController:controls"===n?this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_CONTROLS,data:r}):"baas-player:externalPlayerController:scaleMode"===n&&this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_SCALE_MODE,data:r})}},{key:"_callExternalPlayerControllerCallbacks",value:function(t){var n=t.publicEventName,r=t.data;if(n){var i=this.embedInstance.playerDelegate,o=n.replace(e.hw,""),a=i.eventSubscribers[o];if(null!=a&&a.length){var s,c=ui(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;try{u(r)}catch(e){console.warn("Failed to call external player event callback",{err:e})}}}catch(e){c.e(e)}finally{c.f()}}}}},{key:"_sendExternalPlayerControllerResizeEvent",value:function(){var t;if(!this._isExpandedInPlaylist&&null!==(t=this.embedInstance)&&void 0!==t&&t.playerDelegate){var n=this.wrapper.getBoundingClientRect()||{},r=n.width,i=n.height;if(r&&i&&this._videoWidth&&this._videoHeight){var o={gravity:"top",width:r,height:i,id:this._broadcastId,scaleMode:"aspectFill",left:0,top:0};this._callExternalPlayerControllerCallbacks({publicEventName:e.mL.EXTERNAL_PLAYER_CONTROLLER_RESIZE,data:o})}}}},{key:"_setup",value:function(){var e,t,n=this;if(this._isReady=!1,this._event=null,this._products=null,this._actions=null,this._isPlayerUILoaded=!1,this._currentTime=this._attr.videoId?0:void 0,!this._attr.deferLoad){if(!this._didDefer&&"loading"===document.readyState)return this._didDefer=!0,void document.addEventListener("DOMContentLoaded",(function(){return n._setup()}));if(null===(e=this._unloadDOMEventListeners)||void 0===e||e.call(this),null===(t=this._unloadPlayerEventListeners)||void 0===t||t.call(this),this._attr.eventId||this._attr.videoId){if(this._attr.eventId&&this._attr.videoId)throw new Error("Both eventId and videoId cannot be set at the same time");this._createEmbedInstance(),this._setupDOMEventListeners(),this._setupPlayerPageEventListeners(),this._updateSettingsFromAttributes(),this._updateStylesheet(),this.iframe.setAttribute("tabindex",-1),window.__bamPlayerPriorityQueue||(window.__bamPlayerPriorityQueue=new Zr);var r=0===n._inPlaylistIndex?n._playlistIndex:n._inPlaylistIndex<=5?50*n._playlistIndex:100*n._playlistIndex,i=Number("".concat(r,".").concat(String(this._inPlaylistIndex).padStart(4,"0")));this._playerReady.promise.then((function(){n._shouldLoadPlayerUI?n._loadPlayerUI():i<100&&n.load()})),window.__bamPlayerPriorityQueue.add(this,(function(){return n.iframe.src?Promise.resolve():(n.iframe.src=n._getPlayerUrl(),n._playerReady.promise)}),i),this._setupComplete=!0}}}},{key:"_createEmbedInstance",value:function(){var e,t,n,r,i,o,a=this,s=this._attr,c=s.eventId,u=s.videoId,l=c||u;if(l){var d,f=null===(e=this.embedInstance)||void 0===e?void 0:e.instanceKey;this.embedInstance&&(null===(d=this.embedInstance)||void 0===d||d.destroy());var h=new Yn(yi({isVod:Boolean(!c&&u),eventId:l,isWebComponent:!0,type:"overlay",containerNode:this.wrapper,cookie:{domain:null===(t=this._attr)||void 0===t?void 0:t.cookieDomain,activityCookieTTLDays:null===(n=this._attr)||void 0===n?void 0:n.cookieTTLDays}},"localhost:5080"===window.location.host&&{playerUrl:"http://local.bambuser.com/"}));f&&(h.instanceKey=f),this.embedInstance=h,null===(r=this.embedInstance)||void 0===r||r.mountPlayerAPI(l),null===(i=this.embedInstance)||void 0===i||i.applyProviderConfig(),null===(o=this.embedInstance)||void 0===o||o.listenToEventsByInstanceKey(),h.playerDelegate.on("close",(function(){a._onClose(),a._emit("close")})),h.playerDelegate.on("playback-status",(function(e){null==e||!e.ended||null!=e&&e.seeking||(a._isPlaying=!1,a._onEnded())})),h.playerDelegate.on("should-show-product-list",(function(){return a._onProductListShown()})),h.playerDelegate.on("should-hide-product-list",(function(){return a._onProductListHidden()})),h.playerDelegate.on("should-show-product-view",(function(){return a._onProductViewShown()})),h.playerDelegate.on("should-hide-product-view",(function(){return a._onProductViewHidden()})),h.playerDelegate.on("top-ui-element-shown",(function(){return a._emit("top-ui-element-shown")})),h.playerDelegate.on("top-ui-element-hidden",(function(){return a._emit("top-ui-element-hidden")})),h.playerDelegate.on("player-swipe-right",(function(){return a._emit("swipe-right")})),h.playerDelegate.on("player-swipe-left",(function(){return a._emit("swipe-left")})),h.playerDelegate.on("player-swipe-up",(function(){return a._emit("swipe-up")})),h.playerDelegate.on("player-swipe-down",(function(){return a._emit("swipe-down")})),h.playerDelegate.on("muted",(function(){return a._onMutedFromPlayerUI()})),h.playerDelegate.on("unmuted",(function(){return a._onUnmutedFromPlayerUI()})),h.playerDelegate.on("focus-web-component-outside-iframe",(function(){a._emit("focus-web-component-outside-iframe")}))}}},{key:"_onMutedFromPlayerUI",value:function(){this._emit("muted")}},{key:"_onUnmutedFromPlayerUI",value:function(){this._emit("unmuted")}},{key:"_onProductViewShown",value:function(){this._isProductViewShown=!0,this._emit("show-product")}},{key:"_onProductViewHidden",value:function(){this._isProductViewShown=!1,this._emit("hide-product")}},{key:"_onProductListShown",value:function(){this._isProductListShown=!0}},{key:"_onProductListHidden",value:function(){this._isProductListShown=!1}},{key:"hasImportantUIShown",value:function(){return this._isProductViewShown||this._isProductListShown}},{key:"_onClick",value:function(){var t;if(this._isReady){var n,r=this.embedInstance.playerDelegate,i=e.mL.PREVIEW_SHOULD_EXPAND.replace(e.hw,""),o=ui((null==r||null===(t=r.eventSubscribers)||void 0===t?void 0:t[i])||[]);try{for(o.s();!(n=o.n()).done;){var a=n.value;try{a()}catch(e){console.warn("Failed to call should expand preview callbacks",{err:e})}}}catch(e){o.e(e)}finally{o.f()}this._attr.disableExpandOnClick||(this._loadPlayerUI(),this.wrapper.classList.add("is-expanded"))}}},{key:"_onClose",value:function(){this._unloadPlayerUI(),this.wrapper.classList.remove("is-expanded"),this.wrapper.style=""}},{key:"_onEnded",value:function(){var e=this;this._attr.loop&&!this._isPlayerUILoaded&&_i((function(){e.setCurrentTime(0),e.play()}),500),this._emit("ended")}},{key:"_tearDown",value:function(){var e,t,n;this.shadow.innerHTML="",this._isReady=!1,this._event=null,this._products=null,this._isPlayerUILoaded=!1,this._currentTime=void 0,null===(e=this._unloadDOMEventListeners)||void 0===e||e.call(this),null===(t=this._unloadPlayerEventListeners)||void 0===t||t.call(this),this._updateOverlayDOM(),null===(n=this.embedInstance)||void 0===n||n.destroy(),delete this.embedInstance}},{key:"_loadPlayerUI",value:function(){var e;if(this._shouldLoadPlayerUI=!0,this.iframe.src){if(this._event&&!this._isPlayerUILoaded){var t,n;this._isPlayerUILoaded=!0,null===(e=this._unloadDOMEventListeners)||void 0===e||e.call(this),this._attr.standalone?null===(t=this.embedInstance)||void 0===t||t.show():null===(n=this.embedInstance)||void 0===n||n.loadPlayer(),this.iframe.contentWindow.postMessage("initReactApp","*"),(!1===this._isMuted||void 0===this._isMuted&&!1===this._attr.startMuted)&&this.unmute(),this.play(),this.wrapper.classList.add("player-ui-loaded"),this._isPlayerUILoaded=!0,this._hasTrackedPlayerUILoaded||(this._hasTrackedPlayerUILoaded=!0,this._trackMetric("on-interaction",{interactionType:"load-player-ui"}))}}else this.iframe.src=this._getPlayerUrl()}},{key:"_unloadPlayerUI",value:function(){this._shouldLoadPlayerUI=!1,this._isPlayerUILoaded&&(this.mute(),this._isProductViewShown=!1,this._isProductListShown=!1,this.iframe.contentWindow.postMessage("unloadReactApp","*"),this._createEmbedInstance(),this._setupDOMEventListeners(),this.wrapper.classList.remove("player-ui-loaded"),this._isPlayerUILoaded=!1,this.wrapper.style="",this._updateClosedCaptions({caption:null}))}},{key:"_emit",value:function(e){var t=new window.CustomEvent(e);this.dispatchEvent(t)}},{key:"_getTimelineForTracking",value:function(){return{broadcastId:this._broadcastId}}},{key:"_trackMetric",value:function(e,t){var n,r,i,o;if(!this._isPlayerUILoaded){var a=this._attr.videoId?"vod-":"";null===(n=this.embedInstance)||void 0===n||n._trackMetric(e,yi(yi({orgId:null===(r=this._event)||void 0===r?void 0:r.orgId,playerVersion:2,source:"player",sourceApp:"".concat(a,"player-web-components"),isPlaying:null!==(i=this._isPlaying)&&void 0!==i&&i,schemaVersion:"2.0.0",clientTimestamp:(new Date).toISOString(),videoCurrentTime:isNaN(this._currentTime)?0:Math.floor(this._currentTime),distributionPageId:this._attr.distributionPageId,distributionContainerId:this._attr.distributionContainerId,timeline:this._getTimelineForTracking(),title:null===(o=this._event)||void 0===o?void 0:o.title},this._event&&{isLive:this._event.isLive}),t))}}},{key:"_emitOnProgress",value:function(e,t){var n,r=this;null!==(n=this._emitProgressTimeouts)&&void 0!==n||(this._emitProgressTimeouts={});var i="".concat(e,":").concat(t);window.clearTimeout(this._emitProgressTimeouts[i]),this._emitProgressTimeouts[i]=_i((function n(){r._trackMetric("on-progress"),r._emitProgressTimeouts[i]=t?_i(n,1e3*e):null}),1e3*e)}},{key:"_clearProgressEmissions",value:function(){var e;this._emitProgressTimeouts&&(null===(e=Object.values(this._emitProgressTimeouts))||void 0===e||e.forEach((function(e){return window.clearTimeout(e)})))}},{key:"_requestProductHydration",value:(i=ci(ai().mark((function t(){var n,r,i,o,a,s,c,u,l,d,f,h,p,y=this;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._products,r=this._settings,0!==this._attr.showProducts&&0!==r.products&&null!=n&&n.length){t.next=4;break}return t.abrupt("return");case 4:if(i=this.embedInstance.playerDelegate,o=e.mL.PROVIDE_PRODUCT_DATA.replace(e.hw,""),null!=(a=i.eventSubscribers[o])&&a.length){t.next=9;break}return t.abrupt("return");case 9:s=function(e){return{ref:e.productReference,url:e.publicUrl,id:e.id}},c=this._products.map(s),l=new Promise((function(e){u=e})),Array.isArray(i.eventSubscribers["internal-hydrated-product-update"])||(i.eventSubscribers["internal-hydrated-product-update"]=[]),d=function e(t){var n,r=ui(t.products);try{var o=function(){var e=n.value,t=y._products.find((function(t){return t.id===e._id}));if(!t)return 1;t.hydrated=e,c=c.filter((function(t){return t.id!==e._id}))};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}c.length||(i.eventSubscribers["internal-hydrated-product-update"]=i.eventSubscribers["internal-hydrated-product-update"].filter((function(t){return t!==e})),u())},i.eventSubscribers["internal-hydrated-product-update"].push(d),f=ui(a);try{for(f.s();!(h=f.n()).done;){p=h.value;try{p({products:c})}catch(e){console.warn("Failed while trying to hydrate products",e)}}}catch(e){f.e(e)}finally{f.f()}return t.next=19,Promise.race([l,new Promise((function(e){return _i(e,3e3)}))]);case 19:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"play",value:function(){this._sendPlayerControlMessage("play")}},{key:"pause",value:function(){this._sendPlayerControlMessage("pause")}},{key:"load",value:function(){if(!this._setupComplete)throw new Error("Cannot load() before player has been setup");this._attr.deferLoad&&this.removeAttribute("defer-load"),this.iframe.src?this._sendPlayerControlMessage("loadConditionally"):this.iframe.src=this._getPlayerUrl({forcePreload:!0})}},{key:"unmute",value:function(){this._sendPlayerControlMessage("unmute")}},{key:"mute",value:function(){this._sendPlayerControlMessage("mute")}},{key:"setCurrentTime",value:function(e){if("number"!=typeof e||e<0)throw new Error("setCurrentTime() expects a number");this._sendPlayerControlMessage("setCurrentTime",{time:e})}},{key:"setScaleMode",value:function(e){this._sendPlayerControlMessage("setScaleMode",e)}},{key:"updateScaleMode",value:function(){this._attr.standalone?this._updateScaleModeForStandalone():this._updateScaleMode()}},{key:"_updateScaleMode",value:function(){this._videoWidth>this._videoHeight?this._attr.landscapeInPortrait===xr?this.setScaleMode("aspectFill"):this.setScaleMode("aspectFit"):this.setScaleMode("aspectFill")}},{key:"_updateScaleModeForStandalone",value:function(){var e=this.wrapper.getBoundingClientRect(),t=e.width,n=e.height,r=this._videoWidth,i=this._videoHeight,o=t>n,a=r>i;if(this._isExpandedInPlaylist){if(o)this.setScaleMode("aspectFit");else if(a)this._attr.landscapeInPortrait===xr?this.setScaleMode("aspectFill"):this.setScaleMode("aspectFit");else if(!a){var s=t-n*(r/i),c=Math.floor(.19*t);s>0&&s<c?this.setScaleMode("aspectFill"):this.setScaleMode("aspectFit")}}else this.setScaleMode("aspectFill")}},{key:"setObjectPosition",value:function(e){this._sendPlayerControlMessage("setObjectPosition",e)}},{key:"_saveGlobalState",value:function(e){var t=e.muted;this._isMuted=t}},{key:"_sendPlayerControlMessage",value:function(e,t){var n;null!==(n=this.iframe)&&void 0!==n&&n.contentWindow&&this.iframe.contentWindow.postMessage({eventName:"widgets:".concat(e),data:t},"*")}},{key:"showProductViewInExpandedPlayer",value:function(e){var t;null===(t=this.embedInstance)||void 0===t||t.showProductView({id:e,stallUntilHydration:!0})}},{key:"showProductViewInBamProduct",value:function(e){var t,n,r=document.createElement("bam-product");r.setAttribute("mode",this._attr.productAction),this.wrapper.appendChild(r);var i=this._attr.videoId||this._attr.eventId,o=(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(n={},this._attr.videoId?"videoId":"eventId",i),"productId",e),"productData",this._products.find((function(t){return t.id===e}))),"theme",this._theme),"integrationConfig",this._getPlayerIntegrationConfig()),"playerUrl",this._getPlayerUrl()),"event",this._event),"orgSettings",this._orgSettings),"embedInstanceKey",null===(t=this.embedInstance)||void 0===t?void 0:t.instanceKey),"withCloseButton",!0),vi(n,"onClose",(function(){r.remove()})));r.show(o)}}],r&&di(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}();function Ti(e){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}function Li(e){return function(e){if(Array.isArray(e))return Vi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bi(r.key),r)}}function Ci(e,t){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ci(e,t)}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mi(e){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mi(e)}function Ni(){Ni=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ti(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ti(t)+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return(t=Bi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bi(e){var t=function(e,t){if("object"!=Ti(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ti(t)?t:String(t)}function zi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Hi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Hi(e,t){if(e){if("string"==typeof e)return Vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vi(e,t):void 0}}function Vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wi(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Gi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Wi(o,r,i,a,s,"next",e)}function s(e){Wi(o,r,i,a,s,"throw",e)}a(void 0)}))}}vi(ki,"observedAttributes",["event-id","video-id","autoplay","loop","poster","settings","show-products","defer-load"]),i(7780),i(5704);var qi=window,Yi=qi.fetch,Xi=qi.setTimeout,Ki=qi.clearTimeout,Ji=sn.isParamTrue("bambuserVodDiscover"),Qi={},$i=function(e,t){var n;return((n=Qi[e])?Date.now()-n.time>1e4?(delete Qi[e],null):n:null)||(Qi[e]={time:Date.now(),res:t()}),Qi[e].res},Zi=function(){var e=Gi(Ni().mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,h,p,y,v,m,g,b,w,_,E,S,P,O,x,A,k,T,L,I,C,R,M,N,j,D,U,F,B,z,H,V,W,G,q;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.videosDataSource,r=t.eventIds,i=t.channelId,o=t.videoIds,a=t.orgId,s=t.query,c=t.containerId,u=t.offset,l=[],d=[],f={},h=null,p=null,y=0,v=0,m=0,!("shows"===n&&Array.isArray(r)&&r.length>0)){e.next=13;break}l=r,e.next=84;break;case 13:if(!("vod"===n&&Array.isArray(o)&&o.length>0)){e.next=17;break}l=o,e.next=84;break;case 17:if("shows"!==n||!i){e.next=62;break}return g="channel-".concat(i),e.next=21,$i(g,(function(){return Yi("".concat("https://svc-prod-us.liveshopping.bambuser.com/widgets","/channels/").concat(i)).then((function(e){return e.json()})).then((function(e){return e||{}}))}));case 21:b=e.sent,w=b.playlists,_=zi(w),e.prev=24,_.s();case 26:if((E=_.n()).done){e.next=52;break}if(S=E.value.shows,Array.isArray(S)){e.next=30;break}return e.abrupt("continue",50);case 30:P=zi(S),e.prev=31,P.s();case 33:if((O=P.n()).done){e.next=42;break}if(x=O.value,A=x.showId,k=x.isLive,T=x.isArchived,L=x.duration,I=x.isTestShow,!(!A||!k&&!T||L<=0||I)){e.next=37;break}return e.abrupt("continue",40);case 37:if(!l.includes(A)){e.next=39;break}return e.abrupt("continue",40);case 39:l.push(A);case 40:e.next=33;break;case 42:e.next=47;break;case 44:e.prev=44,e.t0=e.catch(31),P.e(e.t0);case 47:return e.prev=47,P.f(),e.finish(47);case 50:e.next=26;break;case 52:e.next=57;break;case 54:e.prev=54,e.t1=e.catch(24),_.e(e.t1);case 57:return e.prev=57,_.f(),e.finish(57);case 60:e.next=84;break;case 62:if("vod"!==n||!a){e.next=84;break}for(C=no(),R=C.productReference,M=to(),N=document.title,j=Ui(Ui({orgId:a,query:s,containerId:c,url:M,title:N},R&&{sku:R}),u&&{offset:u}),D=new URLSearchParams,U=0,F=Object.entries(j);U<F.length;U++)B=ji(F[U],2),z=B[0],(H=B[1])&&D.append(z,H);return V="org-".concat(a,"-").concat(D.toString()),e.next=72,$i(V,(function(){return Yi("".concat("https://svc-prod-us.liveshopping.bambuser.com/widgets","/distribution").concat(D?"?".concat(D.toString()):"")).then((function(e){return e.json()})).then((function(e){return e||{}}))}));case 72:W=e.sent,G=W.data,q=W.pagination,l=(null==G?void 0:G.playlist)||[],d=(null==G?void 0:G.playlistMetadata)||[],f=(null==G?void 0:G.playerConfig)||{},h=null==G?void 0:G.pageId,p=null==G?void 0:G.id,u=null==q?void 0:q.offset,y=null==q?void 0:q.pageSize,v=null==q?void 0:q.total,m=null==q?void 0:q.page;case 84:return e.abrupt("return",{playlist:l,playlistMetadata:d,playerConfig:f,distributionPageId:h,distributionContainerId:p,offset:u,pageSize:y,total:v,page:m});case 85:case"end":return e.stop()}}),e,null,[[24,54,57,60],[31,44,47,50]])})));return function(t){return e.apply(this,arguments)}}(),eo=function(e){for(var t=0,n=["sku","gtin","gtin8","gtin12","gtin13","gtin14","productID"];t<n.length;t++){var r=n[t];if(e.productReference)break;if(e[r]){e.productReference=e[r];break}}return e},to=function(){var e=document.querySelector('link[rel="canonical"]');if(e&&e.href)return e.href;var t=document.querySelector('meta[property="og:url"]');return t&&t.content?t.content:window.location.href},no=function(){var e={productReference:null};try{for(var t=[function(){return e={},null!=(t=document.querySelector('input[name="product-id"][type="hidden"]'))&&t.value&&(e.productReference=t.value),e;var e,t},function(){return eo(function(){var e,t={},n=zi(document.querySelectorAll('script[type="application/ld+json"]'));try{for(n.s();!(e=n.n()).done;){var r=e.value;try{var i=JSON.parse(r.textContent);if("Product"===i["@type"])for(var o=0,a=Object.entries(i);o<a.length;o++){var s=ji(a[o],2),c=s[0],u=s[1];t[c]||(t[c]=u)}}catch(e){console.error("Error parsing JSON-LD",e)}}}catch(e){n.e(e)}finally{n.f()}return t}())},function(){return eo(function(){var e={},t=document.querySelector('[itemtype="http://schema.org/Product"]');if(t){var n,r=zi(t.querySelectorAll("[itemprop]"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.getAttribute("itemprop"),a=i.innerText;e[o]||(e[o]=a)}}catch(e){r.e(e)}finally{r.f()}}return e}())}],n=0,r=t;n<r.length;n++){for(var i=(0,r[n])(),o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];!e[s]&&i[s]&&(e[s]=i[s])}if(Object.values(e).every(Boolean))break}}catch(e){}return e},ro=function(e,t,n){if(e&&t&&0!==t.length){var r=Math.floor(e.scrollLeft)+t[0].offsetLeft,i=e.scrollWidth,o=e.offsetWidth;if(!(i<=o)){for(var a=0,s=0;s<t.length;s++){var c=t[s].offsetLeft,u=c+t[s].offsetWidth,l=t[s].offsetWidth;if(a=s,r-c<5)break;if(c>=r-s&&u<=r+o)break;if(l>o&&r>=c&&r<=u)break}var d=0;"right"===n?a<t.length-1&&(d=t[a+1].offsetLeft-r):"left"===n&&a>0&&(d=t[a-1].offsetLeft-r),0!==d&&e.scrollBy({left:d,behavior:"smooth"})}}},io=function(e,t,n){e[n]&&(t[n]?e[n]=t[n]:e[n]="")},oo=function(e,t){var n;return function(){if(!n){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.apply(this,i),n=!0,Xi((function(){return n=!1}),t)}}},ao=function(e,t,n){if(Ji)try{window.__bambuserDebugMessages=window.__bambuserDebugMessages||[],window.__bambuserDebugMessages.push({eventType:t,debugId:e,time:Date.now(),data:n})}catch(e){console.error(e)}},so=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ci(e,t)}(c,window.HTMLElement);var t,n,r,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mi(o);if(a){var n=Mi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ri(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Fi(Ri(e=s.call(this)),"_createBamPlayer",(function(t){var n,r,i,o=t.eventId,a=t.focusMode,s=t.autoplay,c=t.isSingleVideo,u=t.playerFit,l=t.mediaAssets,d=t.landscapeInPortrait,f=t.showPosterWhenPaused,h=t.startMuted,p=t.cookieDomain,y=t.cookieTTLDays,v=t.softLimit,m=t.productAction,g=t.closedCaptions,b=t.inPlaylistIndex,w=document.createElement("bam-player");if(w._playlistIndex=e.autoIndexId,w._inPlaylistIndex=b,l&&w.setMediaAssets(l),e._distributionPageId&&w.setAttribute("distribution-page-id",e._distributionPageId),h&&w.setAttribute("start-muted",h),d&&w.setAttribute("landscape-in-portrait",d),f&&w.setAttribute("show-poster-when-paused",f),p&&w.setAttribute("cookie-domain",p),y&&w.setAttribute("cookie-ttl-days",y),m&&w.setAttribute("product-action",m),g&&w.setAttribute("closed-captions",g),e._distributionContainerId&&w.setAttribute("distribution-container-id",e._distributionContainerId),w.setAttribute("settings",Sr(e._playerSettings)),"vod"===e._videosDataSource?w.setAttribute("video-id",o):w.setAttribute("event-id",o),w.setAttribute("player-fit",u),w.addEventListener("muted",(function(){e._isMuted=!0,e._players.forEach((function(e){return e._saveGlobalState({muted:!0})}))})),w.addEventListener("unmuted",(function(){e._isMuted=!1,e._players.forEach((function(e){return e._saveGlobalState({muted:!1})}))})),w.addEventListener("focus-web-component-outside-iframe",(function(){var t;null===(t=e.shadow.querySelector("[data-default-focus]"))||void 0===t||t.focus()})),w.addEventListener("top-ui-element-shown",(function(){e.hideCloseButton()})),w.addEventListener("top-ui-element-hidden",(function(){e.showCloseButton()})),w.addEventListener("clickproduct",(function(t){e.dispatchEvent(new CustomEvent("clickproduct",{detail:Ui(Ui({},t.detail),{},{containerId:e._attr.containerId})}))})),w.addEventListener("customizations-loaded",(function(t){e._customizations||(e._customizations=t.detail.customizations,e._applyCustomizations())})),"hover"===s)w.setAttribute("autoplay","hover");else if("cascade"===s){var _=function(t){e._isExpanded||("mouseenter"===t.type?(e._stopAutoplayCascade(),w.play()):e._startAutoplayCascade(w))};c||(w.addEventListener("mouseenter",_),w.addEventListener("mouseleave",_)),w.setAttribute("loop",!0)}var E=function(){var t=Fi({},"vod"===e._videosDataSource?"videoId":"eventId",o);e.dispatchEvent(new CustomEvent("clickplayer",{detail:t}))};if("carousel"===a){w.setAttribute("standalone","false"),w.addEventListener("close",(function(){return e._contract()})),c||(w.addEventListener("show-product",(function(){e._isExpanded&&"vertical"===e._scrollDirection&&e._blockScroll()})),w.addEventListener("hide-product",(function(){e._unblockScroll()}))),w.addEventListener("ended",(function(){e._focusedPlayer!==w||e._focusedPlayer.hasImportantUIShown()||e._next()}));var S=function(){var t=e._isExpanded;e._expand(),t||e._onScroll(),e._scrollToPlayer(w,t)};w.addEventListener("click",(function(){S(),E()})),w.addEventListener("keydown",(function(e){"Enter"===e.key&&(S(),E())}))}if("single"===a&&(w.addEventListener("click",(function(){w._onClick(),e._saveFocus(),e._expanded=!0,e._wrapper.classList.add("is-expanded-single"),e._updateStylesheet(w),w.updateScaleMode(),e._overrideAncestorsStyles(),e._hideAllFabPlaylists(),E()})),w.addEventListener("close",(function(){e._expanded=!1,e._wrapper.classList.remove("is-expanded-single"),e._updateStylesheet(w),e._revertAncestorsStyles(),e._unhideAllFabPlaylists(),w.updateScaleMode(),e._restoreFocus()}))),"playpause"===a){w.setAttribute("standalone","false");var P=function(){e._stopAutoplayCascade(),w._isPlaying?w.pause():w.play()};w.addEventListener("click",(function(){P(),E()})),w.addEventListener("keydown",(function(e){"Enter"===e.key&&(P(),E())}))}"none"===a&&(w.addEventListener("click",(function(e){e.stopPropagation(),E()}),{capture:!0}),w.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.stopPropagation(),E())}),{capture:!0})),(null===(n=e._remotePlayerConfig)||void 0===n?void 0:n.loop)&&w.setAttribute("loop","true"),void 0!==(null===(r=e._remotePlayerConfig)||void 0===r?void 0:r.showProducts)?w.setAttribute("show-products",e._remotePlayerConfig.showProducts):w.removeAttribute("show-products"),void 0!==(null===(i=e._remotePlayerConfig)||void 0===i?void 0:i.showActions)?w.setAttribute("show-actions",e._remotePlayerConfig.showActions):w.removeAttribute("show-actions");var O=document.createElement("li");O.classList.add("player-wrapper"),O.appendChild(w),e._playerContainer.appendChild(O);var x=Array.from(e._playerContainer.querySelectorAll(".player-wrapper")).indexOf(O)+1;return O.style.order=x,v>0&&x>v&&w.setAttribute("defer-load","true"),e._isExpanded&&(w._expanded=!0),w})),Fi(Ri(e),"_loadNextPaginatedVideos",Gi(Ni().mark((function t(){var n,r,i,o,a,s,c,u,l,d,f,h,p,y,v,m,g,b,w,_,E;return Ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._hasNextPage){t.next=2;break}return t.abrupt("return");case 2:if(!e._isLoadingMore){t.next=4;break}return t.abrupt("return");case 4:if(e._isLoadingMore=!0,r=e._attr,i=r.focusMode,o=r.autoplay,a=r.limit,s=r.softLimit,c=r.playerFit,u=r.landscapeInPortrait,l=r.showPosterWhenPaused,d=r.startMuted,f=r.cookieDomain,h=r.cookieTTLDays,p=r.productAction,y=r.closedCaptions,!((v=Array.from(e._playerContainer.childNodes).filter((function(e){return e.classList.contains("player-wrapper")})).length)>=a)){t.next=10;break}return e._isLoadingMore=!1,t.abrupt("return");case 10:return m=[],t.prev=11,t.next=14,Zi(Ui(Ui({},e._attr),{},{offset:e._page*e._pageSize}));case 14:g=t.sent,b=g.playlist,w=g.page,_=g.total,m=b,e._hasNextPage=_>w*e._pageSize,e._page=w,t.next=26;break;case 23:t.prev=23,t.t0=t.catch(11),e._printError("Failed to load playlist with pagination",{err:t.t0,page:e._page,pageSize:e._pageSize});case 26:e._players=(n=e._players).concat.apply(n,Li(m.slice(0,a-v).map((function(t,n){return e._createBamPlayer({eventId:t,focusMode:i,autoplay:o,isSingleVideo:1===m.length,playerFit:c,landscapeInPortrait:u,showPosterWhenPaused:l,startMuted:!(!d||void 0!==e._isMuted)||e._isMuted,cookieDomain:f,cookieTTLDays:h,productAction:p,closedCaptions:y,inPlaylistIndex:v+n})})))),(!e._hasNextPage||e._players.length>=Math.min(a,s))&&(null===(E=e._loadMoreButton)||void 0===E||E.remove()),e._isLoadingMore=!1;case 29:case"end":return t.stop()}}),t,null,[[11,23]])})))),e.shadow=e.attachShadow({mode:"open"});var t=l().getParser(window.navigator.userAgent);return e._isDesktop="desktop"===t.getPlatformType(!0),document.addEventListener("keyup",(function(t){"Escape"!==t.key&&"Backspace"!==t.key||e._contract()})),window.addEventListener("message",(function(t){try{var n=JSON.parse(t.data),r=n.eventName,i=n.data,o=void 0===i?{}:i;"livecommerce:keyup"===r&&["Escape","Backspace"].includes(null==o?void 0:o.key)&&e._contract()}catch(e){}})),e._playerSettings=Pr(),e._remotePlayerConfig={},e._playerVisibilityMap={},e._isExpanded=!1,e._isMuted=void 0,e._savedFocus=null,e._customizations=null,Ji&&(e._debugId=Q(),ao(e._debugId,"create",{type:"bam-playlist",element:Ri(e),attributes:e._attr})),e}return t=c,n=[{key:"connectedCallback",value:function(){this._hasConnected||(this._hasConnected=!0,this._setup())}},{key:"disconnectedCallback",value:function(){this._updateStylesheet()}},{key:"attributeChangedCallback",value:function(e,t,n){this._hasConnected&&t!==n&&(["channel-id","event-ids","focus-mode","autoplay","limit","soft-limit","video-ids","org-id","query","playlist-id","player-fit","product-action","closed-captions"].includes(e)?this._setup():("player-settings"===e&&(this._updatePlayersSettingsFromAttributes(),this._applyPlayerSettingsUpdate(),this._updateStylesheet()),"mode"===e&&this._updateStylesheet()))}},{key:"channelId",get:function(){return this.getAttribute("channel-id")}},{key:"eventIds",get:function(){return(this.getAttribute("event-ids")||"").split(",").map((function(e){return e.trim()})).filter(Boolean)}},{key:"videoIds",get:function(){return(this.getAttribute("video-ids")||"").split(",").map((function(e){return e.trim()})).filter(Boolean)}},{key:"orgId",get:function(){return this.getAttribute("org-id")}},{key:"_videosDataSource",get:function(){var e=this.eventIds,t=this.videoIds,n=this.channelId,r=this.orgId;return Array.isArray(e)&&e.length>0?"shows":Array.isArray(t)&&t.length>0?"vod":n?"shows":r?"vod":null}},{key:"_attr",get:function(){var e,t,n,r,i,o,a,s,c,u,l,d,f,h,p,y,v=this,m=this.orgId,g=this.channelId,b=this.eventIds,w=this.videoIds,_=this._videosDataSource,E=parseInt(null===(e=this._remotePlayerConfig)||void 0===e?void 0:e.softLimit,10),S=Number.isSafeInteger(E)&&E>0?E:null,P=parseInt(this.getAttribute("soft-limit"),10),O=(Number.isSafeInteger(P)&&P>0?P:null)||S||null,x=function(){if(O&&!v.getAttribute("limit"))return 1/0;var e=parseInt(v.getAttribute("limit"),10);return Number.isSafeInteger(e)?Math.max(0,Math.min(parseInt(e,10),20)):20}(),A=this.autoIndexId,k=A>=0?"playlist-auto-id-".concat(A):null,T=this._remotePlayerConfig||{},L=T.productCardMode,I=T.title,C=T.overlayTextWrap,R=Ui(Ui(Ui({},void 0!==L&&{productCardMode:L}),void 0!==I&&{title:I}),void 0!==C&&{overlayTextWrap:C}),M=Sr(R),N=null!==this.getAttribute("zoom-on-hover")?"true"===this.getAttribute("zoom-on-hover"):(null===(t=this._remotePlayerConfig)||void 0===t?void 0:t.zoomOnHover)||!1,j=this.getAttribute("player-justify")||(null===(n=this._remotePlayerConfig)||void 0===n?void 0:n.playerJustify),D=this.getAttribute("player-fit")||(null===(r=this._remotePlayerConfig)||void 0===r?void 0:r.playerFit)||Or.SAME_HEIGHT,U=this.getAttribute("mode")||(null===(i=this._remotePlayerConfig)||void 0===i?void 0:i.mode)||"row";D!==Or.FILL_PARENT||1!==O&&1!==x||(U="single");var F="fab"===U,B=null!==this.getAttribute("show-poster-when-paused")?"true"===this.getAttribute("show-poster-when-paused"):(null===(o=this._remotePlayerConfig)||void 0===o?void 0:o.showPosterWhenPaused)||!1,z=this.getAttribute("start-muted"),H=null===(a=this._remotePlayerConfig)||void 0===a?void 0:a.startMuted,V=[!0,!1].map(String).includes(z)?"true"===z:"boolean"==typeof H&&(null===(s=this._remotePlayerConfig)||void 0===s?void 0:s.startMuted)||!1,W=this.getAttribute("start-focused"),G=[!0,!1].map(String).includes(W)?"true"===W:(null===(c=this._remotePlayerConfig)||void 0===c?void 0:c.startFocused)||!1,q="true"===this.getAttribute("fullscreen"),Y=this.getAttribute("closed-captions")||(null===(u=this._remotePlayerConfig)||void 0===u?void 0:u.closedCaptions)||Tr.OFF;return{videosDataSource:_,channelId:g,eventIds:b,mode:U,focusMode:this.getAttribute("focus-mode")||(null===(l=this._remotePlayerConfig)||void 0===l?void 0:l.focusMode)||"carousel",autoplay:this.getAttribute("autoplay")||(null===(d=this._remotePlayerConfig)||void 0===d?void 0:d.autoplay)||"hover",videoIds:w,orgId:m,query:this.getAttribute("query")||"auto",containerId:this.getAttribute("playlist-id")||k,playerSettings:[M,this.getAttribute("player-settings")].filter(Boolean).join(";"),zoomOnHover:!F&&N,limit:x,softLimit:O,playerFit:F?"exact-size":D,landscapeInPortrait:this.getAttribute("landscape-in-portrait")||(null===(f=this._remotePlayerConfig)||void 0===f?void 0:f.landscapeInPortrait)||"fit",playerJustify:F?"left":j,showPosterWhenPaused:B,startMuted:V,startFocused:G,cookieDomain:this.getAttribute("cookie-domain")||(null===(h=this._remotePlayerConfig)||void 0===h?void 0:h.cookieDomain),cookieTTLDays:this.getAttribute("cookie-ttl-days")||(null===(p=this._remotePlayerConfig)||void 0===p?void 0:p.cookieTTLDays),productAction:this.getAttribute("product-action")||(null===(y=this._remotePlayerConfig)||void 0===y?void 0:y.productAction)||Ar.EXPAND_PRODUCT,fullscreen:q,closedCaptions:Y}}},{key:"autoIndexId",get:function(){var e=this,t=this.orgId,n=this._videosDataSource;return[].concat(Li(Array.prototype.slice.call(document.querySelectorAll("bam-bundle"))),Li(Array.prototype.slice.call(document.querySelectorAll("bam-playlist")))).filter((function(r){return r===e||r._videosDataSource===n&&("vod"!==n||r.orgId===t)})).indexOf(this)}},{key:"_updateStylesheet",value:function(e){if(this._styleSheet){var t=this._attr,n=t.zoomOnHover,r=t.softLimit,i=this._remotePlayerConfig||{},o=i.thumbnailSize,a=void 0===o?"68px":o,s=i.cornerRadius,c=void 0===s?"0px":s,u=i.playerWidth,l=i.playerHeight,d=i.playerPlaceholderColor,f=void 0===d?"#EEE":d,h=i.playerOverlayFontFamily,p=i.playerOverlayFontWeight,y=void 0===p?"700":p,v=i.playerOverlayTitleFontSize,m=i.playerOverlayTitleLineHeight,g=i.playerProductCardPadding,b=i.playlistGap,w=void 0===b?"25px":b,_=i.playlistPadding,E=void 0===_?0:_,S=i.playlistCarouselCornerRadius,P=void 0===S?"0px":S,O=u||"250px",x=l||"444px",A="";switch(this._attr.playerFit){case Or.FILL_PARENT:A="\n          .wrapper:not(.is-expanded) bam-player {\n            width: 100%;\n            max-width: 100%;\n            height: 100%;\n            max-height: 100%;\n          }\n        ";break;case Or.EXACT_SIZE:A="\n          .wrapper:not(.is-expanded) bam-player {\n            width: var(--bam-player-width, ".concat(O,");\n            max-width: var(--bam-player-width, ").concat(O,");\n            height: var(--bam-player-height, ").concat(x,");\n            max-height: var(--bam-player-height, ").concat(x,");\n          }\n        ");break;case Or.SAME_WIDTH:A="\n          .wrapper:not(.is-expanded) bam-player {\n            width: var(--bam-player-width, ".concat(O,");\n            max-width: var(--bam-player-width, ").concat(O,");\n          }\n        ");break;default:A="\n          .wrapper:not(.is-expanded) bam-player {\n            height: var(--bam-player-height, ".concat(x,");\n            max-height: var(--bam-player-height, ").concat(x,");\n          }\n        ")}var k="\n      .player-container::-webkit-scrollbar, .player-wrapper::-webkit-scrollbar {\n        display: none;\n      }\n\n      .player-container, .player-wrapper {\n        scrollbar-width: none;\n        -ms-overflow-style: none;\n      }\n    ",T="";switch(this._attr.mode){case"single":var L=this._attr.playerFit===Or.FILL_PARENT?"\n          :host,\n          .wrapper:not(.is-expanded),\n          .wrapper:not(.is-expanded) .player-container,\n          .wrapper:not(.is-expanded) .player-container .player-wrapper {\n            width: 100%;\n            height: 100%;\n          }\n          ":"\n          :host {\n            width: fit-content;\n          }";T="\n          ".concat(L,"\n          ").concat(k,"\n          ").concat(A,"\n          .wrapper:not(.is-expanded) .player-container {\n            display: flex;\n          }\n          .wrapper:not(.is-expanded) .player-container .player-wrapper:not(:first-child) {\n            display: none;\n          }\n        ");break;case"fab":T="\n          :host {\n            width: var(--bam-player-width, ".concat(O,");\n            height: var(--bam-player-height, ").concat(x,");\n            overflow: hidden;\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            position: fixed;\n            bottom: 10px;\n            right: 10px;\n            z-index: 2147483647;\n          }\n          ").concat(k,"\n          .wrapper:not(.is-expanded) .player-container {\n            overflow: hidden;\n            gap: 0;\n          }\n          .wrapper.is-expanded .player-container {\n            display: flex;\n            flex-wrap: nowrap;\n          }\n          ").concat(A,"\n        ");break;case"grid":T="\n          ".concat(k,"\n          .player-container {\n            flex-wrap: wrap;\n          }\n          .wrapper.is-expanded .player-container {\n            display: flex;\n            flex-wrap: nowrap;\n          }\n          ").concat(A,"\n        ");break;case"hidden":T="\n          .wrapper {\n            display: none;\n          }\n        ";break;default:T="\n          :host {\n            width: 100%;\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n          }\n          ".concat(k,"\n          ").concat(A,"\n          .wrapper:not(.is-expanded):not(.is-expanded-single) .player-container {\n            overflow-x: scroll;\n          }\n        ")}var I,C=!this._isExpanded&&n,R=function(e,t,n){n||(n=document.body);var r=document.createElement("h1");r.style.display="none",n.appendChild(r);var i=window.getComputedStyle(r).fontFamily;return n.removeChild(r),i}();if(R&&(I=R),this._styleSheet.textContent="\n      :host {\n        display: block;\n        --remote-config-thumbnail-size: ".concat(null!=a?a:"68px",";\n        --effective-thumbnail-size: var(--bam-player-thumbnail-size, var(--remote-config-thumbnail-size, 68px));\n        ").concat(I?"--bam-player-auto-detected-overlay-font-family: ".concat(I):"",";\n        --internal-font-family: var(--bam-player-overlay-font-family, ").concat(null!=h?h:"var(--bam-player-auto-detected-overlay-font-family, sans-serif)",");\n        --internal-corner-radius: ").concat(c,";\n        --internal-overlay-title-font-size: ").concat(v,";\n        --internal-overlay-title-line-height: ").concat(m,";\n        ").concat(u?"--internal-width: ".concat(u,";"):"","\n        ").concat(l?"--internal-height: ".concat(l,";"):"","\n        --internal-overlay-font-weight: ").concat(y,";\n        --internal-placeholder-color: ").concat(f,";\n        --scroll-svg-color: var(--bam-bundle-scroll-svg-color, #000);\n        ").concat(g?"--internal-product-card-padding: ".concat(g,";"):"","\n      }\n      .wrapper {\n        width: 100%;\n      }\n      .player-container {\n        display: flex;\n        position: relative;\n        padding: 0;\n        margin: 0;\n        list-style: none;\n      }\n      .player-wrapper {\n        display: inline-block;\n      }\n      .close-button, .fab-preview-close-button {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        padding: 10px;\n        z-index: 10000001;\n        cursor: pointer;\n        display: none;\n        color: white;\n        text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);\n        font-size: 32px;\n        opacity: 0.9;\n        user-select: none;\n        background: none;\n        border: none;\n        font-family: 'Courier New', Courier, monospace;\n      }\n      .close-button {\n        right: 16px;\n        padding-left: 14px;\n        padding-right: 14px;\n      }\n      .load-more-button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 10px;\n        position: relative;\n        overflow: hidden;\n        overscroll-behavior: none;\n        font-weight: var(--bam-player-overlay-font-weight, ").concat(y,");\n        border-radius: var(--bam-player-corner-radius, ").concat(c,");\n        font-family: var(--internal-font-family), Helvetica, Arial, Verdana, Tahoma, sans-serif;\n        cursor: pointer;\n        color: black;\n        flex-shrink: 0;\n        user-select: none;\n      }\n      .close-button:hover,\n      .fab-preview-close-button:hover,\n      .load-more-button:hover {\n        opacity: 0.8;\n      }\n      .wrapper:not(.is-expanded) .player-container {\n        gap: var(--bam-playlist-gap, var(--bam-bundle-gap, ").concat(w,"));\n        padding: var(--bam-playlist-padding, ").concat(E,");\n        ").concat(this._attr.playerJustify?"justify-content: ".concat(this._attr.playerJustify,";"):"","\n      }\n      .wrapper:not(.is-expanded) bam-player {\n        cursor: pointer;\n        z-index: 1;\n      }\n      ").concat(C?"\n        .wrapper:not(.is-expanded) .player-container {\n          padding: 50px 0;\n          padding-left: calc(0.03 * var(--bam-player-width, ".concat(O,"));\n          padding-left: calc(round(up, 0.03 * var(--bam-player-width, ").concat(O,"), 1px));\n          padding-right: calc(0.03 * var(--bam-player-width, ").concat(O,"));\n          padding-right: calc(round(up, 0.03 * var(--bam-player-width, ").concat(O,"), 1px));\n        }\n        .wrapper:not(.is-expanded) .player-wrapper {\n          transition: transform 300ms ease;\n        }\n        .wrapper:not(.is-expanded) .player-wrapper:hover {\n          z-index: 10;\n          transform: scale(1.06);\n        }\n        .wrapper:not(.is-expanded) .player-wrapper:hover bam-player {\n          transition: box-shadow 300ms ease-in;\n          box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);\n        }\n      "):"","\n      .wrapper.is-expanded {\n        z-index: 10000000;\n        inset: 0px;\n        position: fixed;\n        height: 100%;\n        display: block;\n      }\n      .wrapper.is-expanded .player-wrapper {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-content: center;\n        align-items: flex-start;\n        height: 100%;\n\n        min-height: 80vh;\n        scroll-snap-align: center;\n        scroll-snap-stop: always;\n      }\n      ").concat(r?"\n        .wrapper:not(.is-expanded) .player-wrapper:nth-child(n+".concat(r+1,") {\n          display: none;\n        }\n      "):"","\n      .wrapper.is-expanded .dimmer {\n        position: absolute;\n        inset: 0px;\n        background-color: rgba(0, 0, 0, 1);\n        z-index: -1;\n      }\n      .wrapper.is-expanded .player-container {\n        white-space: nowrap;\n        position: absolute;\n        height: 100%;\n        column-gap: 25px;\n\n        box-sizing: border-box;\n        max-height: 100vh;\n        padding-top: 50vh;\n        padding-bottom: 50vh;\n        overflow: auto;\n        scroll-snap-type: both mandatory;\n        overscroll-behavior: contain;\n      }\n      .wrapper.is-expanded .close-button {\n        display: block;\n      }\n      .wrapper.is-expanded.hide-close-button .close-button {\n        display: none;\n      }\n      .wrapper:not(.is-expanded):not(.is-expanded-single) .fab-preview-close-button {\n        display: block;\n      }\n      .wrapper.is-expanded .player-wrapper:not(.focused) {\n        opacity: 0.2;\n        transition: opacity 0.5s;\n      }\n      .wrapper.is-expanded .player-wrapper:not(.focused) bam-player {\n        cursor: pointer;\n      }\n      /* touch devices will not have hover */\n      ").concat(this._isDesktop?"\n        /* non-touch devices will have hover */\n        @media (orientation: portrait) {\n          .wrapper.is-expanded .player-container {\n            height: auto;\n            width: 100%;\n            flex-direction: column;\n            row-gap: 25px;\n          }\n          .wrapper.is-expanded .player-wrapper {\n            height: 80vh;\n            align-items: center;\n          }\n          .wrapper.is-expanded bam-player {\n            max-height: 80vh;\n            max-width: 90vw;\n            height: 100%;\n            width: auto;\n            border-radius: var(--bam-playlist-carousel-corner-radius, var(--bam-bundle-carousel-corner-radius, ".concat(P,"));\n            --bam-player-placeholder-color: transparent;\n          }\n        }\n      "):"\n        @media (orientation: portrait) {\n          .wrapper.is-expanded {\n            justify-content: flex-start;\n          }\n          .wrapper.is-expanded .player-container {\n            width: 100%;\n            flex-direction: column;\n            height: auto;\n            height: calc(var(--vh, 1vh) * 100);\n\n            min-height: 100vh;\n            min-height: calc(var(--vh, 1vh) * 100);\n\n            padding-top: unset;\n            padding-bottom: unset;\n          }\n          .wrapper.is-expanded .player-wrapper {\n            width: 100%;\n            inset: 0px;\n            margin: 0;\n            height: 100vh; /* Fallback for browsers that do not support custom css properties */\n            height: calc(var(--vh, 1vh) * 100);\n\n            min-height: 100vh;\n            min-height: calc(var(--vh, 1vh) * 100);\n          }\n          .wrapper.is-expanded bam-player {\n            border-radius: 0;\n            inset: 0px;\n            width: 100%;\n            height: 100%;\n            max-width: none;\n            --bam-player-placeholder-color: #000;\n          }\n        }","\n      @media (orientation: landscape) {\n        .player-container {\n          flex-direction: row;\n        }\n\n        .player-container:dir(rtl)  {\n          flex-direction: row-reverse;\n        }\n\n        .wrapper.safari-rtl-fix {\n          direction: ltr;\n        }\n        .wrapper.safari-rtl-fix .player-container {\n          direction: ltr;\n          flex-direction: row;\n        }\n\n        .wrapper.is-expanded .player-container {\n          max-width: 100vw;\n\n          padding-left: 50vw;\n          padding-right: 50vw;\n\n          overflow-y: hidden;\n        }\n\n        .wrapper.is-expanded bam-player {\n          max-height: 80vh;\n          max-width: 80vw;\n          height: 100%;\n          width: auto;\n\n          /*\n            If a player is slimmer than this and expected to present interactive UI the player is expected\n            to be presented in an accessibility type of way, and the player will apply a overflow scroll type\n            which lets the user scroll around in the player to see all elements, which is not what we want when\n            presented in a carousel type of way.\n          */\n          min-width: 320px;\n          border-radius: var(--bam-playlist-carousel-corner-radius, var(--bam-bundle-carousel-corner-radius, ").concat(P,"));\n\n          --bam-player-placeholder-color: transparent;\n        }\n        .wrapper.is-expanded .load-more-button {\n          color: white;\n        }\n      }\n      ").concat(T,"\n\n      .wrapper .next-button, .wrapper .prev-button {\n        display: none;\n      }\n\n      @media (orientation: landscape) {\n        .wrapper.is-expanded .next-button, .wrapper.is-expanded .prev-button {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          position: absolute;\n          top: 50%;\n          transform: translateY(-50%);\n          padding: 10px;\n          background-color: rgba(255, 255, 255, 0.5);\n          border: none;\n          color: white;\n          cursor: pointer;\n          z-index: 10;\n          border-radius: 100%;\n          user-select: none;\n        }\n\n        .wrapper.is-expanded:not(:has(.player-container > .player-wrapper:nth-child(2))) .prev-button,\n        .wrapper.is-expanded:not(:has(.player-container > .player-wrapper:nth-child(2))) .next-button {\n          display: none;\n        }\n\n        .wrapper.is-expanded .next-button {\n          right: 10px;\n        }\n\n        .wrapper.is-expanded:dir(rtl) .next-button {\n          right: 10px;\n          left: unset;\n          transform: translateY(-50%);\n        }\n\n        .wrapper.is-expanded .prev-button {\n          left: 10px;\n        }\n\n        .wrapper.is-expanded:dir(rtl) .prev-button {\n          left: 10px;\n          right: unset;\n          transform: translateY(-50%);\n       }\n\n        .wrapper.is-expanded .next-button svg, .wrapper.is-expanded .prev-button svg {\n          width: 20px;\n          height: 20px;\n          color: var(--scroll-svg-color);\n        }\n\n        .wrapper.is-expanded .next-button:hover, .wrapper.is-expanded .prev-button:hover {\n          background-color: rgba(255, 255, 255, 0.8);\n        }\n      }\n    "),"single"===this._attr.focusMode&&this._players){var M,N=zi(this._players);try{for(N.s();!(M=N.n()).done;){var j=M.value;j.style.zIndex=j===e?1:0}}catch(e){N.e(e)}finally{N.f()}}}}},{key:"_bumpVhCSSVariable",value:function(){var e=.01*window.innerHeight;this._wrapper.style.setProperty("--vh","".concat(e,"px"))}},{key:"_maybeOverrideJustifyCenter",value:function(){this._playerContainer&&"center"===this._attr.playerJustify&&(this._playerContainer.scrollWidth>this._playerContainer.clientWidth?this._playerContainer.style.justifyContent="start":this._playerContainer.style.justifyContent="")}},{key:"_applyPlayerSettingsUpdate",value:function(){var e,t=this._attr.playerSettings;t&&null!==(e=this._players)&&void 0!==e&&e.length&&this._players.forEach((function(e){e.setAttribute("settings",t)}))}},{key:"_updatePlayersSettingsFromAttributes",value:function(){var e=this._attr.playerSettings;e&&(this._playerSettings=Ui(Ui({},this._playerSettings),Er(e)))}},{key:"_isVisibleOnPage",value:function(){if("checkVisibility"in this&&!this.checkVisibility())return!1;var e=this.getBoundingClientRect(),t=e.top,n=e.bottom;return t<window.innerHeight&&n>0}},{key:"_setup",value:(i=Gi(Ni().mark((function e(){var t,n,r,i,o,a,s,c,u,l,d,f,h,p,y,v,m,g,b,w,_,E,S,P,O,x,A,k,T,L,I,C,R,M,N,j,D,U,F,B,z,H,V,W,G,q,Y,X,K,J,Q,$,Z,ee=this;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._setupIdIndex=(this._setupIdIndex||0)+1,this._lastSetupId=t,this._didDefer||this._isVisibleOnPage()){e.next=12;break}if(this._didDefer=!0,!("requestIdleCallback"in window)){e.next=9;break}return window.requestIdleCallback((function(){ee._setup()}),{timeout:5e3}),e.abrupt("return");case 9:if("loading"!==document.readyState){e.next=12;break}return document.addEventListener("DOMContentLoaded",(function(){return ee._setup()})),e.abrupt("return");case 12:return n=this._attr,Ji&&ao(this._debugId,"bam-playlist:setup",{setupId:t,attributes:n}),r=[],i=[],e.prev=16,e.next=19,Zi(n);case 19:o=e.sent,a=o.playlist,s=o.playlistMetadata,c=o.playerConfig,u=o.distributionPageId,l=o.distributionContainerId,d=o.pageSize,f=o.total,h=o.page,Ji&&ao(this._debugId,"bam-playlist:loaded",{setupId:t,playlist:a,playlistMetadata:s,playerConfig:c,distributionPageId:u,distributionContainerId:l,pageSize:d,total:f,page:h}),"story"===c.mode&&(c.mode="row"),r=a,i=s,this._remotePlayerConfig=c,this._distributionPageId=u,this._distributionContainerId=l,this._pageSize=d,this._total=f,this._page=h,this._hasNextPage=f>h*d,e.next=44;break;case 41:e.prev=41,e.t0=e.catch(16),this._printError("Failed to load playlist",{err:e.t0});case 44:if(this._lastSetupId===t){e.next=47;break}return this._printInfo("Another setup has been triggered, bailing",{setupId:t,lastSetupId:this._lastSetupId}),e.abrupt("return");case 47:if("fab"!==this._attr.mode){e.next=73;break}if(null==(p=document.querySelectorAll("[data-bambuser-liveshopping-floating-id]"))||!p.length||!Array.from(p).some((function(e){return"none"!==e.style.display}))){e.next=54;break}return this._printInfo("There are already a FAB components on the site, skipping setup"),e.abrupt("return");case 54:if(!window.__bSetupBamPlaylistFabResolver){e.next=59;break}return this._printInfo("Waiting for the FAB component to be loaded, skipping setup"),e.abrupt("return");case 59:if(!window.__bfwId||window.__bSetupBamPlaylistFabResolver||window.__bFabHasInitiallyLoaded){e.next=62;break}return e.next=62,new Promise((function(e){return window.__bSetupBamPlaylistFabResolver=e}));case 62:if(y=Array.from(document.body.querySelectorAll(":scope > bam-playlist")),v=y.filter((function(e){var t;return"fab"===(null===(t=e._attr)||void 0===t?void 0:t.mode)})),m=v.some((function(e){return e===ee})),0!==v.length){e.next=70;break}this._printInfo("Adding FAB component"),document.body.appendChild(this),e.next=73;break;case 70:if(m){e.next=73;break}return this._printInfo("There already exists a FAB component, skipping setup"),e.abrupt("return");case 73:if(g=this._attr,b=g.focusMode,w=g.autoplay,_=g.limit,E=g.softLimit,S=g.playerFit,P=g.mode,O=g.landscapeInPortrait,x=g.showPosterWhenPaused,A=g.startMuted,k=g.startFocused,T=g.cookieDomain,L=g.cookieTTLDays,I=g.productAction,C=g.closedCaptions,["carousel","single","playpause","none"].includes(b)){e.next=77;break}return this._printError('Invalid "focusMode" attribute. Must be either "carousel", "single", "playpause" or "none".'),e.abrupt("return");case 77:if(!k||["carousel","single"].includes(b)){e.next=80;break}return this._printError('The "start-focused" attribute can only be used with focus mode "carousel" or "single".'),e.abrupt("return");case 80:if(["cascade","hover","none"].includes(w)){e.next=83;break}return this._printError('Invalid "autoplay" attribute. Must be either "cascade" or "hover" or "none".'),e.abrupt("return");case 83:if(Object.values(Or).includes(S)){e.next=86;break}return this._printError('Invalid "playerFit" attribute. Must be either '.concat(Object.values(Or).join(" or "),".")),e.abrupt("return");case 86:if(S!==Or.FILL_PARENT||1===_||1===E||"single"===P){e.next=89;break}return this._printError('The "fill-parent" player fit mode can only be used with a limit of 1 or soft limit of 1 or mode "single".'),e.abrupt("return");case 89:if(0!==_){e.next=92;break}return this._printError("The limit is set to 0, so no players will be rendered."),e.abrupt("return");case 92:if(!I||Object.values(Ar).includes(I)){e.next=95;break}return this._printError('Invalid "productAction" attribute. Must be one of '.concat(Object.values(Ar),".")),e.abrupt("return");case 95:if(C&&!Object.values(Tr).includes(C)&&this._printError('Invalid "closedCaptions" attribute. Must be one of '.concat(Object.values(Tr),".")),this.shadow.innerHTML="",this._stopAutoplayCascade(),r.length){e.next=100;break}return e.abrupt("return");case 100:if(this._updatePlayersSettingsFromAttributes(),R=document.createElement("style"),this._styleSheet=R,(M=document.createElement("div")).classList.add("wrapper"),this._wrapper=M,e.prev=106,j=null===(N=window)||void 0===N||null===(N=N.navigator)||void 0===N?void 0:N.userAgent){e.next=110;break}return e.abrupt("return");case 110:D=/Safari/.test(j)&&!/Chrome|Chromium|Android/.test(j),U=!1,D&&(F=j.match(/Version\/(\d+)\./))&&(B=parseInt(F[1],10),U=Number.isFinite(B)&&B<18),U&&M.classList.add("safari-rtl-fix"),e.next=119;break;case 116:e.prev=116,e.t1=e.catch(106),this._printError("Failed to apply Safari RTL fix");case 119:(z=document.createElement("div")).classList.add("dimmer"),(H=document.createElement("ul")).classList.add("player-container"),this._playerContainer=H,(V=document.createElement("button")).classList.add("close-button"),V.setAttribute("tabindex","0"),V.setAttribute("data-default-focus",""),(W=document.createElement("span")).textContent="✕",W.setAttribute("aria-hidden","true"),V.appendChild(W),V.addEventListener("click",(function(){return ee._contract()})),(G=document.createElement("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',G.classList.add("prev-button"),G.setAttribute("tabindex","0"),G.addEventListener("click",this._onPrevious.bind(this)),(q=document.createElement("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',q.classList.add("next-button"),q.setAttribute("tabindex","0"),q.addEventListener("click",this._onNext.bind(this)),this.shadow.appendChild(R),this.shadow.appendChild(M),M.appendChild(z),M.appendChild(V),M.appendChild(G),M.appendChild(q),M.appendChild(H),"fab"===this._attr.mode&&((Y=document.createElement("button")).classList.add("fab-preview-close-button"),Y.setAttribute("tabindex","0"),(X=document.createElement("span")).textContent="✕",X.setAttribute("aria-hidden","true"),Y.appendChild(X),Y.addEventListener("click",(function(){return ee._collapse()})),M.appendChild(Y)),"vod"===this._videosDataSource&&this._hasNextPage&&r.length<Math.min(_,E)&&((Q=document.createElement("div")).classList.add("load-more-button"),Q.textContent=null!==(K=null===(J=this._customizations)||void 0===J||null===(J=J.generic)||void 0===J?void 0:J.loadMoreLabel)&&void 0!==K?K:"Load more",Q.addEventListener("click",this._loadNextPaginatedVideos),$=window.getComputedStyle(M),Q.style.order="rtl"===$.direction?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,H.appendChild(Q),this._loadMoreButton=Q),this._updateStylesheet(),this._determineScrollDirection(),this._playerContainer.addEventListener("scroll",oo((function(e){return ee._onScroll(e)}),50),{passive:!0}),this._players=r.slice(0,_).map((function(e,t){var n;return ee._createBamPlayer({eventId:e,focusMode:b,autoplay:w,isSingleVideo:1===r.length,playerFit:S,mediaAssets:null===(n=i)||void 0===n||null===(n=n.find((function(t){return t.id===e})))||void 0===n?void 0:n.mediaAssets,landscapeInPortrait:O,showPosterWhenPaused:x,startMuted:A,cookieDomain:T,cookieTTLDays:L,softLimit:E,productAction:I,closedCaptions:C,inPlaylistIndex:t})})),this._startAutoplayCascade(),this._bumpVhCSSVariable(),this._maybeOverrideJustifyCenter(),window.addEventListener("resize",(function(){ee._bumpVhCSSVariable(),ee._maybeOverrideJustifyCenter(),ee._determineScrollDirection(),ee._scrollToPlayer(ee._focusedPlayer,!0,!1)})),this.scrollForward=this._onNext.bind(this),this.scrollBackward=this._onPrevious.bind(this),this.expand=function(){var e=ee._players[0];if(e)if(e._isReady)e.click();else{if(ee._pendingExpand)return;ee._pendingExpand=!0,e.addEventListener("playerReady",(function(){ee._pendingExpand=!1,e.click()}))}},k&&(null===(Z=this._players[0])||void 0===Z||Z.addEventListener("playerReady",(function(){var e;null===(e=ee._players[0])||void 0===e||e.click()}))),Ji&&ao(this._debugId,"bam-playlist:setupComplete",{setupId:t,attributes:this._attr});case 165:case"end":return e.stop()}}),e,this,[[16,41],[106,116]])}))),function(){return i.apply(this,arguments)})},{key:"_hideAllFabPlaylists",value:function(){this._fabsStyleInfo=[];var e,t=zi(document.querySelectorAll("bam-playlist"));try{for(t.s();!(e=t.n()).done;){var n,r=e.value;if(r!==this&&"fab"===(null==r||null===(n=r._attr)||void 0===n?void 0:n.mode)){var i={display:r.style.display};this._fabsStyleInfo.push([r,i]),r.style.setProperty("display","none","important")}}}catch(e){t.e(e)}finally{t.f()}}},{key:"_unhideAllFabPlaylists",value:function(){var e,t=zi(this._fabsStyleInfo||[]);try{for(t.s();!(e=t.n()).done;){var n=ji(e.value,2),r=n[0],i=n[1];r.style.display=i.display}}catch(e){t.e(e)}finally{t.f()}}},{key:"_overrideAncestorsStyles",value:function(){var e=this;this.ancestorStyleInfo=[];for(var t=new Map,n=new Map;e!==document;){var r=window.getComputedStyle(e);t.set(e,r);var i={};e.scrollLeft&&(i.scrollLeft=e.scrollLeft),e.scrollTop&&(i.scrollTop=e.scrollTop),n.set(e,i),e=e.parentNode}for(e=this;e!==document;){var o=e.style,a=t.get(e),s=Ui({position:o.position,zIndex:o.zIndex,transform:o.transform,overflowX:o.overflowX,overflowY:o.overflowY,display:o.display,scrollbarGutter:o.scrollbarGutter},n.get(e));this.ancestorStyleInfo.push([e,s]),"static"===a.position&&(e.style.position="relative"),"none"!==a.transform&&(e.style.transform="none"),"visible"!==a.overflowX&&(e.style.overflowX="visible"),"visible"!==a.overflowY&&(e.style.overflowY="visible"),"block"!==a.display&&""!==a.display&&(e.style.display="block"),"none"!==a.animation&&(e.style.animation="none"),"1"!==a.opacity&&(e.style.opacity="1"),"auto"!==a.scrollbarGutter&&(e.style.scrollbarGutter="auto"),e.style.setProperty("z-index","2147483647","important"),e=e.parentNode}}},{key:"_revertAncestorsStyles",value:(r=Gi(Ni().mark((function e(){var t,n,r,i;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Li(this.ancestorStyleInfo).reverse()).forEach((function(e){var t=ji(e,2),n=t[0],r=t[1],i=n.style;["position","zIndex","transform","overflowX","overflowY","display","animation","opacity","scrollbarGutter"].forEach((function(e){io(i,r,e)}))})),n=zi(t),e.prev=3,i=Ni().mark((function e(){var t,n,i;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ji(r.value,2),n=t[0],i=t[1],e.next=3,new Promise((function(e){i.hasOwnProperty("scrollLeft")||i.hasOwnProperty("scrollTop")?window.requestAnimationFrame((function(){i.hasOwnProperty("scrollLeft")&&(n.scrollLeft=i.scrollLeft),i.hasOwnProperty("scrollTop")&&(n.scrollTop=i.scrollTop),e()})):e()}));case 3:case"end":return e.stop()}}),e)})),n.s();case 6:if((r=n.n()).done){e.next=10;break}return e.delegateYield(i(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),n.e(e.t1);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])}))),function(){return r.apply(this,arguments)})},{key:"_blockScroll",value:function(){"hidden"!==this._playerContainer.style.overflow&&(this._playerContainer.style.overflow="hidden")}},{key:"_unblockScroll",value:function(){"hidden"===this._playerContainer.style.overflow&&(this._playerContainer.style.overflow="")}},{key:"_expanded",set:function(e){var t;this._isExpanded=e,null===(t=this._players)||void 0===t||t.forEach((function(t){t._expanded=e}))}},{key:"_expand",value:function(){var e;this._isExpanded||(window.__bamPlayerPriorityQueue&&window.__bamPlayerPriorityQueue.pause(),this._saveFocus(),this._expanded=!0,this._attr.fullscreen&&!this._isDesktop&&D(this),this._overrideAncestorsStyles(),this._hideAllFabPlaylists(),this._wrapper.classList.add("is-expanded"),this._players.forEach((function(e){e.updateScaleMode()})),this._bodyStylesCopy=(null==(e=document.body)?void 0:e.getAttribute("style"))||"",document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.padding="0",document.body.style.margin="0",this._stopAutoplayCascade())}},{key:"_collapse",value:function(){"fab"===this._attr.mode&&(this._isExpanded||(this._stopAutoplayCascade(),this.remove()))}},{key:"_contract",value:function(){if(this._isExpanded){this._expanded=!1,window.__bamPlayerPriorityQueue&&window.__bamPlayerPriorityQueue.resume(),B()&&F(),this._players.forEach((function(e){e.setScaleMode("aspectFill"),e.pause(),e._unloadPlayerUI()})),this._wrapper.classList.remove("is-expanded");var e,t,n=this._players.indexOf(this._focusedPlayer),r=!this._attr.softLimit||n>=this._attr.softLimit?null:this._focusedPlayer;this._setFocusedPlayer(null),e=document.body,t=this._bodyStylesCopy,null==e||e.setAttribute("style",t||""),this._revertAncestorsStyles(),this._unhideAllFabPlaylists();var i="fab"===this._attr.mode;this._startAutoplayCascade(r,i),this._unblockScroll(),this._restoreFocus(),this._emit("close")}}},{key:"_getPlayerById",value:function(e){return this._players.find((function(t){return t._id===e}))}},{key:"_setFocusedPlayer",value:function(e){var t=this;if(this._focusedPlayer&&this._focusedPlayer!==e){this._focusedPlayer.pause(),null==e||e.setCurrentTime(0);var n=this._focusedPlayer._id;Ki(this._playerVisibilityMap[n]),this._playerVisibilityMap[n]=Xi((function(){var e,r;n!==(null===(e=t._focusedPlayer)||void 0===e?void 0:e._id)&&(null===(r=t._getPlayerById(n))||void 0===r||r._unloadPlayerUI())}),0),this._focusedPlayer.parentNode.classList.remove("focused"),this._players.forEach((function(e){e.parentElement.style.opacity=""}))}if(e){this.showCloseButton(),this._focusedPlayer=e,this._focusedPlayer._isPlayerUILoaded?(this._focusedPlayer.play(),this._isMuted?this._focusedPlayer.mute():this._focusedPlayer.unmute()):this._focusedPlayer._loadPlayerUI(),this._focusedPlayer.parentNode.classList.add("focused");var r=this._players.indexOf(e),i=this._players.slice(r-2,r),o=this._players.slice(r+1,r+3);[].concat(Li(i),Li(o)).forEach((function(e){null==e||e.load(),Xi((function(){e!==t._focusedPlayer&&e.setCurrentTime(0)}),2e3)})),this._players.slice(r+1).length<3&&this._loadNextPaginatedVideos()}else this._focusedPlayer=null}},{key:"_startAutoplayCascade",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;(null!==(e=this._players)&&void 0!==e&&e.length||n)&&"cascade"===this._attr.autoplay&&!this._isCascadeRunning&&(this._players.forEach((function(e){e.pause(),e.setAttribute("autoplay","hover")})),this._isCascadeRunning=!0,this._curCascadePlayer=null,function e(r){var i,o=function(){!function(e,t,n,r){if(e&&t){var i=parseFloat(window.getComputedStyle(t).getPropertyValue("width")),o=n?0:Math.ceil(.03*i),a=i-(e.scrollLeft+e.offsetWidth-t.offsetLeft),s=e.offsetWidth<1.6*i?t.offsetLeft-(e.offsetWidth-i)/2:e.scrollLeft+a-o+i/4,c=e.scrollLeft<s,u=t.offsetLeft<e.scrollLeft;(c||u)&&e.scrollTo({left:s,behavior:"smooth"})}}(t._playerContainer,i,r)},a=t._attr.softLimit||1/0;n?(i=n,n=null,"fab"===t._attr.mode&&o()):((i=t._players.slice(0,a)[t._players.indexOf(t._curCascadePlayer)+1])||(i=t._players[0]),i.getVisibleArea()<1&&o());var s=function n(){var r,o;i.removeEventListener("playing",n),t._curCascadePlayer!==i&&(null===(r=t._curCascadePlayer)||void 0===r||r.setAttribute("autoplay","hover"),t._curCascadePlayer=i),t._isCascadeRunning?t._cascadePlayerTimeoutHandle=Xi((function(){return e(!1)}),4e3):null===(o=i)||void 0===o||o.setAttribute("autoplay","hover")};i._isPlaying?s():i.addEventListener("playing",s),i.setAttribute("autoplay","visible")}(r))}},{key:"_stopAutoplayCascade",value:function(){var e;Ki(this._cascadePlayerTimeoutHandle),this._isCascadeRunning&&(this._isCascadeRunning=!1,null===(e=this._players)||void 0===e||e.forEach((function(e){e.pause(),e.setAttribute("autoplay","hover")})))}},{key:"_determineScrollDirection",value:function(){var e=this._scrollDirection;this._scrollDirection=window.innerHeight>window.innerWidth?"vertical":"horizontal",e!==this._scrollDirection&&this._scrollToPlayer(this._focusedPlayer,!1,!1)}},{key:"_nextPlayer",get:function(){if(!this._focusedPlayer)return this._players[0];var e=this._players.indexOf(this._focusedPlayer);return this._players[e+1]}},{key:"_next",value:function(){if(this._isExpanded&&this._players.length>1){var e=this._players[this._players.indexOf(this._focusedPlayer)+1]||this._players[0];this._scrollToPlayer(e),this._players.indexOf(e)===this._players.length-1&&this._loadNextPaginatedVideos()}}},{key:"_prev",value:function(){if(this._isExpanded&&this._players.length>1){var e=this._players[this._players.indexOf(this._focusedPlayer)-1]||this._players[this._players.length-1];this._scrollToPlayer(e)}}},{key:"_scrollToPlayer",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this._isExpanded&&null!==(t=this._focusedPlayer)&&void 0!==t&&t.parentElement&&(this._focusedPlayer.parentElement.classList.remove("focused"),this._focusedPlayer.parentElement.style.opacity=""),this._unblockScroll(),e.scrollIntoView(Ui(Ui({},n&&{behavior:"smooth"}),{},{block:"center",inline:"center"})),this._setFocusedPlayer(e))}},{key:"_onNext",value:function(){this._isExpanded?this._next():(this._stopAutoplayCascade(),ro(this._playerContainer,this._players,"right"))}},{key:"_onPrevious",value:function(){this._isExpanded?this._prev():(this._stopAutoplayCascade(),ro(this._playerContainer,this._players,"left"))}},{key:"_onScroll",value:function(){var e=this;this._isExpanded&&("vertical"===this._scrollDirection?this._players.forEach((function(t){if(e._isExpanded&&t!==e._focusedPlayer){var n=t.getVisibleArea();n>.8?e._setFocusedPlayer(t):n>.2&&(t.parentElement.style.opacity=n)}})):"horizontal"===this._scrollDirection&&this._players.forEach((function(t){e._isExpanded&&0===t.positionRelativeToCenter()&&t!==e._focusedPlayer&&e._setFocusedPlayer(t)})))}},{key:"_emit",value:function(e){var t=new window.CustomEvent(e);this.dispatchEvent(t)}},{key:"_printError",value:function(e,t){console.error(e,t),Ji&&ao(this._debugId,"error",{message:e,context:t})}},{key:"_printInfo",value:function(e,t){Ji&&ao(this._debugId,"info",{message:e,context:t})}},{key:"hideCloseButton",value:function(){var e;null===(e=this._wrapper)||void 0===e||null===(e=e.classList)||void 0===e||e.add("hide-close-button")}},{key:"showCloseButton",value:function(){var e;null===(e=this._wrapper)||void 0===e||null===(e=e.classList)||void 0===e||e.remove("hide-close-button")}},{key:"_saveFocus",value:function(){this._savedFocus=Je()}},{key:"_restoreFocus",value:function(){var e=this;if(this._savedFocus)try{this._savedFocus.focus(),Xi((function(){e._savedFocus.scrollIntoView({block:"nearest",inline:"center"}),e._savedFocus=null}),30)}catch(e){this._printError("Failed to restore focus",{err:e})}}},{key:"_applyCustomizations",value:function(){if(this._customizations){var e,t=this.shadow.querySelector(".close-button");t&&(t.ariaLabel=(null===(e=this._customizations.generic)||void 0===e?void 0:e.closeAriaLabel)||"Close");var n,r=this.shadow.querySelector(".fab-preview-close-button");r&&(r.ariaLabel=(null===(n=this._customizations.generic)||void 0===n?void 0:n.closeAriaLabel)||"Close");var i,o=this.shadow.querySelector(".prev-button");o&&(o.ariaLabel=(null===(i=this._customizations.generic)||void 0===i?void 0:i.prevAriaLabel)||"Previous");var a,s=this.shadow.querySelector(".next-button");s&&(s.ariaLabel=(null===(a=this._customizations.generic)||void 0===a?void 0:a.nextAriaLabel)||"Next");var c,u,l=this.shadow.querySelector(".load-more-button");l&&(l.textContent=null!==(c=null===(u=this._customizations.generic)||void 0===u?void 0:u.loadMoreLabel)&&void 0!==c?c:"Load More")}}}],n&&Ii(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}();function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ho(r.key),r)}}function lo(e,t){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lo(e,t)}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}function ho(e){var t=function(e,t){if("object"!=co(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==co(t)?t:String(t)}Fi(so,"observedAttributes",["channel-id","event-ids","mode","focus-mode","autoplay","limit","soft-limit","video-ids","org-id","query","playlist-id","player-settings","zoom-on-hover","player-fit","player-justify","cookie-domain","cookie-ttl-days","product-action","closed-captions"]);var po,yo,vo,mo={PROVIDE_DATA:"".concat("livecommerce:web-components:bam-product:","provide-data")},go="livecommerce:react-app:bam-product:",bo="".concat(go,"ready"),wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lo(e,t)}(a,window.HTMLElement);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fo(r);if(i){var n=fo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this))._hasConnected=!1,e._boundReceiveMessage=null,e._styleSheet=null,e._wrapper=null,e._productData=null,e._options=null,e._onClose=null,e._iframe=null,e._baseIframeUrl=null,e._integrationConfig=null,e._theme=null,e._event=null,e._orgSettings=null,e._embedInstanceKey=null,e.attachShadow({mode:"open"}),e}return t=a,n=[{key:"connectedCallback",value:function(){var e=this;this._hasConnected||(this._hasConnected=!0,this._setup(),this._setupExternalListeners(),window.addEventListener("message",(function(t){try{var n=JSON.parse(t.data),r=n.eventName,i=n.data,o=void 0===i?{}:i;"livecommerce:keyup"===r&&["Escape","Backspace"].includes(null==o?void 0:o.key)&&e.close()}catch(e){}})))}},{key:"disconnectedCallback",value:function(){this._hasConnected=!1,this._disconnectExternalListeners()}},{key:"attributeChangedCallback",value:function(e,t,n){this._hasConnected&&t!==n&&(this._setup(),this._setupExternalListeners())}},{key:"_attr",get:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr.INLINE;return Object.values(kr).includes(e)?e:kr.INLINE}(this.getAttribute("mode"));return{mode:e,playlist:this.getAttribute("playlist")}}},{key:"_sendMessageToIFrame",value:function(e){this._iframe.contentWindow.postMessage(e,this._baseIframeUrl)}},{key:"_processMessageFromIFrame",value:function(e){try{var t=("string"==typeof e.data?JSON.parse(e.data):e.data).eventName;if(null==t||!t.startsWith(go))return;t===bo&&this._sendMessageToIFrame({eventName:mo.PROVIDE_DATA,data:{product:this._productData,options:this._options,theme:this._theme,event:this._event,orgSettings:this._orgSettings}},this._baseIframeUrl)}catch(e){console.log("Error parsing message from player",e)}}},{key:"_checkInstanceKey",value:function(e){var t,n="string"==typeof e.data?JSON.parse(e.data):e.data,r=null==n||null===(t=n.data)||void 0===t?void 0:t.embedInstanceKey;return!(!r||r!==this._embedInstanceKey)}},{key:"_processMessageFromEmbed",value:function(e){this._checkInstanceKey(e)&&this._iframe.contentWindow.postMessage("string"==typeof e.data?e.data:JSON.toString(e.data),this._baseIframeUrl)}},{key:"_receiveMessage",value:function(e){this._iframe.contentWindow===e.source?this._processMessageFromIFrame(e):this._processMessageFromEmbed(e)}},{key:"_setup",value:function(){var e,t,n,r=this;if(null!==(e=this._productData)&&void 0!==e&&e.id){this.shadowRoot.innerHTML="";var i=this._attr.mode;this._styleSheet=null!==(t=this._styleSheet)&&void 0!==t?t:document.createElement("style");var o,a=this._createStyle();if(this._styleSheet.textContent!==a&&(this._styleSheet.textContent=a),this._wrapper=null!==(n=this._wrapper)&&void 0!==n?n:document.createElement("div"),this._wrapper.classList.add("wrapper"),this._iframe=this._createIframe(),this._boundReceiveMessage&&window.removeEventListener("message",this._boundReceiveMessage),this._boundReceiveMessage=this._receiveMessage.bind(this),window.addEventListener("message",this._boundReceiveMessage),this._withCloseButton&&((o=document.createElement("button")).classList.add("bam-product-close-button"),o.textContent="✕",o.addEventListener("click",(function(e){e.stopPropagation(),r.close()}))),i===kr.MODAL||i===kr.DRAWER){var s=document.createElement("dialog");s.classList.add(i);var c=document.createElement("div");c.classList.add("iframe-wrapper"),s.appendChild(c),c.appendChild(this._iframe),this._wrapper.appendChild(s),o&&s.appendChild(o)}else{var u=document.createElement("div");u.classList.add("iframe-wrapper"),u.appendChild(this._iframe),this._wrapper.appendChild(u),o&&this._wrapper.appendChild(o)}var l=Array.from(this.shadowRoot.children);l.includes(this._styleSheet)||this.shadowRoot.appendChild(this._styleSheet),l.includes(this._wrapper)||this.shadowRoot.appendChild(this._wrapper)}}},{key:"_createStyle",value:function(){return e={mode:this._attr.mode},"\n    :host {\n        width: 100%;\n        height: 100%;\n        display: block;\n    }\n\n    div.wrapper {\n       height: 100%;\n       width: 100%;\n       position: relative;\n    }\n    div.iframe-wrapper {\n        overflow: hidden;\n\n       ".concat((t=e.mode)===kr.MODAL?" \n        margin: 0;\n        padding: 0;\n        background-color: #fff;\n\n        width:      var(--bam-product-modal-width, 40vw);\n        min-width:  var(--bam-product-drawer-min-width, 400px);\n        max-width:  var(--bam-product-modal-max-width, 620px);\n\n        height:     var(--bam-product-modal-height, 80vh);\n        min-height: var(--bam-product-modal-min-height, 480px);\n        max-height: var(--bam-product-modal-max-height, 100%);\n       ":"","\n\n       ").concat(t===kr.DRAWER?"\n        margin: 0;\n        padding: 0;\n        background-color: #fff;\n\n        width: var(--bam-product-drawer-width, 400px);\n        min-width: var(--bam-product-drawer-min-width, 400px);\n        max-width: var(--bam-product-drawer-max-width);\n\n        height: var(--bam-product-drawer-height, 100vh);\n        min-height: var(--bam-product-drawer-min-height);\n        max-height: var(--bam-product-drawer-max-height);\n       ":"","\n\n       ").concat(t===kr.INLINE?" \n        margin: 0;\n        padding: 0;\n        background-color: #fff;\n        width: 100%;\n        height: 100%;\n        ":"","\n    }\n\n    div.content-wrapper {\n        margin: 0;\n        padding: 16px;\n        background-color: #fff;\n    }\n\n    dialog.modal {\n        padding: 0;\n        border: none;\n        border-radius: var(--bam-product-corner-radius, 16px);\n        background: none;\n    }\n\n    dialog.drawer {\n        padding: 0;\n        border: none;\n        background: none;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        max-height: 100%;\n        height: 100%;\n        margin-right: 0;\n\n        /* for animation */\n    }\n\n    @media (max-width: 430px) {\n       dialog.modal, dialog.drawer {\n         border-radius: 0;\n         width: 100%;\n         height: 100%;\n         max-width: 100%;\n         max-height: 100%;\n       }\n\n       div.iframe-wrapper {\n         min-width: 320px;\n         width: 100vw;\n\n         min-height: 100%;\n         height: 100%;\n       }\n    }\n\n    dialog.modal::backdrop, dialog.drawer::backdrop {\n        background: rgba(0, 0, 0, 0.5);\n    }\n\n    dialog.modal[open] {\n        animation: fade-in 0.15s ease-in-out forwards;\n    }\n    dialog.modal[open]::backdrop {\n        animation: fade-in 0.15s ease-in-out forwards;\n    }\n\n    dialog.drawer:not(.closing)[open]::backdrop {\n        animation: fade-in 0.15s ease-in-out forwards;\n    }\n    dialog.drawer.closing[open]::backdrop {\n        animation: fade-out 0.15s ease-in-out forwards;\n    }\n    dialog.drawer:not(.closing)[open] {\n        animation: open-drawer-from-right-side 0.15s ease-in-out forwards;\n    }\n    dialog.drawer.closing[open] {\n        animation: close-drawer-to-right-side 0.15s ease-in-out forwards;\n    }\n\n    @keyframes fade-in {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    @keyframes fade-out {\n        from {\n            opacity: 1;\n        }\n        to {\n            opacity: 0;\n        }\n    }\n\n\n    @keyframes open-drawer-from-right-side {\n        from {\n            transform: translateX(100%);\n        }\n        to {\n            transform: translateX(0);\n        }\n    }\n    @keyframes close-drawer-to-right-side {\n        from {\n            transform: translateX(0);\n        }\n        to {\n            transform: translateX(100%);\n        }\n    }\n\n    .bam-product-close-button {\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 10px;\n        z-index: 10000001;\n        cursor: pointer;\n        color: #333;\n        background: white;\n        border: none;\n        line-height: 1;\n        font-size: 24px;\n        opacity: 0.4;\n        user-select: none;\n    }\n     ");var e,t}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.productId,n=e.productData,r=e.integrationConfig,i=e.embedInstanceKey,o=e.playerUrl,a=e.theme,s=e.event,c=e.orgSettings,u=e.onClose,l=e.withCloseButton,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Product ID is required");if(!this._hasConnected)throw new Error("Component is not connected to the DOM");this._productData=n,this._integrationConfig=r;var f=o.split("#")[0];try{var h=f.match(/^https?:\/\/(?:[a-zA-Z0-9-]+\.)?bambuser\.com\/(?!default\/?)([^\/]+)\/?$/);if(f&&h&&h[1]){var p=new RegExp("/".concat(h[1],"/?$"));f=f.replace(p,"/default/")}}catch(e){}switch(this._baseIframeUrl=f,this._options=d,this._theme=a,this._event=s,this._orgSettings=c,this._onClose=u,this._embedInstanceKey=i,this._withCloseButton=l,this._setup(),this._attr.mode){case kr.INLINE:break;case kr.DRAWER:this._openDrawer();break;case kr.MODAL:this._openModal()}}},{key:"_openModal",value:function(){var e=this,t=this.shadowRoot.querySelector("dialog");null==t||t.addEventListener("click",(function n(r){r.target===t&&(r.stopPropagation(),t.removeEventListener("click",n),t.close(),e.close())})),null==t||t.showModal()}},{key:"_openDrawer",value:function(){var e=this,t=this.shadowRoot.querySelector("dialog");null==t||t.addEventListener("click",(function n(r){r.target===t&&(r.stopPropagation(),t.classList.add("closing"),t.removeEventListener("click",n),window.setTimeout((function(){t.close(),e.close()}),150))})),null==t||t.showModal()}},{key:"_createIframe",value:function(){var e,t,n,r=document.createElement("iframe"),i=new URL("".concat(this._baseIframeUrl,"pdp.html")),o=new URLSearchParams({productId:this._productData.id,locale:null===(e=this._integrationConfig)||void 0===e?void 0:e.locale,currency:null===(t=this._integrationConfig)||void 0===t?void 0:t.currency,embedInstanceKey:this._embedInstanceKey,eventId:null===(n=this._event)||void 0===n?void 0:n.id});return r.setAttribute("src","".concat(i,"#").concat(o.toString())),r.setAttribute("frameborder",0),r.setAttribute("allowTransparency",!0),r.setAttribute("allow","fullscreen; autoplay; web-share"),r.setAttribute("title","Live video shopping"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("frameborder","0"),r.setAttribute("tabindex",831),r}},{key:"onDisconnectedCallback",value:function(){this._hasConnected=!1,this.close()}},{key:"close",value:function(){var e;this.shadowRoot.replaceChildren(),this._boundReceiveMessage&&(window.removeEventListener("message",this._boundReceiveMessage),this._boundReceiveMessage=null),this._styleSheet=null,this._wrapper=null,this._productData=null,this._iframe=null,this._baseIframeUrl=null,this._integrationConfig=null,this._theme=null,this._event=null,this._orgSettings=null,this._embedInstanceKey=null,null===(e=this._onClose)||void 0===e||e.call(this),this._onClose=null}},{key:"productClickHandler",value:function(e){var t;"none"===e.target.getAttribute("product-action")&&(this.close(),this._attr.playlist!==(null==e||null===(t=e.detail)||void 0===t?void 0:t.containerId)&&"auto"!==this._attr.playlist||this.show(e.detail))}},{key:"_setupExternalListeners",value:function(){var e=this,t=document.querySelectorAll('bam-playlist[product-action="none"]');this._productClickHandler=function(){return e.productClickHandler.apply(e,arguments)},t.forEach((function(t){t.addEventListener("clickproduct",e._productClickHandler)}))}},{key:"_disconnectExternalListeners",value:function(){var e=this;document.querySelectorAll('bam-playlist[product-action="none"]').forEach((function(t){t.removeEventListener("clickproduct",e._productClickHandler)}))}}],n&&uo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,So(r.key),r)}}function So(e){var t=function(e,t){if("object"!=_o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_o(t)?t:String(t)}function Po(){return Po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Po.apply(this,arguments)}function Oo(e,t){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oo(e,t)}function xo(e){return xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xo(e)}po=wo,vo=["mode","playlist"],(yo=ho(yo="observedAttributes"))in po?Object.defineProperty(po,yo,{value:vo,enumerable:!0,configurable:!0,writable:!0}):po[yo]=vo,i(5190);var Ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oo(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xo(r);if(i){var n=xo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this))._inlinePlayer=!0,e}return t=a,n=[{key:"getAttribute",value:function(e){return"standalone"===e?"true":"player-fit"===e?"fill-parent":"show-poster-when-paused"===e?"false":"poster"===e?"":"event-id"===e?this.getAttribute("show-id"):Po(xo(a.prototype),"getAttribute",this).call(this,e)}},{key:"_getOverridableConfig",value:function(){var e=this._getPlayerIntegrationConfig().autoplay,t=this._attr.autoplay,n=void 0!==t&&t;return{autoplay:!(!n||["none","false"].includes(n))||e,withBaaSPlayerPreloading:!1,deferReactAppInit:!1,disableTouchMoveScrollPrevention:!0,hideCloseButton:!0}}},{key:"_createEmbedInstance",value:function(){var e,t;Po(xo(a.prototype),"_createEmbedInstance",this).call(this),this._isPlayerUILoaded=!0,null===(e=this._unloadDOMEventListeners)||void 0===e||e.call(this),null===(t=this.embedInstance)||void 0===t||t.loadPlayer()}},{key:"_updateStylesheet",value:function(){this.wrapper.classList.add("player-ui-loaded"),this.wrapper.classList.add("is-playing"),this.wrapper.classList.add("played-at-least-once"),Po(xo(a.prototype),"_updateStylesheet",this).call(this)}},{key:"_videoWidth",get:function(){return this.__videoWidth||this.offsetWidth||1},set:function(e){this.__videoWidth=e}},{key:"_videoHeight",get:function(){return this.__videoHeight||this.offsetHeight||1},set:function(e){this.__videoHeight=e}}],n&&Eo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ki);function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function To(e,t){if(e){if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Io(e,t)}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Co(e)}var Ro,Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Io(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Co(n);if(r){var i=Co(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(so);function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t,n){var r;return r=function(e,t){if("object"!=No(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=No(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==No(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(){var e=document.createElement("div");e.style.position="fixed",e.style.top="20px",e.style.right="20px",e.style.zIndex=2147483647,e.id="__bambuser-debug-panel__",e.innerHTML='\n    <div>\n      <div class="__bambuser-debug-panel__title">\n        <h1>Bambuser Debug Panel</h1>\n      </div>\n      <div id="__bambuser-debug-panel__instances">\n      </div>\n    </div>\n  ',document.body.appendChild(e);var t=document.createElement("style");t.setAttribute("type","text/css");var n="\n    #__bambuser-debug-panel__, #__bambuser-debug-panel__ * {\n      all: revert;\n    }\n    #__bambuser-debug-panel__ {\n      padding: 4px;\n      border-radius: 6px;\n      box-shadow: 0 0 10px rgba(0,0,0,0.5);\n      overflow: auto;\n      border: 2px solid #000;\n      width: 340px;\n    }\n    #__bambuser-debug-panel__, #__bambuser-debug-panel__ * {\n      font-family: monospace;\n      color: #000;\n      background-color: #fff;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__title h1 {\n      font-size: 16px;\n      user-select: none;\n      cursor: move;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance {\n      border: 2px solid #666;\n      padding: 4px;\n      margin-bottom: 4px;\n      border-radius: 3px;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance.__bambuser-debug-panel__instance_error {\n      border: 2px solid red;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_title {\n      /*margin-bottom: 8px;*/\n      cursor: pointer;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_title h2 {\n      font-size: 12px;\n      margin: 0;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_title h3 {\n      font-size: 10px;\n      margin: 0;\n      color: #666;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_metadata {\n      font-size: 10px;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_actions {\n      margin-top: 8px;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_video_empty {\n      color: darkorange;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_content {\n      display: none;\n      margin-top: 8px;\n      gap: 8px;\n      flex-direction: column;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_content button {\n      width: max-content;\n      cursor: pointer;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_message_header {\n      cursor: pointer;\n    }\n    #__bambuser-debug-panel__ .__bambuser-debug-panel__instance_message_contents {\n      display: none;\n      color: #666;\n      font-size: 10;\n      white-space: pre-wrap;\n    }\n    @keyframes __bambuser-debug-panel__highlight {\n      0%, 100% {\n        opacity: 1;\n      }\n      50% {\n        opacity: 0.2;\n      }\n    }\n    .__bambuser-debug-panel__highlight {\n      outline: 10px solid red;\n      background-color: rgba(255, 0, 0, 0.2);\n      outline-offset: 1px;\n      animation: __bambuser-debug-panel__highlight 1s infinite;\n    }\n  ";"textContent"in t?t.textContent=n:t.styleSheet.cssText=n,document.head.appendChild(t);var r={},i=function(t){if("create"===t.eventType){r[t.debugId]=t.data;var n=document.getElementById("__bambuser-debug-panel__instances"),i=document.createElement("div"),a="bam-playlist"===t.data.type?{title:t.data.attributes.containerId,subtitle:"Shoppable Video"}:{title:t.data.type||"Bambuser Instance"};i.innerHTML='\n        <div class="__bambuser-debug-panel__instance_title">\n          '.concat(a.subtitle?"<h3>".concat(a.subtitle,"</h3>"):"","\n          <h2>").concat(a.title,'</h2>\n          <div class="__bambuser-debug-panel__instance_metadata"></div>\n          <div class="__bambuser-debug-panel__instance_actions">\n            <button class="__bambuser-debug-panel__instance_btn_locate">Locate on page</button>\n            <button class="__bambuser-debug-panel__instance_btn_manage" disabled>Manage</button>\n            <button class="__bambuser-debug-panel__instance_btn_show_events">Show logs</button>\n          </div>\n        </div>\n        <div class="__bambuser-debug-panel__instance_content">\n          <div class="__bambuser-debug-panel__instance_messages">\n          </div>\n        </div>\n      '),i.setAttribute("id","__bambuser-debug-panel_instance_".concat(t.debugId)),i.classList.add("__bambuser-debug-panel__instance");var s=i.querySelector(".__bambuser-debug-panel__instance_btn_locate");s.addEventListener("click",(function(){s.disabled=!0;var e=t.data.element.shadow,n=[];if(0===e.querySelectorAll("*").length){var r=document.createElement("style");r.setAttribute("type","text/css");var i="\n            :host {\n              display: block;\n            }\n            .wrapper {\n              width: 100%;\n              height: 60px;\n            }\n          ";"textContent"in r?r.textContent=i:r.styleSheet.cssText=i,e.appendChild(r),n.push(r);var o=document.createElement("div");o.classList.add("wrapper"),o.innerText="Empty playlist",e.appendChild(o),n.push(o)}t.data.element.scrollIntoView(),t.data.element.classList.add("__bambuser-debug-panel__highlight"),window.setTimeout((function(){t.data.element.classList.remove("__bambuser-debug-panel__highlight");for(var e=0,r=n;e<r.length;e++){var i=r[e];i.parentNode.removeChild(i)}s.disabled=!1}),2e3)})),i.querySelector(".__bambuser-debug-panel__instance_btn_manage").addEventListener("click",(function(){var e=r[t.debugId].metadata,n=t.data.attributes.orgId,i=e.distributionPageId,o=e.distributionContainerId;window.open("".concat("https://lcx.bambuser.com","/").concat(n,"/on-demand/pages/").concat(i,"/playlists/").concat(o),"_blank")})),i.querySelector(".__bambuser-debug-panel__instance_btn_show_events").addEventListener("click",(function(){var e=i.querySelector(".__bambuser-debug-panel__instance_content");e.style.display="flex"===e.style.display?"none":"flex"})),n.appendChild(i),o(Uo(Uo({},t),{},{data:{attributes:t.data.attributes}}))}else if("error"===t.eventType||"info"===t.eventType)o(t),"error"===t.eventType&&document.querySelector("#__bambuser-debug-panel__instances #__bambuser-debug-panel_instance_".concat(t.debugId)).classList.add("__bambuser-debug-panel__instance_error");else if("bam-playlist:loaded"===t.eventType||"bam-playlist:setupComplete"===t.eventType){if(o(t),"bam-playlist:loaded"===t.eventType){r[t.debugId].metadata=t.data;var c=document.querySelector("#__bambuser-debug-panel__instances #__bambuser-debug-panel_instance_".concat(t.debugId));c.querySelector(" .__bambuser-debug-panel__instance_metadata").innerHTML='\n          <div class="__bambuser-debug-panel__instance_videos '.concat(t.data.playlist.length?"":"__bambuser-debug-panel__instance_video_empty",'">Videos: ').concat(t.data.playlist.length).concat(t.data.nextCursor?"+":"","</div>\n        "),c.querySelector(".__bambuser-debug-panel__instance_btn_manage").disabled=!1}}else console.log("Unknown message",t);var u,l,d=!1;function f(t){d&&(e.style.left="".concat(t.clientX-u,"px"),e.style.top="".concat(t.clientY-l,"px"))}function h(){d=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}e.querySelector(".__bambuser-debug-panel__title").addEventListener("mousedown",(function(t){d=!0,u=t.clientX-e.getBoundingClientRect().left,l=t.clientY-e.getBoundingClientRect().top,document.addEventListener("mousemove",f),document.addEventListener("mouseup",h)}))},o=function(e){var t,n,r,i,o,a=document.getElementById("__bambuser-debug-panel__instances"),s=document.createElement("div");s.innerHTML='\n      <div class="__bambuser-debug-panel__instance_message">\n        <div class="__bambuser-debug-panel__instance_message_header">'.concat((t=e.time,n=new Date(t),r=String(n.getHours()).padStart(2,"0"),i=String(n.getMinutes()).padStart(2,"0"),o=String(n.getSeconds()).padStart(2,"0"),"".concat(r,":").concat(i,":").concat(o))," ").concat(e.eventType,'</div>\n        <div class="__bambuser-debug-panel__instance_message_contents">').concat(JSON.stringify(e.data,null,2),"</div>\n      </div>\n    "),s.querySelector(".__bambuser-debug-panel__instance_message_header").addEventListener("click",(function(){var e=s.querySelector(".__bambuser-debug-panel__instance_message_contents");e.style.display="block"===e.style.display?"none":"block"})),a.querySelector("#__bambuser-debug-panel_instance_".concat(e.debugId," .__bambuser-debug-panel__instance_messages")).appendChild(s)},a=window.__bambuserDebugMessages||[];window.__bambuserDebugMessages={push:i};var s,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(a);try{for(c.s();!(s=c.n()).done;)i(s.value)}catch(e){c.e(e)}finally{c.f()}}try{sn.isParamTrue("bambuserVodDiscover")&&(Ro||(Ro=!0,"requestIdleCallback"in window?window.requestIdleCallback((function(){Bo()}),{timeout:5e3}):"loading"===document.readyState&&Bo()))}catch(e){console.log("Error installing debug panel",e)}try{!function(t,n){if(t.initBambuserLiveShopping!==Jn){var r=t.initBambuserLiveShopping&&t.initBambuserLiveShopping.queue?t.initBambuserLiveShopping.queue:[];t.initBambuserLiveShopping=Jn,t.BambuserLiveShopping=n,t.BambuserLivecommerce=n;var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{a._wasQueuedAtStartup=!0,Kn(a)}catch(e){console.log(e)}}}catch(e){o.e(e)}finally{o.f()}var s=function(n){var r=Ke();r&&Kn(r[1],n).playerDelegate._publicAPI.on(e.wh.CLOSE,(function(){t.location.hash=""}))};t.addEventListener("hashchange",s);var c=function(){var e=14;!function n(){0==e--||t.onBambuserLiveShoppingReady?s(!0):t.setTimeout(n,300)}()};"loading"!==document.readyState?c():document.addEventListener("DOMContentLoaded",c),function(e){var t=new URLSearchParams(e.location.search);if(t.has("autoplayLiveShopping")){var n=t.get("autoplayLiveShopping");!function t(r,i){if(e.onBambuserLiveShoppingReady||1===r){if(document.querySelector("[data-bambuser-liveshopping-player-id]"))return;if(Ke())return;return e.initBambuserLiveShopping(n,!0)}e.setTimeout((function(){t(--r,i)}),i)}(14,300)}}(t)}}(window,Yn)}catch(e){console.log("Error installing ready handler",e)}try{!function(t,n,r){var i=new URL(t.location.href);if(i.searchParams){var o=dr(i.searchParams.entries());if(o.some((function(e){return lr(e,1)[0].startsWith("utm_")}))){n.addEventListener("bambuser-instance-ready",(function(e){try{var t=o.filter((function(e){return lr(e,1)[0].startsWith("utm_")})).reduce((function(e,t){var n=lr(t,2),r=n[0],i=n[1];return[].concat(dr(e),[{key:r,value:i}])}),[]);e.detail.instance.setTrackingTags(t)}catch(e){console.error("Error setting tracking tags",e)}}));var a=W(e.sJ.USER_ID),s=W(e.sJ.SESSION_ID),c=a||Q(),u=s||Q(),l={expires:365,domain:t.location.hostname};a||G(e.sJ.USER_ID,c,l),s||G(e.sJ.SESSION_ID,u,l);var d=o.filter((function(e){return lr(e,1)[0].startsWith("utm_")})).reduce((function(e,t){var n=lr(t,2),r=n[0],i=n[1];return cr(cr({},e),{},ur({},r,i))}),{});r.prototype._trackMetricEmit({userId:c,sessionId:u,source:"embed",eventType:"on-utm-referred",insertId:Q(),payload:d})}}}(window,document,Yn)}catch(e){console.log("Error installing custom tags handler",e)}or(window,Yn).catch((function(e){console.log("Error installing hash add to cart handler",e)}));try{[["bam-player",ki],["bam-bundle",so],["bam-playlist",Mo],["bam-product",wo],["bam-inline-player",Ao]].forEach((function(e){var t,n,r,i=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(n,r)||To(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];null!==(t=window)&&void 0!==t&&null!==(t=t.customElements)&&void 0!==t&&t.define&&(window.customElements.get(o)||window.customElements.define(o,a))})),window&&(window.injectBambuserPlayer=function(e){if(null!=e&&e.orgId)if(null!=e&&e.containers&&Array.isArray(e.containers)){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=To(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.containers);try{var r=function(){var n=t.value;if(null==n||!n.selector)return console.warn("injectBambuserPlayer: Invalid container configuration, missing selector. Skipping!"),0;var r=["beforebegin","afterbegin","beforeend","afterend"].find((function(e){return e===(null==n?void 0:n.position)}))||"beforeend",i=document.querySelector(n.selector);if(!i)return console.warn('injectBambuserPlayer: Selector "'.concat(n.selector,"\" didn't match any DOM node. Skipping!")),0;var o=document.createElement("bam-playlist");o.setAttribute("org-id",e.orgId),n.focusMode&&o.setAttribute("focus-mode",n.focusMode),n.autoPlayMode&&o.setAttribute("autoplay",n.autoPlayMode),n.layoutMode&&o.setAttribute("mode",n.layoutMode),n.id&&o.setAttribute("id",n.id),n.playlistId&&o.setAttribute("playlist-id",n.playlistId),n.query&&o.setAttribute("query",n.query),i.insertAdjacentElement(r,o)};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}else console.warn("injectBambuserPlayer: Invalid configuration, missing containers. Aborting!");else console.warn("injectBambuserPlayer: Invalid configuration, missing orgId. Aborting!")})}catch(e){console.log("Error installing web components",e)}}()}();
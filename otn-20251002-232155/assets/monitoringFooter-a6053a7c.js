!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="brsa")}({FIWN:function(e,n,t){"use strict";var r=function(){};e.exports=r},IMfn:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return c}));var r={};t.r(r),t.d(r,"headScript",(function(){return s})),t.d(r,"configure",(function(){return E})),t.d(r,"isRaygunAvailable",(function(){return l})),t.d(r,"agent",(function(){return p})),t.d(r,"routerTrackEvent",(function(){return me})),t.d(r,"reportWebVitalsMetrics",(function(){return ve})),t.d(r,"exposeMetricToWindow",(function(){return he})),t.d(r,"populateToAnalytics",(function(){return pe})),t.d(r,"gaEventPush",(function(){return le})),t.d(r,"groupByErrorMessage",(function(){return m})),t.d(r,"getAPIUrl",(function(){return ye})),t.d(r,"getUnlocalisedUrl",(function(){return be}));var i={};t.r(i),t.d(i,"headScript",(function(){return Te})),t.d(i,"init",(function(){return we})),t.d(i,"footerScript",(function(){return Ee}));var o={};t.r(o),t.d(o,"deploy",(function(){return Se})),t.d(o,"generateBody",(function(){return Ce}));var a={};t.r(a),t.d(a,"agent",(function(){return i})),t.d(a,"helpers",(function(){return r})),t.d(a,"deployments",(function(){return o}));var u={};t.r(u),t.d(u,"markSpaInteractionTime",(function(){return Me})),t.d(u,"collectSpaIntTime",(function(){return Le})),t.d(u,"clearMarks",(function(){return Ie}));var c={};t.r(c),t.d(c,"intTiming",(function(){return u}));var s='!function(a,b,c,d,e,f,g,h,i,j){a.RaygunObject=e,a[e]=a[e]||function(){(a[e].o=a[e].o||[]).push(arguments)},g=b.createElement(c),h=b.getElementsByTagName(c)[0],g.async=1,g.src=d,a.__raygunNoConflict=!!f,h.parentNode.insertBefore(g,h),i=a.onerror,a.onerror=function(b,c,d,f,g){i&&i(b,c,d,f,g),g||(g=new Error(b)),a[e].q=a[e].q||[],a[e].q.push({e:g})},j=a.fetch,j&&(a.__raygunOriginalFetch=j,a.fetch=function(){return a.__raygunFetchCallback?a.__raygunFetchCallback.apply(null,arguments):j.apply(null,arguments);})}(window,document,"script","//cdn.raygun.io/raygun4js/raygun.min.js","rg4js");',f=t("FIWN"),d=t.n(f);function l(){return"undefined"!=typeof window&&window.rg4js}function p(...e){const n=l();if(n){const n=window.requestIdleCallback;n?n(()=>t(...e)):t(...e)}else d()(!1,"Raygun is undefined"),d()(...e,"Arguments could not be run");function t(...e){n(...e)}}function m(e){return e.Details.Error.Message}function v(e){var n;if(null==e||null===(n=e.Details)||void 0===n||!n.Error)return e;const{Error:t,...r}=e.Details,{Message:i,StackString:o}=t,a={...e,Details:{...r,Error:{...t}}};return void 0!==i&&(a.Details.Error.Message=g(i)),void 0!==o&&(a.Details.Error.StackString=g(o)),a}function g(e){return e.replace(/'\d{13,19}'/g,"[redacted card number]")}var h,y,b,T,w,E=function(e,n={},t={},r=[]){const i=l();if(i){const{enableCrashReporting:o,enablePulse:a,saveIfOffline:u,captureMissingRequests:c,groupByErrorMessage:s,withTags:f,setVersion:l}=n;e||d()("apiKey is not defined"),i("apiKey",e),i("enableCrashReporting",!!o),i("enablePulse",!!a),i("saveIfOffline",!!u),i("captureMissingRequests",!!c),i("onBeforeSend",v),s&&i("groupingKey",m),f&&i("withTags",f),l&&i("setVersion",l),i("options",t),r.forEach(e=>{i(e.key,e.value)})}else d()("Raygun is undefined, could not set up agent")},S=-1,C=function(e){addEventListener("pageshow",(function(n){n.persisted&&(S=n.timeStamp,e(n))}),!0)},M=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},L=function(){var e=M();return e&&e.activationStart||0},I=function(e,n){var t=M(),r="navigate";return S>=0?r="back-forward-cache":t&&(document.prerendering||L()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:e,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},P=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},A=function(e,n,t,r){var i,o;return function(a){n.value>=0&&(a||r)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,n.rating=function(e,n){return e>n[1]?"poor":e>n[0]?"needs-improvement":"good"}(n.value,t),e(n))}},k=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},D=function(e){var n=function(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||e(n)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},O=function(e){var n=!1;return function(t){n||(e(t),n=!0)}},R=-1,j=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},N=function(e){"hidden"===document.visibilityState&&R>-1&&(R="visibilitychange"===e.type?e.timeStamp:0,F())},_=function(){addEventListener("visibilitychange",N,!0),addEventListener("prerenderingchange",N,!0)},F=function(){removeEventListener("visibilitychange",N,!0),removeEventListener("prerenderingchange",N,!0)},x=function(){return R<0&&(R=j(),_(),C((function(){setTimeout((function(){R=j(),_()}),0)}))),{get firstHiddenTime(){return R}}},q=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},B=[1800,3e3],U=function(e,n){n=n||{},q((function(){var t,r=x(),i=I("FCP"),o=P("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-L(),0),i.entries.push(e),t(!0)))}))}));o&&(t=A(e,i,B,n.reportAllChanges),C((function(r){i=I("FCP"),t=A(e,i,B,n.reportAllChanges),k((function(){i.value=performance.now()-r.timeStamp,t(!0)}))})))}))},K=[.1,.25],Y={passive:!0,capture:!0},V=new Date,H=function(e,n){h||(h=n,y=e,b=new Date,z(removeEventListener),W())},W=function(){if(y>=0&&y<b-V){var e={entryType:"first-input",name:h.type,target:h.target,cancelable:h.cancelable,startTime:h.timeStamp,processingStart:h.timeStamp+y};T.forEach((function(n){n(e)})),T=[]}},G=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,n){var t=function(){H(e,n),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,Y),removeEventListener("pointercancel",r,Y)};addEventListener("pointerup",t,Y),addEventListener("pointercancel",r,Y)}(n,e):H(n,e)}},z=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return e(n,G,Y)}))},$=[100,300],J=0,Q=1/0,X=0,Z=function(e){e.forEach((function(e){e.interactionId&&(Q=Math.min(Q,e.interactionId),X=Math.max(X,e.interactionId),J=X?(X-Q)/7+1:0)}))},ee=function(){return w?J:performance.interactionCount||0},ne=function(){"interactionCount"in performance||w||(w=P("event",Z,{type:"event",buffered:!0,durationThreshold:0}))},te=[200,500],re=0,ie=function(){return ee()-re},oe=[],ae={},ue=function(e){var n=oe[oe.length-1],t=ae[e.interactionId];if(t||oe.length<10||e.duration>n.latency){if(t)t.entries.push(e),t.latency=Math.max(t.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ae[r.id]=r,oe.push(r)}oe.sort((function(e,n){return n.latency-e.latency})),oe.splice(10).forEach((function(e){delete ae[e.id]}))}},ce=[2500,4e3],se={},fe=[800,1800],de=function(e,n){n=n||{};var t=I("TTFB"),r=A(e,t,fe,n.reportAllChanges);!function e(n){document.prerendering?q((function(){return e(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(n)}),!0):setTimeout(n,0)}((function(){var i=M();if(i){var o=i.responseStart;if(o<=0||o>performance.now())return;t.value=Math.max(o-L(),0),t.entries=[i],r(!0),C((function(){t=I("TTFB",0),(r=A(e,t,fe,n.reportAllChanges))(!0)}))}}))};function le(e){var n,t;null!==(n=window)&&void 0!==n&&n.queuedDataLayer?queuedDataLayer.push(e):null===(t=dataLayer)||void 0===t||t.push(e)}function pe(e){le({event:"timing event",effect:"timing event loaded",category:{primaryCategory:"ux",subCategory:"timing"},attributes:{...e}})}function me(e){e.listen(e=>{p("trackEvent",{type:"pageView",path:e.pathname}),"undefined"!=typeof window&&window.vitals&&(window.vitals={})})}function ve(){!function(e,n){n=n||{},U(O((function(){var t,r=I("CLS",0),i=0,o=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=o[0],t=o[o.length-1];i&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,t())},u=P("layout-shift",a);u&&(t=A(e,r,K,n.reportAllChanges),D((function(){a(u.takeRecords()),t(!0)})),C((function(){i=0,r=I("CLS",0),t=A(e,r,K,n.reportAllChanges),k((function(){return t()}))})),setTimeout(t,0))})))}(ge),function(e,n){n=n||{},q((function(){var t,r=x(),i=I("FID"),o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),t(!0))},a=function(e){e.forEach(o)},u=P("first-input",a);t=A(e,i,$,n.reportAllChanges),u&&D(O((function(){a(u.takeRecords()),u.disconnect()}))),u&&C((function(){var r;i=I("FID"),t=A(e,i,$,n.reportAllChanges),T=[],y=-1,h=null,z(addEventListener),r=o,T.push(r),W()}))}))}(ge),U(ge),function(e,n){n=n||{},q((function(){var t,r=x(),i=I("LCP"),o=function(e){var n=e[e.length-1];n&&n.startTime<r.firstHiddenTime&&(i.value=Math.max(n.startTime-L(),0),i.entries=[n],t())},a=P("largest-contentful-paint",o);if(a){t=A(e,i,ce,n.reportAllChanges);var u=O((function(){se[i.id]||(o(a.takeRecords()),a.disconnect(),se[i.id]=!0,t(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(u,0)}),!0)})),D(u),C((function(r){i=I("LCP"),t=A(e,i,ce,n.reportAllChanges),k((function(){i.value=performance.now()-r.timeStamp,se[i.id]=!0,t(!0)}))}))}}))}(ge),de(ge),function(e,n){n=n||{},q((function(){var t;ne();var r,i=I("INP"),o=function(e){e.forEach((function(e){e.interactionId&&ue(e),"first-input"===e.entryType&&!oe.some((function(n){return n.entries.some((function(n){return e.duration===n.duration&&e.startTime===n.startTime}))}))&&ue(e)}));var n,t=(n=Math.min(oe.length-1,Math.floor(ie()/50)),oe[n]);t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())},a=P("event",o,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=A(e,i,te,n.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),D((function(){o(a.takeRecords()),i.value<0&&ie()>0&&(i.value=0,i.entries=[]),r(!0)})),C((function(){oe=[],re=ee(),i=I("INP"),r=A(e,i,te,n.reportAllChanges)})))}))}(ge)}function ge(e){const{name:n,delta:t}=e,r=Math.round("CLS"===n?1e3*t:t);he(n,r),pe({[n]:r})}function he(e,n){"undefined"!=typeof window&&(window.vitals?window.vitals[e]=n:window.vitals={[e]:n})}const ye=(e,n)=>{const t=new RegExp(`^.+/${n}_\\w{2}/`);return null==e?void 0:e.replace(t,"/")},be=e=>{var n;const t=null===(n=e.match(/^.*\/([a-z]{2})-([a-z]{2})\//))||void 0===n?void 0:n[0];return e.replace(t,"/")};var Te=function(){return s},we=function(e){const{apiKey:n,appConfig:t={},options:r={},breadcrumbsApi:i=[]}=e;t.enableCrashReporting=!0,t.pulseCustomLoadTimeEnabled=!0,t.enablePulse=!0,t.saveIfOffline=!0,t.captureMissingRequests=!0,r.ignore3rdPartyErrors=!0,r.pulseCustomLoadTimeEnabled=!0;try{E(n,t,r,i)}catch(e){}},Ee=function(){ve()};async function Se(e,n,t,r={error:()=>{},info:()=>{}}){const{branch:i}=t;if(i&&"master"===i.toLowerCase()){const{apiKey:i,authToken:o}=n,a={method:"POST",uri:"http://app.raygun.io/deployments",qs:{authToken:o},json:!0,body:Ce(i,t)};let u;try{u=await e(a)}catch(e){return r.error("RAYGUN DEPLOYMENT FAILED",{error:e})}const{statusCode:c,statusMessage:s}=u;return 200===c?r.info("RAYGUN DEPLOYMENT SUCCESSFUL"):r.error("RAYGUN DEPLOYMENT INVALID RESPONSE",{statusCode:c,statusMessage:s})}}function Ce(e,n={commit:{user:{}}}){const{version:t,commit:r,scm:i,created:o}=n,{hash:a,user:u,message:c}=r,{name:s,email:f}=u;return{apiKey:e,version:t,ownerName:s,emailAddress:f,comment:c,scmIdentifier:a,scmType:i,createdAt:o}}const Me=e=>{window.performance.mark("spaIntTime-"+e)},Le=()=>{const e=window.performance.getEntriesByType("mark").filter(e=>e.name.includes("spaIntTime"));let n=null;if(e.length>1){n={spaIntType:e[0].name.replace("spaIntTime-",""),spaIntTime:Math.round(e[1].startTime-e[0].startTime)}}return Ie(e),n},Ie=e=>{e.map(e=>window.performance.clearMarks(e.name))}},brsa:function(e,n,t){"use strict";t.r(n),t("IMfn").b.agent.footerScript()}});
//# sourceMappingURL=monitoringFooter-a6053a7c.js.map
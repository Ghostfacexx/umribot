(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{MSQZ:function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",(function(){return te})),a.d(t,"mapDispatchToProps",(function(){return ae})),a.d(t,"DAZContainer",(function(){return ne})),a.d(t,"default",(function(){return re}));var n=a("cDcd"),r=a.n(n),s=a("oNR1"),l=a("/m4v"),i=a("W7HQ"),o=a.n(i),c=a("1xnG"),d=a("3Nl2"),g=a("8VmE"),u=a.n(g),p=a("c35s"),v=a.n(p),b=a("56Df"),m=a("Ysnl"),h=a("Qn6s"),y=a("2ebB"),f=a("FbGF"),N=a("6jZK"),E=a("Cfob"),D=a("USb2"),k=a("m1x9"),O=a("rd1g");const C=new m.a("AZMenu0"),S=({selected:e,groups:t,pageUrl:a,onClick:n,className:s})=>{const l=[{value:"#",key:"#",label:"#",labelNative:"#"},{value:"A",key:"A",label:"A",labelNative:"A"},{value:"B",key:"B",label:"B",labelNative:"B"},{value:"C",key:"C",label:"C",labelNative:"C"},{value:"D",key:"D",label:"D",labelNative:"D"},{value:"E",key:"E",label:"E",labelNative:"E"},{value:"F",key:"F",label:"F",labelNative:"F"},{value:"G",key:"G",label:"G",labelNative:"G"},{value:"H",key:"H",label:"H",labelNative:"H"},{value:"I",key:"I",label:"I",labelNative:"I"},{value:"J",key:"J",label:"J",labelNative:"J"},{value:"K",key:"K",label:"K",labelNative:"K"},{value:"L",key:"L",label:"L",labelNative:"L"},{value:"M",key:"M",label:"M",labelNative:"M"},{value:"N",key:"N",label:"N",labelNative:"N"},{value:"O",key:"O",label:"O",labelNative:"O"},{value:"P",key:"P",label:"P",labelNative:"P"},{value:"Q",key:"Q",label:"Q",labelNative:"Q"},{value:"R",key:"R",label:"R",labelNative:"R"},{value:"S",key:"S",label:"S",labelNative:"S"},{value:"T",key:"T",label:"T",labelNative:"T"},{value:"U",key:"U",label:"U",labelNative:"U"},{value:"V",key:"V",label:"V",labelNative:"V"},{value:"W",key:"W",label:"W",labelNative:"W"},{value:"X",key:"X",label:"X",labelNative:"X"},{value:"Y",key:"Y",label:"Y",labelNative:"Y"},{value:"Z",key:"Z",label:"Z",labelNative:"Z"}].map(({value:s,key:l,label:i})=>{const o=s.includes("#")?"character":"",c=e==="#"+s?"selected":t&&!t[s]?"inactive":"",d={..."inactive"!==c?{href:`${a}#${s}`}:{},className:C("link",[c,o]),onClick:n?e=>n(e,s):null};return r.a.createElement("li",{key:"index-"+l,className:C("initial",[c,o])},r.a.createElement("a",d,i))});return r.a.createElement("ul",{className:C(null,null,s)},l)};S.defaultProps={selected:null,pageUrl:""};var I,L,P,j,A=S,T=a("R5jy"),w=a("VFcg"),M=a("NWgQ"),B=a.n(M);const _=new m.a("DesignerList0");let F=(I=o()(),L=o()(({analytics:e},t,[a])=>Object(O.e)(e,a)),I((j=class extends n.PureComponent{constructor(e){super(e),this.state={selectedLetter:"",loadingFavouriteDesigner:[],signInPrompt:!1,addDesignerId:null,isBannerVisible:!1},this.stickyHeader=r.a.createRef(),this.goToLetter=this.goToLetter.bind(this),this.getHeaderHeight=this.getHeaderHeight.bind(this),this.onClickGoToLetter=this.onClickGoToLetter.bind(this),this.inViewInitialHash={},this.gotoDesignerPage=this.gotoDesignerPage.bind(this),this.changeDesignerPreference=this.changeDesignerPreference.bind(this)}componentDidMount(){this.handleAdjustBannerOpened=e=>{this.setState({isBannerVisible:e.detail.isVisible})},this.handleAdjustBannerClosed=e=>{this.setState({isBannerVisible:e.detail.isVisible})},document.addEventListener("adjustBannerOpened",this.handleAdjustBannerOpened),document.addEventListener("adjustBannerClosed",this.handleAdjustBannerClosed)}componentWillUnmount(){document.removeEventListener("adjustBannerOpened",this.handleAdjustBannerOpened),document.removeEventListener("adjustBannerClosed",this.handleAdjustBannerClosed)}componentDidUpdate(e){const{preferencesLoading:t}=e,{preferencesLoading:a}=this.props,n=B.a.parse(window.location.search);n.addDesignerId&&t&&!a&&this.changeDesignerPreference(n.addDesignerId,!1)}goToLetter(e){this["designer"+e]&&(history.pushState({},"","#"+e),this.setState({selectedLetter:"#"+e}),window.scrollTo({top:this["designer"+e].offsetTop-this.getHeaderHeight()}))}gotoDesignerPage(e){const{tracking:t,analytics:a}=this.props;null==t||t.trackEvent(Object(O.d)(a,e))}onClickGoToLetter(e,t){e.preventDefault(),this.goToLetter(t)}getHeaderHeight(){const{scrollHeight:e,scrollWidth:t}=this.stickyHeader.current;return!(!e||!t)&&(t<1024?e+44:e)}handleIntersect(e,t){this.inViewInitialHash[e]=t;let a=Object.keys(this.inViewInitialHash).reduce((e,t)=>this.inViewInitialHash[t]?[...e,t]:e,[])[0];a&&this.setState({selectedLetter:"#"+a})}changeDesignerPreference(e,t){const{addUserPreference:a,removeUserPreference:n,uberToken:r,authenticated:s,tracking:l,analytics:i}=this.props;this.setState({loadingFavouriteDesigner:[...this.state.loadingFavouriteDesigner,e],addDesignerId:e}),r&&s?(null==l||l.trackEvent(Object(O.a)(i,[e,t])),t?n([e]):a({values:[{name:e}]})):this.setState({signInPrompt:!0})}static getDerivedStateFromProps(e,t){if(!e.loadingFavourite&&t.loadingFavouriteDesigner.length>0)return{loadingFavouriteDesigner:[]}}render(){var e,t,a,n;const{advertPosition:s,className:l,content:i,designers:o,pageName:c,isSalePage:d,urlConfig:g={},internal_urls:u=[],locale:p,language:v,country:b,favouriteDesignerEnabled:m,preferences:N,preferencesLoading:k,messages:O,url:C}=this.props,{isBannerVisible:S}=this.state,I=function(e){const t={};e&&e.forEach(e=>{const a=((e,t=String.prototype)=>{if("normalize"in t)return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e})(e.designerLabel||e.label);let n=null==a?void 0:a.charAt(0).toUpperCase();(/^\W+$/.test(n)||/^\d+$/.test(n))&&(n="#"),t[n]?t[n].push(e):t[n]=[e]});return t}(o),L=Object.keys(I),P=this.props.tonMenswear&&(null===(e=this.props.tonMenswear)||void 0===e?void 0:e.enabled)&&!(null!==(t=this.props.tonMenswear)&&void 0!==t&&null!==(a=t.exclusionList)&&void 0!==a&&a.includes(b.toUpperCase()));if(0===L.length)return null;const j=L.sort((e,t)=>e.localeCompare(t)).map((e,t)=>{const a=e.includes("#")?"character":"";return r.a.createElement("div",{key:e,className:_("groupWrapper",a),ref:t=>this["designer"+e]=t},t==s&&function(e,t,a){var n;const s="1"===t?"top":"";return r.a.createElement(y.b,{path:null==e||null===(n=e.ad)||void 0===n?void 0:n.ynapParameter,className:_("advertisement",s),targeting:{language:a}})}(i,s,v),r.a.createElement(h.a,{key:e,keepObserving:!0},t=>(this.handleIntersect(e,t),r.a.createElement("h2",{className:_("initial",[a])},r.a.createElement("a",{id:e}),e))),r.a.createElement(H,{designers:I[e]},I[e].sort((e,t)=>{const a=e.designerLabel||e.label,n=t.designerLabel||t.label;return a.localeCompare(n)}).map(e=>{const t=0===e.productCount?"noProducts":"productsAvailable",a=e.designerName||e.designerLabel||e.label,n=Array.isArray(N)&&!!N.find(({name:t})=>t===(null==e?void 0:e.brandId)),s=!!this.state.loadingFavouriteDesigner.includes(e.brandId);return r.a.createElement("li",{key:e.designerId,className:_("designer")},m&&r.a.createElement("div",{className:_("designerFav",[n&&"favourited",s&&"loading"]),onClick:()=>!k&&this.changeDesignerPreference(e.brandId,n)}),r.a.createElement("div",{className:_("designerListing")},r.a.createElement("div",{className:_("designerAnchor"),id:e.brandId}),P?r.a.createElement("a",{href:e.href,onClick:()=>this.gotoDesignerPage(a),className:_("designerName",t),content:e.href,dir:"ltr"},a):r.a.createElement(D.a,{to:e.href,onClick:()=>this.gotoDesignerPage(a),className:_("designerName",t),content:e.href,dir:"ltr"},a),e.badge&&r.a.createElement("p",{className:_("badge")},e.badge)))})))}),T=!(null==i||null===(n=i.banners)||void 0===n||!n.length),M=T&&r.a.createElement(E.b,{images:i.banners});return r.a.createElement("div",{className:_(null,null,l)},r.a.createElement("div",{className:_("head")},T&&r.a.createElement(x,null,null!=i&&i.bannerLink?Object(f.c)(g,u,p,null==i?void 0:i.bannerLink,M):M),r.a.createElement("h1",{className:_("header",d&&"isSale",null)},c),P&&r.a.createElement("div",null,r.a.createElement(D.a,{className:_("primary-link",C.includes("/mens")&&"notActive"),to:`/${p}/shop/designers`},O.designers.womens()),r.a.createElement(D.a,{className:_("primary-link",!C.includes("/mens")&&"notActive"),to:`/${p}/shop/mens/designers`},O.designers.mens()))),r.a.createElement("div",{className:_("letterIndex",{bannerVisible:S}),ref:this.stickyHeader},r.a.createElement(A,{selected:this.state.selectedLetter,groups:I,onClick:this.onClickGoToLetter})),r.a.createElement("section",{className:_("listWrapper")},j),this.state.signInPrompt&&r.a.createElement(w.a,{messages:O,onClose:()=>this.setState({signInPrompt:!1,addDesignerId:null}),redirect:this.state.addDesignerId?`${window.location.pathname}?addDesignerId=${this.state.addDesignerId}#${this.state.addDesignerId}`:window.location.pathname,locale:p,designer:this.state.addDesignerId}))}},v()(j.prototype,"goToLetter",[L],Object.getOwnPropertyDescriptor(j.prototype,"goToLetter"),j.prototype),P=j))||P);const H=Object(N.c)("DesignerList",({theme:e,designers:t})=>({display:"block","screen-medium":{display:"grid",gridAutoFlow:"column",gridColumnGap:2*e.spacingMultiplier+"px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:`repeat(${Math.ceil(t.length/3)}, 1fr)`},"screen-large":{gridTemplateColumns:"repeat(4, 1fr)",gridTemplateRows:`repeat(${Math.ceil(t.length/4)}, 1fr)`}}),"ul"),x=Object(N.c)("Banner",({theme:e})=>({maxWidth:180*e.spacingMultiplier+"px",order:1,padding:`${e.spacingMultiplier}px ${2*e.spacingMultiplier}px ${2*e.spacingMultiplier}px`,"screen-medium":{padding:`0 ${4*e.spacingMultiplier}px ${2*e.spacingMultiplier}px`}}));F.defaultProps={designers:[],className:"",content:{}};var G,R,V=Object(k.i)(Object(T.b)((G=F,function(e){const t=Object(b.c)();return r.a.createElement(G,u()({},e,{config:t}))}))),U=a("vT52"),$=a("i6Nf"),W=a("Bhvi"),K=a("3xc0"),z=a("ms3b"),Y=a("Bqh6"),Z=a("VZt5"),Q=a("5Fjq"),q=a("Mjqa");const{getDesigners:J,getMetaData:X,getContent:ee}=$.c;function te(e,t){var a,n,r,s,l,i,o,g;const{error:u,loading:p,response:v}=e.daz.designers,b=Object(c.b)(e),{appState:{language:m,country:h},userState:{user:y}}=e,{routeKey:f}=t,N="SALEDAZ"===f,E=e.config.global.urlConfig.plp.construct,D=J(e,b,E,N),k=v&&v.status;if(!v||u)return{response:v||{},designers:D,responseError:u,responseStatus:k,prevPath:e.appState.prevPath,metaData:{brandId:{}},appState:e.appState,locale:b,isSalePage:N,loading:!0,user:y};const O=null==v||null===(a=v.designersWithSale)||void 0===a?void 0:a[0],C=N&&!O&&Object(Z.a)(e.config.global.urlConfig.azdesigners.construct,{LOCALE:b}),S=(null==e||null===(n=e.config)||void 0===n||null===(r=n.head)||void 0===r||null===(s=r.daz)||void 0===s?void 0:s.advertPosition)||0,I=(null==e||null===(l=e.config)||void 0===l||null===(i=l.head)||void 0===i||null===(o=i.daz)||void 0===o?void 0:o.favouriteDesignerEnabled)||!1,L=null==e||null===(g=e.auth)||void 0===g?void 0:g.uberToken,P=Object(d.a)(e.config,D);return{config:e.config,content:ee(e,N),designers:D,metaData:X(e.config,b,t.messages),schemaMetaData:P,appState:e.appState,locale:b,loading:p,responseError:u,responseStatus:k,prevPath:e.appState.prevPath,isSalePage:N,redirectUrl:C,advertPosition:S,favouriteDesignerEnabled:I,language:m,country:h,uberToken:L,user:y,shopKey:v.path}}const ae=(e,t)=>({fetchDesigners:(...a)=>e(t.action(...a)),fetchUserFromSF:(...t)=>e(Object(q.a)(...t))});let ne=o()({lpTag:{additionalSections:["daz"]}})(R=class extends n.Component{constructor(){super()}componentDidMount(){const{fetchDesigners:e,designers:t,responseError:a,favouriteDesignerEnabled:n,user:r,fetchUserFromSF:s}=this.props;this.props.shopKey!==this.props.routeKey&&e(),null!=t&&t.length||e({}),a||Object(K.a)(this.props),n&&!r&&s()}render(){var e;const{config:t,content:a,designers:l,loading:i,messages:o,metaData:c,schemaMetaData:d,isSalePage:g,location:u,redirectUrl:p,responseError:v,responseStatus:b,prevPath:m,tracking:h,locale:y,language:f,country:N,advertPosition:E,favouriteDesignerEnabled:D,user:k,uberToken:O}=this.props;return v?b>=400&&b<500?r.a.createElement(z.a,{code:b,displayMessage:o.error.notFound(),actionLabel:o.error.goBack(),prevPath:m}):r.a.createElement(Q.a,{messages:o,maxRetries:t.head.errorPage.maxRetries,backoff:t.head.errorPage.backoff,action:()=>this.props.fetchDesigners(),tracking:h}):p?r.a.createElement(s.a,{to:{pathname:p,search:u.search,state:{statusCode:302}}}):i?r.a.createElement(Y.a,null):r.a.createElement(n.Fragment,null,r.a.createElement(W.a,{schemaMetaData:d,metaData:c}),D&&k&&r.a.createElement(U.a,{messages:o,localStorageKey:"DAZFavouriteDesignerOverlayViewed"}),r.a.createElement(V,{content:a,designers:l,isSalePage:g,pageName:g?o.designersWithSale.pageName():o.designers.pageName(),internal_urls:["pdp","plp","azdesigners","whatsnew","saleazdesigners"],urlConfig:t.global.urlConfig,locale:y,advertPosition:E,language:f,country:N,favouriteDesignerEnabled:D,uberToken:O,preferenceId:"DESIGNERS",messages:o,user:k,tonMenswear:null===(e=t.head)||void 0===e?void 0:e.tonMenswear,url:u.pathname}))}})||R;var re=Object(l.connect)(te,ae)(ne)},VFcg:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),s=a("Ysnl"),l=a("8qMP"),i=a("o5EE"),o=a("W7HQ"),c=a.n(o),d=a("m1x9"),g=a("rd1g");const u=new s.a("SignIn0"),p=({messages:e,onClose:t,locale:a,redirect:s,designer:o,tracking:c,analytics:d})=>{const{favouriteDesigners:p}=e||{},{signIn:v}=p||{},{title:b=(()=>""),text:m=(()=>""),cta:h=(()=>"")}=v||{};return Object(n.useEffect)(()=>null==c?void 0:c.trackEvent(Object(g.c)(d,[o,"SIGN_IN_DISPLAY"]))),r.a.createElement("aside",{className:u()},t&&r.a.createElement("button",{className:u("close"),type:"button","aria-label":"close",onClick:()=>{t(),null==c||c.trackEvent(Object(g.c)(d,[o,"SIGN_IN_CLOSE"]))}}),b&&r.a.createElement("h3",{className:u("title")},b()),r.a.createElement("div",{className:u("copy")},m()),r.a.createElement(l.b,{type:"primary",onClick:()=>{null==c||c.trackEvent(Object(g.c)(d,[o,"SIGN_IN_ACCEPT"])),Object(i.c)(a,{redirect:s})},className:u("button")},h()))};p.defaultProps={header:null},t.a=Object(d.i)(c()()(p))},rd1g:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return b}));var n=a("m1x9"),r=a("wl/2");const s=e=>"designer list"===e?"designer a-z":e,l=(e,t)=>{var a,n;const{page:r={}}=e;return{event:"designer a-z - go to designer",effect:"navigate",attributes:{navDetails:t},category:{primaryCategory:null==r||null===(a=r.category)||void 0===a?void 0:a.pageType,subCategory:s(null==r||null===(n=r.category)||void 0===n?void 0:n.subCategory1)}}},i=(e,t)=>{var a,n;const{page:r={}}=e;return{event:`${s(r.category.subCategory1)} - go to letter ${t}`,effect:"anchor",category:{primaryCategory:null==r||null===(a=r.category)||void 0===a?void 0:a.pageType,subCategory:s(null==r||null===(n=r.category)||void 0===n?void 0:n.subCategory1)}}},o=(e,t)=>{const[a,n]=t,l=n?"remove":"add",{page:i={},pageType:o,categoryLabels:c}=e,d=(null==i?void 0:i.category)||Object(r.a)(c,o);return{event:l+" favourite designer",effect:("remove"==l?"un ":"")+"toggle designer",attributes:{position:a},category:{primaryCategory:null==d?void 0:d.pageType,subCategory:s(null==d?void 0:d.subCategory1)}}},c=(e,t)=>{const[a,n]=t,{page:l={},pageType:i,categoryLabels:o}=e,c=(null==l?void 0:l.category)||Object(r.a)(o,i);let d,g="";switch(n){case"SIGN_IN_DISPLAY":d="favourite designer - sign in",g="display sign in prompt";break;case"SIGN_IN_CLOSE":d="favourite designer - sign in dismiss",g="remove sign in prompt";break;case"SIGN_IN_ACCEPT":d="favourite designer - sign in accept",g="go to log in page"}return{event:d,effect:g,attributes:{position:a},category:{primaryCategory:null==c?void 0:c.pageType,subCategory:s(null==c?void 0:c.subCategory1)}}},d=(e,t)=>{const[a]=t,{page:n={},pageType:l,categoryLabels:i}=e,o=(null==n?void 0:n.category)||Object(r.a)(i,l);let c,d="";switch(a){case"ONBOARDING_DISPLAY":c="favourite designer - onboarding",d="display onboarding";break;case"ONBOARDING_CLOSE":c="favourite designer - onboarding dismiss",d="close onboarding";break;case"ONBOARDING_CONFIRM":c="favourite designer - onboarding opt in",d="close onboarding"}return{event:c,effect:d,category:{primaryCategory:null==o?void 0:o.pageType,subCategory:s(null==o?void 0:o.subCategory1)}}},g=(e={},t)=>Object(n.h)(l,e,t),u=(e={},t)=>Object(n.h)(i,e,t),p=(e={},t)=>Object(n.h)(o,e,t),v=(e={},t)=>Object(n.h)(c,e,t),b=(e={},t)=>Object(n.h)(d,e,t)},vT52:function(e,t,a){"use strict";var n=a("cDcd"),r=a.n(n),s=a("Ysnl"),l=a("Aq1p"),i=a("8qMP"),o=a("Jrh3"),c=a("W7HQ"),d=a.n(c),g=a("m1x9"),u=a("rd1g");const p=new s.a("Onboarding0");t.a=Object(g.i)(d()()(({messages:e,localStorageKey:t,tracking:a,analytics:s})=>{var c,d,g;const[v,b]=Object(n.useState)(!0);Object(n.useEffect)(()=>{if(t){const e=Object(o.a)("localStorage",t);b(e),!e&&(null==a||a.trackEvent(Object(u.b)(s,["ONBOARDING_DISPLAY"])))}},[]);const m=e=>{b(!0),Object(o.b)("localStorage",t,!0),"CLOSE"===e&&(null==a||a.trackEvent(Object(u.b)(s,["ONBOARDING_CLOSE"]))),"CONFIRM"===e&&(null==a||a.trackEvent(Object(u.b)(s,["ONBOARDING_CONFIRM"])))};return!v&&r.a.createElement("div",{className:p("null, null")},r.a.createElement(l.a,{onClose:()=>m("CLOSE"),handleBodyClick:()=>m("CLOSE"),className:{container:p("overlay"),content:p("content"),button:p("close")}},r.a.createElement("h2",{className:p("title")},null===(c=e.favouriteDesigners)||void 0===c?void 0:c.title()),r.a.createElement("p",{className:p("text")},null===(d=e.favouriteDesigners)||void 0===d?void 0:d.text()),r.a.createElement(i.b,{type:"secondary",onClick:()=>m("CONFIRM"),className:p("button")},null===(g=e.favouriteDesigners)||void 0===g?void 0:g.cta())))}))}}]);
//# sourceMappingURL=DAZContainerTON-90750299.js.map